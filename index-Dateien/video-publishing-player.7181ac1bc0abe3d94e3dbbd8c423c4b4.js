/*! For license information please see video-publishing-player.7181ac1bc0abe3d94e3dbbd8c423c4b4.js.LICENSE.txt */
(()=>{var t={23928:(t,e)=>{"use strict";var r="\\d+(?:[\\.,]\\d+)?",n="P(?:"+("("+r+"W)")+"|"+("("+r+"Y)?("+r+"M)?("+r+"D)?")+"(?:"+("T("+r+"H)?("+r+"M)?("+r+"S)?")+")?)",i=["weeks","years","months","days","hours","minutes","seconds"],o=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0}),a=new RegExp(n),s=e.K0=function(t){return t.match(a).slice(1).reduce((function(t,e,r){return t[i[r]]=parseFloat(e)||0,t}),{})},u=function(t,e){t=Object.assign({},o,t);var r=e?e.getTime():Date.now(),n=new Date(r);return n.setFullYear(n.getFullYear()+t.years),n.setMonth(n.getMonth()+t.months),n.setDate(n.getDate()+t.days),n.setHours(n.getHours()+t.hours),n.setMinutes(n.getMinutes()+t.minutes),n.setMilliseconds(n.getMilliseconds()+1e3*t.seconds),n.setDate(n.getDate()+7*t.weeks),n},c=e.Sy=function(t,e){t=Object.assign({},o,t);var r=e?e.getTime():Date.now(),n=new Date(r);return(u(t,n).getTime()-n.getTime())/1e3}},74528:(t,e,r)=>{var n=r(86904).default;function i(){"use strict";t.exports=i=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var e,r={},o=Object.prototype,a=o.hasOwnProperty,s=Object.defineProperty||function(t,e,r){t[e]=r.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",f=u.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(e){d=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),a=new D(n||[]);return s(o,"_invoke",{value:L(t,r,a)}),o}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=h;var v="suspendedStart",g="suspendedYield",y="executing",w="completed",m={};function b(){}function S(){}function j(){}var x={};d(x,c,(function(){return this}));var k=Object.getPrototypeOf,O=k&&k(k(W([])));O&&O!==o&&a.call(O,c)&&(x=O);var P=j.prototype=b.prototype=Object.create(x);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(i,o,s,u){var c=p(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==n(f)&&a.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,s,u)}),(function(t){r("throw",t,s,u)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,u)}))}u(c.arg)}var i;s(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var i=v;return function(o,a){if(i===y)throw new Error("Generator is already running");if(i===w){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=T(s,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===v)throw i=w,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=y;var c=p(t,r,n);if("normal"===c.type){if(i=n.done?w:g,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=w,n.method="throw",n.arg=c.arg)}}}function T(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function W(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(a.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(n(t)+" is not iterable")}return S.prototype=j,s(P,"constructor",{value:j,configurable:!0}),s(j,"constructor",{value:S,configurable:!0}),S.displayName=d(j,f,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,d(t,f,"GeneratorFunction")),t.prototype=Object.create(P),t},r.awrap=function(t){return{__await:t}},E(A.prototype),d(A.prototype,l,(function(){return this})),r.AsyncIterator=A,r.async=function(t,e,n,i,o){void 0===o&&(o=Promise);var a=new A(h(t,e,n,i),o);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(P),d(P,f,"Generator"),d(P,c,(function(){return this})),d(P,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=W,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(M),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=a.call(o,"catchLoc"),c=a.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:W(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),m}},r}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},86904:t=>{function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},78736:(t,e,r)=>{var n=r(74528)();t.exports=n;try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}(()=>{"use strict";function t(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:String(e)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function s(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var u=r(78736);function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function f(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function h(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,d(t,e,"get"))}function p(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,d(t,e,"set"),r),r}var v,g=r(23928);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o,a,s=[],u=!0,c=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(s.push(n.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t,e){for(var r={day:{pattern:"dd",value:"2-digit"},month:{pattern:"MM",value:"2-digit"},year:{pattern:"yyyy",value:"numeric"},hour:{pattern:"HH",value:"2-digit"},minute:{pattern:"mm",value:"2-digit"}},n={},i=0,a=Object.entries(r);i<a.length;i++){var s=y(a[i],2),u=s[0],c=s[1],l=c.pattern,f=c.value;e.includes(l)&&(n[u]=f)}for(var d=Object.fromEntries(new Intl.DateTimeFormat("de-DE",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){var n,i,a;n=t,i=e,a=r[e],(i=o(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({timeZone:"Europe/Berlin"},n)).formatToParts(t).map((function(t){return[t.type,t.value]}))),h=e,p=0,v=Object.entries(n);p<v.length;p++){var g=y(v[p],1)[0];h=h.replace(r[g].pattern,d[g])}return h}function b(t,e){S(t,e),e.add(t)}function S(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(t,e,r){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),r}function x(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var k=new WeakMap,O=new WeakSet,P=new WeakSet,E=new WeakSet,A=new WeakSet,L=new WeakSet,T=new WeakSet,_=new WeakSet,M=new WeakSet,D=new WeakSet,W=new WeakSet,C=function(){function t(e){var r,i,o;n(this,t),b(this,W),b(this,D),b(this,M),b(this,_),b(this,T),b(this,L),b(this,A),b(this,E),b(this,P),b(this,O),o={writable:!0,value:void 0},S(r=this,i=k),i.set(r,o),p(this,k,e)}var r;return s(t,[{key:"getConfig",value:(r=e(u.mark((function t(){var e,r;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!h(this,k).isAudio){t.next=9;break}return t.t0=x(this,P,I),t.t1=this,t.next=5,x(this,T,B).call(this);case 5:return t.t2=t.sent,t.abrupt("return",t.t0.call.call(t.t0,t.t1,t.t2));case 9:return t.next=11,Promise.all([x(this,T,B).call(this),x(this,L,z).call(this)]);case 11:return r=t.sent,t.abrupt("return",(e=x(this,O,N)).call.apply(e,[this].concat(f(r))));case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),t}();function N(t,e){var r=h(this,k).tracking?JSON.parse(h(this,k).tracking):null,n=x(this,M,V).call(this,t,r);n.doAutopause=!0,n.doAutoplay=!(!h(this,k).isLeadContent||!window.gujService.config.get("page.doAutoplayLeadContent")),n.media.poster=h(this,k).poster,n.media.manifests=Object.fromEntries(x(this,D,Y).call(this).entries());var i=x(this,_,R).call(this,e,n.media.duration);return void 0!==i&&(n.advertising=i),null!=r&&r.hiddenSources&&(n.media.editorialSources=r.hiddenSources.map((function(t){return t.join()}))),null!=r&&r.technicalTags&&(n.media.tags=r.technicalTags),n}function I(t){var e=h(this,k).tracking?JSON.parse(h(this,k).tracking):null,r=x(this,M,V).call(this,t,e);r.doAutoplay=!1,r.media.kicker=h(this,k).kicker;var n=x(this,D,Y).call(this);if(r.media.manifests=Object.fromEntries(n.entries()),!h(this,k).disableDownload&&window.gujService.config.get("page.isRestricted")&&window.gujService.config.get("loginState.hasFullAccess")){var i=x(this,W,K).call(this,n);i?r.media.downloadSrc=i:window.gujService.log.warn("Publishing Player","Audio download is allowed, but no progressive manifest exists for this media.")}return r}function F(){var t=j(v,v,H).call(v);return!h(this,k).disableAds&&"_noad"!==t&&!t.startsWith("spezial_")&&!1===window.gujService.config.get("loginState.hasPureAccess")}function G(t,e){var r,n,i;t&&(null===(i=window.MoltenBundle)||void 0===i||i.Video.setTargeting("vcd",(0,g.Sy)((0,g.K0)(t))));e(null!==(r=null===(n=window.MoltenBundle)||void 0===n?void 0:n.Video.getSXPKeysAsync())&&void 0!==r?r:window.gujService.config.get("video.ipd.defaultTargetParams"))}function z(){var t=this,e="AC_ready";return new Promise((function(r){try{var n;if(void 0!==(null===(n=window.MoltenBundle)||void 0===n?void 0:n.Video))window.gujService.log.info("Publishing Player","Got vdc directly."),x(t,A,G).call(t,h(t,k).length,r);else{var i=setTimeout((function(){window.gujService.log.warn("Publishing Player","Got default vdc by timeout."),window.removeEventListener(e,o),r(window.gujService.config.get("video.ipd.defaultTargetParams"))}),3e3),o=function(){window.clearTimeout(i),window.gujService.log.info("Publishing Player","Got vdc by event."),x(t,A,G).call(t,h(t,k).length,r)};window.addEventListener(e,o,{once:!0})}}catch(t){return window.gujService.log.warn("Publishing Player","Error retrieving VDC:",t),r(window.gujService.config.get("video.ipd.defaultTargetParams"))}}))}function B(){return new Promise((function(t){window.gujService.config.get("consent.privacyManagerId")&&!window.gujService.config.get("consent.isDisabled")||(window.gujService.log.warn("Publishing Player",window.gujService.config.get("consent.isDisabled")?"Consent is disabled.":"Consent is not configured."),t("")),window.gujService.config.get("consent.tcData").promise.then((function(e){t(e.tcString)}))}))}function H(){var t,e;return null!==(t=window.MoltenBundle)&&void 0!==t&&null!==(e=t.getClient)&&void 0!==e&&null!==(e=e.call(t))&&void 0!==e&&e.getZone?window.MoltenBundle.getClient().getZone():window.gujService.config.get("advertising.zone")}function R(t,e){if(x(this,E,F).call(this)){var r={};return h(this,k).homadClient&&(r.homad={clientConfig:h(this,k).homadClient,globalConfig:"https://s3.amazonaws.com/homad-global-configs.schneevonmorgen.com/global_config.json"}),r.share=window.gujService.config.get("video.ipd.share"),r.slots=[{type:"preRoll",url:"https://ad-ipd.sxp.smartclip.net/select"}],e>=3e4&&r.slots.push({type:"postRoll",url:"https://ad-ipd.sxp.smartclip.net/select"}),r.vdcParameter=t,r}}function V(t,e){var r={consent:t,media:{duration:h(this,k).length?1e3*(0,g.Sy)((0,g.K0)(h(this,k).length)):void 0,headline:h(this,k).headline,id:h(this,k).id},preset:"G+J",tenant:window.gujService.config.get("tenant.name")};return null!=e&&e.firstPublicationDate&&(r.media.publicationDate=m(new Date(null==e?void 0:e.firstPublicationDate),"yyyy-MM-dd")),r}function Y(){var t=new Map;if(!h(this,k).renditions)return t;var e=JSON.parse(h(this,k).renditions);for(var r in e)if(Object.hasOwn(e,r)){var n=void 0;switch(r){case"hls":n="hlsfairplayhd";break;case"dash":n="dashhd";break;case"progressive":n="progressive";break;default:continue}var i=[];i.push({priority:"main",url:e[r].url}),t.set(n,i)}return t}function K(t){var e=null==t?void 0:t.get("progressive");return e&&e[0].url||""}function J(t,e){Z(t,e),e.add(t)}function U(t,e,r){Z(t,e),e.set(t,r)}function Z(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function q(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}v=C;var X=new WeakMap,$=new WeakMap,Q=new WeakMap,tt=new WeakSet,et=new WeakSet,rt=new WeakSet,nt=function(){function t(e){n(this,t),J(this,rt),J(this,et),J(this,tt),U(this,X,{writable:!0,value:void 0}),U(this,$,{writable:!0,value:void 0}),U(this,Q,{writable:!0,value:void 0}),p(this,$,e)}var r;return s(t,[{key:"getStart",value:(r=e(u.mark((function t(){var e,r;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h(this,$).dataset.id,p(this,X,null===(e=h(this,$).closest(".video, .audio"))||void 0===e?void 0:e.querySelector('[content-id="'.concat(r,'-audio"]'))),!h(this,X)){t.next=7;break}return q(this,et,ot).call(this),t.next=6,q(this,tt,it).call(this);case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",0);case 8:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}]),t}();function it(){var t=this,r=new Promise((function(e){return h(t,X).addEventListener("loaded",(function(t){var r;window.gujService.log.info("Publishing player","x-position event dispatched:",t);var n=null===(r=t.detail)||void 0===r||null===(r=r.position)||void 0===r?void 0:r.position;"number"==typeof n&&e(n),e(0)}))}));return window.customElements.whenDefined("x-token").then(e(u.mark((function e(){var r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(t,$).dataset.length){e.next=3;break}return window.gujService.log.error("Publishing player","No x-position because property length is missing on player:"),e.abrupt("return");case 3:return p(t,Q,document.getElementById("positions-token")),e.next=6,h(t,Q).token;case 6:r=e.sent,h(t,X).setAttribute("csrf-token",r),h(t,X).removeAttribute("disabled"),h(t,X).setAttribute("total",(0,g.Sy)((0,g.K0)(h(t,$).dataset.length)));case 10:case"end":return e.stop()}}),e)})))),r}function ot(){var t=this;h(this,$).addEventListener("timeUpdate",(function(e){e instanceof CustomEvent&&q(t,rt,at).call(t,e)}))}function at(t){t.detail.isAd||h(this,X).setAttribute("position",t.detail.time)}function st(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}var ut=new WeakMap,ct=function(){function t(e){n(this,t),st(this,ut,{writable:!0,value:void 0}),p(this,ut,e)}return s(t,[{key:"load",value:function(){var t=this,e=h(this,ut).dataset.freeAccessible,r=e?Number(e):null;return 0===r||null===r?null:(h(this,ut).addEventListener("endOffset",(function(){window.gujService.eventObserver.dispatch("paywall-overlay:open-modal","true"===h(t,ut).dataset.isAudio?"PAYWALL_SHOW_AUDIO":"PAYWALL_SHOW_VIDEO")})),r)}}]),t}(),lt=function(){function t(){n(this,t)}return s(t,[{key:"init",value:function(t){0!==t.length&&t.forEach(function(){var t=e(u.mark((function t(e){var r,n,i,o;return u.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="true"===e.dataset.isAudio,r=n?window.viper.createAudioPlayer(e):window.viper.createVideoPlayer(e),t.prev=2,t.next=5,new C(e.dataset).getConfig();case 5:if(i=t.sent,!n){t.next=10;break}return t.next=9,new nt(e).getStart();case 9:i.startOffset=t.sent;case 10:void 0===e.dataset.freeAccessible||window.gujService.config.get("loginState.hasFullAccess")||"number"==typeof(o=new ct(e).load())&&(i.endOffset=o),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),window.gujService.log.error("Publishing player","Error creating config:",t.t0.message),e.classList.add("video__no-data","u-typo");case 17:if(i){t.next=19;break}return t.abrupt("return");case 19:r.load(i);case 20:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}())}}]),t}(),ft=window.gujService,dt=Array.from(document.querySelectorAll(".js-video-publishing-player"));dt&&ft&&!ft.config.get("page.isPrintView")&&!ft.isAlreadyExecuted("file:///usr/src/app/client/site/components/video/scripts/video-publishing-player.js")&&(new lt).init(dt)})()})();
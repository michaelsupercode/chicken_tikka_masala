"use strict";var foundation=foundation||{};foundation.plugin=foundation.plugin||{};foundation.plugin.npawAnalytics=foundation.plugin.npawAnalytics||{};foundation.plugin.npawAnalytics.bitmovin=(()=>{var an=Object.create;var wi=Object.defineProperty;var on=Object.getOwnPropertyDescriptor;var dn=Object.getOwnPropertyNames;var hn=Object.getPrototypeOf,ln=Object.prototype.hasOwnProperty;var un=(ne,re,Y)=>re in ne?wi(ne,re,{enumerable:!0,configurable:!0,writable:!0,value:Y}):ne[re]=Y;var Ii=(ne,re)=>()=>(re||ne((re={exports:{}}).exports,re),re.exports),cn=(ne,re)=>{for(var Y in re)wi(ne,Y,{get:re[Y],enumerable:!0})},Hs=(ne,re,Y,X)=>{if(re&&typeof re=="object"||typeof re=="function")for(let K of dn(re))!ln.call(ne,K)&&K!==Y&&wi(ne,K,{get:()=>re[K],enumerable:!(X=on(re,K))||X.enumerable});return ne};var Gt=(ne,re,Y)=>(Y=ne!=null?an(hn(ne)):{},Hs(re||!ne||!ne.__esModule?wi(Y,"default",{value:ne,enumerable:!0}):Y,ne)),pn=ne=>Hs(wi({},"__esModule",{value:!0}),ne);var Jt=(ne,re,Y)=>un(ne,typeof re!="symbol"?re+"":re,Y);var Xs=Ii(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.ErrorCodes=void 0;Mi.ErrorCodes={FALLBACK_DRM_ERROR:1e4,AUTHENTICATION_FAILED:11e3,TOKEN_PROBLEM:11100,TOKEN_INVALID:11110,TOKEN_MISSING:11120,PERMISSION_PROBLEM:11200,PAY_PERMISSION_MISSING:11210,DOWNLOAD_PERMISSION_MISSING:11220,RIGHTS_RESTRICTIONS_NOT_MET:12e3,GEOBLOCKING:12100,USING_OF_AN_ANONYM_PROXY_OR_VPN:12110,LOCATION_NOT_ALLOWED:12120,HDCP_REQUIREMENT_NOT_FULFILLED:12300,DEVICE_IS_DENYLISTED_BY_GOOGLE_FOR_WIDEVINE:12400,LICENSE:13e3,LICENSE_EXPIRED:13100,LICENSE_NOT_PERSISTABLE:13200,LICENSE_ENVIRONMENT:13300,INVALID_MISSING_FAIRPLAY_CERTIFICATE_URL:13310,INVALID_FAIRPLAY_CERTIFICATE_DATA:13320,CONTENT:2e4,MEDIA_FORMAT_UNSUPPORTED:20100,AVAILABILITY:21e3,CONTENT_NOT_AVAILABLE:21100,SOURCE_MATERIAL_NOT_AVAILABLE:21110,CONTENT_NOT_DOWNLOADABLE:21200,CLIENT:3e4,NO_PLAYABLE_TRACK_LEFT:30100,NETWORK_PROBLEM:31e3,BAD_INTERNET_CONNECTION:31110,PLATFORM:32e3,UNSUPPORTED_DRM:32100,NO_DRM_OPTION_AVAILABLE_ANY_MORE:32110,DRM_NOT_FULLY_IMPLEMENTED:32120,UNSUPPORTED_STREAM_TECH:32200,NO_MANIFESTS_PLAYABLE:32210,MANIFEST_NOT_SUPPORTED:32220,MAX_CONCURRENT_STREAMS_REACHED:33100,PLAYERCONFIG_PROBLEM:34e3,ADBLOCKER_DETECTED:34100,VIDEOSOURCES_CONFIG:34200,NO_MANIFEST_IN_CONFIG:34210,MISSING_PLAYER_ELEMENT_OR_ID:34300,FAULTY_ADVERTISING_ISLAND_CONFIGURED:34510,PLAYER_ALREADY_DESTROYED:35100,FAULTY_SETUP_FOR_NON_LINEAR_ADVERTISING:35210,MISSING_USER_INTERACTION:35310,OPERATION_ABORTED:35400,OPERATION_ABORTED_PLAY:35410,OPERATION_ABORTED_LOAD:35420,OPERATION_ABORTED_POWER_SAVING:35430,OPERATION_ABORTED_VIDEO_REMOVED:35440,DEPENDENCY:4e4,V3_UNAVAILABLE:41100,ENTITLEMENT_UNAVAILABLE:41200,DB_UNAVAILABLE:41300,GOOGLE_WIDEVINE_UNAVAILABLE:41400,MANIFEST_API_UNAVAILABLE:41500,OTHER_UNAVAILABLE:41600,ATV_SCHEDULER_UNAVAILABLE:41700,STUS_UNAVAILABLE:41800,ATV_SCHEDULER_REQUEST_FAILED_HTTP_STATUS_CODE_4XX:42700,ATV_SCHEDULER_REQUEST_FAILED_HTTP_STATUS_CODE_5XX:42710,STUS_RETURNS_4XX_ERROR:42800,ATV_SCHEDULER_REQUEST_TIMED_OUT:43700,INTERNAL_PLAYER_ERROR:5e4,UNEXPECTED_EVENT:51e3,PLAYER_DEPENDENCIES_COULD_NOT_BE_LOADED:52110,PLAYER_DEPENDENCY_MISSING:52120,PLAYER_DEPENDENCY_INVALID:52130,ERROR_NOT_TREATED:59e3}});var ei=Ii(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.ErrorCodes=void 0;var gn=Xs();Object.defineProperty(xi,"ErrorCodes",{enumerable:!0,get:function(){return gn.ErrorCodes}})});var Ks=Ii((Ra,Ys)=>{var Ri;typeof window!="undefined"?Ri=window:typeof global!="undefined"?Ri=global:typeof self!="undefined"?Ri=self:Ri={};Ys.exports=Ri});var Qs=Ii((Fi,bs)=>{(function(ne,re){typeof Fi=="object"&&typeof bs=="object"?bs.exports=re():typeof define=="function"&&define.amd?define([],re):typeof Fi=="object"?Fi.NpawPlugin=re():ne.NpawPlugin=re()})(self,()=>(()=>{var ne={525:(K,V)=>{"use strict";function d(R,T){return T===void 0&&(T=Object),T&&typeof T.freeze=="function"?T.freeze(R):R}var g=d({HTML:"text/html",isHTML:function(R){return R===g.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),u=d({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(R){return R===u.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});V.find=function(R,T,c){if(c===void 0&&(c=Array.prototype),R&&typeof c.find=="function")return c.find.call(R,T);for(var m=0;m<R.length;m++)if(Object.prototype.hasOwnProperty.call(R,m)){var h=R[m];if(T.call(void 0,h,m,R))return h}},V.freeze=d,V.MIME_TYPE=g,V.NAMESPACE=u},8633:(K,V,d)=>{var g=d(525),u=d(1129),R=d(6598),T=d(2133),c=u.DOMImplementation,m=g.NAMESPACE,h=T.ParseError,f=T.XMLReader;function P(b){this.options=b||{locator:{}}}function G(){this.cdata=!1}function D(b,M){M.lineNumber=b.lineNumber,M.columnNumber=b.columnNumber}function v(b){if(b)return`
@`+(b.systemId||"")+"#[line:"+b.lineNumber+",col:"+b.columnNumber+"]"}function y(b,M,H){return typeof b=="string"?b.substr(M,H):b.length>=M+H||M?new java.lang.String(b,M,H)+"":b}function F(b,M){b.currentElement?b.currentElement.appendChild(M):b.doc.appendChild(M)}P.prototype.parseFromString=function(b,M){var H=this.options,s=new f,i=H.domBuilder||new G,a=H.errorHandler,S=H.locator,_=H.xmlns||{},O=/\/x?html?$/.test(M),ae=O?R.HTML_ENTITIES:R.XML_ENTITIES;return S&&i.setDocumentLocator(S),s.errorHandler=function(he,Ae,ye){if(!he){if(Ae instanceof G)return Ae;he=Ae}var we={},xe=he instanceof Function;function Xe(Ge){var Qe=he[Ge];!Qe&&xe&&(Qe=he.length==2?function(fe){he(Ge,fe)}:he),we[Ge]=Qe&&function(fe){Qe("[xmldom "+Ge+"]	"+fe+v(ye))}||function(){}}return ye=ye||{},Xe("warning"),Xe("error"),Xe("fatalError"),we}(a,i,S),s.domBuilder=H.domBuilder||i,O&&(_[""]=m.HTML),_.xml=_.xml||m.XML,b&&typeof b=="string"?s.parse(b,_,ae):s.errorHandler.error("invalid doc source"),i.doc},G.prototype={startDocument:function(){this.doc=new c().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(b,M,H,s){var i=this.doc,a=i.createElementNS(b,H||M),S=s.length;F(this,a),this.currentElement=a,this.locator&&D(this.locator,a);for(var _=0;_<S;_++){b=s.getURI(_);var O=s.getValue(_),ae=(H=s.getQName(_),i.createAttributeNS(b,H));this.locator&&D(s.getLocator(_),ae),ae.value=ae.nodeValue=O,a.setAttributeNode(ae)}},endElement:function(b,M,H){var s=this.currentElement;s.tagName,this.currentElement=s.parentNode},startPrefixMapping:function(b,M){},endPrefixMapping:function(b){},processingInstruction:function(b,M){var H=this.doc.createProcessingInstruction(b,M);this.locator&&D(this.locator,H),F(this,H)},ignorableWhitespace:function(b,M,H){},characters:function(b,M,H){if(b=y.apply(this,arguments)){if(this.cdata)var s=this.doc.createCDATASection(b);else s=this.doc.createTextNode(b);this.currentElement?this.currentElement.appendChild(s):/^\s*$/.test(b)&&this.doc.appendChild(s),this.locator&&D(this.locator,s)}},skippedEntity:function(b){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(b){(this.locator=b)&&(b.lineNumber=0)},comment:function(b,M,H){b=y.apply(this,arguments);var s=this.doc.createComment(b);this.locator&&D(this.locator,s),F(this,s)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(b,M,H){var s=this.doc.implementation;if(s&&s.createDocumentType){var i=s.createDocumentType(b,M,H);this.locator&&D(this.locator,i),F(this,i),this.doc.doctype=i}},warning:function(b){console.warn("[xmldom warning]	"+b,v(this.locator))},error:function(b){console.error("[xmldom error]	"+b,v(this.locator))},fatalError:function(b){throw new h(b,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(b){G.prototype[b]=function(){return null}}),V.DOMParser=P,u.DOMImplementation,u.XMLSerializer},1129:(K,V,d)=>{var g=d(525),u=g.find,R=g.NAMESPACE;function T(U){return U!==""}function c(U,q){return U.hasOwnProperty(q)||(U[q]=!0),U}function m(U){if(!U)return[];var q=function(ie){return ie?ie.split(/[\t\n\f\r ]+/).filter(T):[]}(U);return Object.keys(q.reduce(c,{}))}function h(U,q){for(var ie in U)Object.prototype.hasOwnProperty.call(U,ie)&&(q[ie]=U[ie])}function f(U,q){var ie=U.prototype;if(!(ie instanceof q)){let Ce=function(){};var pe=Ce;Ce.prototype=q.prototype,h(ie,Ce=new Ce),U.prototype=ie=Ce}ie.constructor!=U&&(typeof U!="function"&&console.error("unknown Class:"+U),ie.constructor=U)}var P={},G=P.ELEMENT_NODE=1,D=P.ATTRIBUTE_NODE=2,v=P.TEXT_NODE=3,y=P.CDATA_SECTION_NODE=4,F=P.ENTITY_REFERENCE_NODE=5,b=P.ENTITY_NODE=6,M=P.PROCESSING_INSTRUCTION_NODE=7,H=P.COMMENT_NODE=8,s=P.DOCUMENT_NODE=9,i=P.DOCUMENT_TYPE_NODE=10,a=P.DOCUMENT_FRAGMENT_NODE=11,S=P.NOTATION_NODE=12,_={},O={},ae=(_.INDEX_SIZE_ERR=(O[1]="Index size error",1),_.DOMSTRING_SIZE_ERR=(O[2]="DOMString size error",2),_.HIERARCHY_REQUEST_ERR=(O[3]="Hierarchy request error",3)),he=(_.WRONG_DOCUMENT_ERR=(O[4]="Wrong document",4),_.INVALID_CHARACTER_ERR=(O[5]="Invalid character",5),_.NO_DATA_ALLOWED_ERR=(O[6]="No data allowed",6),_.NO_MODIFICATION_ALLOWED_ERR=(O[7]="No modification allowed",7),_.NOT_FOUND_ERR=(O[8]="Not found",8)),Ae=(_.NOT_SUPPORTED_ERR=(O[9]="Not supported",9),_.INUSE_ATTRIBUTE_ERR=(O[10]="Attribute in use",10));function ye(U,q){if(q instanceof Error)var ie=q;else ie=this,Error.call(this,O[U]),this.message=O[U],Error.captureStackTrace&&Error.captureStackTrace(this,ye);return ie.code=U,q&&(this.message=this.message+": "+q),ie}function we(){}function xe(U,q){this._node=U,this._refresh=q,Xe(this)}function Xe(U){var q=U._node._inc||U._node.ownerDocument._inc;if(U._inc!==q){var ie=U._refresh(U._node);if(ti(U,"length",ie.length),!U.$$length||ie.length<U.$$length)for(var pe=ie.length;pe in U;pe++)Object.prototype.hasOwnProperty.call(U,pe)&&delete U[pe];h(ie,U),U._inc=q}}function Ge(){}function Qe(U,q){for(var ie=U.length;ie--;)if(U[ie]===q)return ie}function fe(U,q,ie,pe){if(pe?q[Qe(q,pe)]=ie:q[q.length++]=ie,U){ie.ownerElement=U;var Ce=U.ownerDocument;Ce&&(pe&&Oe(Ce,U,pe),function(ze,dt,Ke){ze&&ze._inc++,Ke.namespaceURI===R.XMLNS&&(dt._nsMap[Ke.prefix?Ke.localName:""]=Ke.value)}(Ce,U,ie))}}function Q(U,q,ie){var pe=Qe(q,ie);if(!(pe>=0))throw new ye(he,new Error(U.tagName+"@"+ie));for(var Ce=q.length-1;pe<Ce;)q[pe]=q[++pe];if(q.length=Ce,U){var ze=U.ownerDocument;ze&&(Oe(ze,U,ie),ie.ownerElement=null)}}function $(){}function ee(){}function oe(U){return(U=="<"?"&lt;":U==">"&&"&gt;")||U=="&"&&"&amp;"||U=='"'&&"&quot;"||"&#"+U.charCodeAt()+";"}function ve(U,q){if(q(U))return!0;if(U=U.firstChild)do if(ve(U,q))return!0;while(U=U.nextSibling)}function Se(){this.ownerDocument=this}function Oe(U,q,ie,pe){U&&U._inc++,ie.namespaceURI===R.XMLNS&&delete q._nsMap[ie.prefix?ie.localName:""]}function De(U,q,ie){if(U&&U._inc){U._inc++;var pe=q.childNodes;if(ie)pe[pe.length++]=ie;else{for(var Ce=q.firstChild,ze=0;Ce;)pe[ze++]=Ce,Ce=Ce.nextSibling;pe.length=ze,delete pe[pe.length]}}}function Me(U,q){var ie=q.previousSibling,pe=q.nextSibling;return ie?ie.nextSibling=pe:U.firstChild=pe,pe?pe.previousSibling=ie:U.lastChild=ie,q.parentNode=null,q.previousSibling=null,q.nextSibling=null,De(U.ownerDocument,U),q}function je(U){return U&&U.nodeType===ee.DOCUMENT_TYPE_NODE}function le(U){return U&&U.nodeType===ee.ELEMENT_NODE}function te(U){return U&&U.nodeType===ee.TEXT_NODE}function be(U,q){var ie=U.childNodes||[];if(u(ie,le)||je(q))return!1;var pe=u(ie,je);return!(q&&pe&&ie.indexOf(pe)>ie.indexOf(q))}function Ne(U,q){var ie=U.childNodes||[];if(u(ie,function(Ce){return le(Ce)&&Ce!==q}))return!1;var pe=u(ie,je);return!(q&&pe&&ie.indexOf(pe)>ie.indexOf(q))}function Ee(U,q,ie){var pe=U.childNodes||[],Ce=q.childNodes||[];if(q.nodeType===ee.DOCUMENT_FRAGMENT_NODE){var ze=Ce.filter(le);if(ze.length>1||u(Ce,te))throw new ye(ae,"More than one element or text in fragment");if(ze.length===1&&!be(U,ie))throw new ye(ae,"Element in fragment can not be inserted before doctype")}if(le(q)&&!be(U,ie))throw new ye(ae,"Only one element can be added and only after doctype");if(je(q)){if(u(pe,je))throw new ye(ae,"Only one doctype is allowed");var dt=u(pe,le);if(ie&&pe.indexOf(dt)<pe.indexOf(ie))throw new ye(ae,"Doctype can only be inserted before an element");if(!ie&&dt)throw new ye(ae,"Doctype can not be appended since element is present")}}function Fe(U,q,ie){var pe=U.childNodes||[],Ce=q.childNodes||[];if(q.nodeType===ee.DOCUMENT_FRAGMENT_NODE){var ze=Ce.filter(le);if(ze.length>1||u(Ce,te))throw new ye(ae,"More than one element or text in fragment");if(ze.length===1&&!Ne(U,ie))throw new ye(ae,"Element in fragment can not be inserted before doctype")}if(le(q)&&!Ne(U,ie))throw new ye(ae,"Only one element can be added and only after doctype");if(je(q)){if(u(pe,function(Ke){return je(Ke)&&Ke!==ie}))throw new ye(ae,"Only one doctype is allowed");var dt=u(pe,le);if(ie&&pe.indexOf(dt)<pe.indexOf(ie))throw new ye(ae,"Doctype can only be inserted before an element")}}function me(U,q,ie,pe){(function(gt,Et,yt){if(!function(mt){return mt&&(mt.nodeType===ee.DOCUMENT_NODE||mt.nodeType===ee.DOCUMENT_FRAGMENT_NODE||mt.nodeType===ee.ELEMENT_NODE)}(gt))throw new ye(ae,"Unexpected parent node type "+gt.nodeType);if(yt&&yt.parentNode!==gt)throw new ye(he,"child not in parent");if(!function(mt){return mt&&(le(mt)||te(mt)||je(mt)||mt.nodeType===ee.DOCUMENT_FRAGMENT_NODE||mt.nodeType===ee.COMMENT_NODE||mt.nodeType===ee.PROCESSING_INSTRUCTION_NODE)}(Et)||je(Et)&&gt.nodeType!==ee.DOCUMENT_NODE)throw new ye(ae,"Unexpected node type "+Et.nodeType+" for parent node type "+gt.nodeType)})(U,q,ie),U.nodeType===ee.DOCUMENT_NODE&&(pe||Ee)(U,q,ie);var Ce=q.parentNode;if(Ce&&Ce.removeChild(q),q.nodeType===a){var ze=q.firstChild;if(ze==null)return q;var dt=q.lastChild}else ze=dt=q;var Ke=ie?ie.previousSibling:U.lastChild;ze.previousSibling=Ke,dt.nextSibling=ie,Ke?Ke.nextSibling=ze:U.firstChild=ze,ie==null?U.lastChild=dt:ie.previousSibling=dt;do ze.parentNode=U;while(ze!==dt&&(ze=ze.nextSibling));return De(U.ownerDocument||U,U),q.nodeType==a&&(q.firstChild=q.lastChild=null),q}function _e(){this._nsMap={}}function l(){}function E(){}function L(){}function z(){}function Z(){}function de(){}function ce(){}function Re(){}function Ie(){}function nt(){}function Ye(){}function Je(){}function at(U,q){var ie=[],pe=this.nodeType==9&&this.documentElement||this,Ce=pe.prefix,ze=pe.namespaceURI;if(ze&&Ce==null&&(Ce=pe.lookupPrefix(ze))==null)var dt=[{namespace:ze,prefix:null}];return Dt(this,ie,U,q,dt),ie.join("")}function ht(U,q,ie){var pe=U.prefix||"",Ce=U.namespaceURI;if(!Ce||pe==="xml"&&Ce===R.XML||Ce===R.XMLNS)return!1;for(var ze=ie.length;ze--;){var dt=ie[ze];if(dt.prefix===pe)return dt.namespace!==Ce}return!0}function pt(U,q,ie){U.push(" ",q,'="',ie.replace(/[<&"]/g,oe),'"')}function Dt(U,q,ie,pe,Ce){if(Ce||(Ce=[]),pe){if(!(U=pe(U)))return;if(typeof U=="string")return void q.push(U)}switch(U.nodeType){case G:var ze=U.attributes,dt=ze.length,Ke=U.firstChild,gt=U.tagName,Et=gt;if(!(ie=R.isHTML(U.namespaceURI)||ie)&&!U.prefix&&U.namespaceURI){for(var yt,mt=0;mt<ze.length;mt++)if(ze.item(mt).name==="xmlns"){yt=ze.item(mt).value;break}if(!yt){for(var ot=Ce.length-1;ot>=0;ot--)if((Lt=Ce[ot]).prefix===""&&Lt.namespace===U.namespaceURI){yt=Lt.namespace;break}}if(yt!==U.namespaceURI)for(ot=Ce.length-1;ot>=0;ot--){var Lt;if((Lt=Ce[ot]).namespace===U.namespaceURI){Lt.prefix&&(Et=Lt.prefix+":"+gt);break}}}q.push("<",Et);for(var Nt=0;Nt<dt;Nt++)(wt=ze.item(Nt)).prefix=="xmlns"?Ce.push({prefix:wt.localName,namespace:wt.value}):wt.nodeName=="xmlns"&&Ce.push({prefix:"",namespace:wt.value});for(Nt=0;Nt<dt;Nt++){var wt,Xt,vt;ht(wt=ze.item(Nt),0,Ce)&&(pt(q,(Xt=wt.prefix||"")?"xmlns:"+Xt:"xmlns",vt=wt.namespaceURI),Ce.push({prefix:Xt,namespace:vt})),Dt(wt,q,ie,pe,Ce)}if(gt===Et&&ht(U,0,Ce)&&(pt(q,(Xt=U.prefix||"")?"xmlns:"+Xt:"xmlns",vt=U.namespaceURI),Ce.push({prefix:Xt,namespace:vt})),Ke||ie&&!/^(?:meta|link|img|br|hr|input)$/i.test(gt)){if(q.push(">"),ie&&/^script$/i.test(gt))for(;Ke;)Ke.data?q.push(Ke.data):Dt(Ke,q,ie,pe,Ce.slice()),Ke=Ke.nextSibling;else for(;Ke;)Dt(Ke,q,ie,pe,Ce.slice()),Ke=Ke.nextSibling;q.push("</",Et,">")}else q.push("/>");return;case s:case a:for(Ke=U.firstChild;Ke;)Dt(Ke,q,ie,pe,Ce.slice()),Ke=Ke.nextSibling;return;case D:return pt(q,U.name,U.value);case v:return q.push(U.data.replace(/[<&]/g,oe).replace(/]]>/g,"]]&gt;"));case y:return q.push("<![CDATA[",U.data,"]]>");case H:return q.push("<!--",U.data,"-->");case i:var ii=U.publicId,Mt=U.systemId;if(q.push("<!DOCTYPE ",U.name),ii)q.push(" PUBLIC ",ii),Mt&&Mt!="."&&q.push(" ",Mt),q.push(">");else if(Mt&&Mt!=".")q.push(" SYSTEM ",Mt,">");else{var Kt=U.internalSubset;Kt&&q.push(" [",Kt,"]"),q.push(">")}return;case M:return q.push("<?",U.target," ",U.data,"?>");case F:return q.push("&",U.nodeName,";");default:q.push("??",U.nodeName)}}function oi(U,q,ie){var pe;switch(q.nodeType){case G:(pe=q.cloneNode(!1)).ownerDocument=U;case a:break;case D:ie=!0}if(pe||(pe=q.cloneNode(!1)),pe.ownerDocument=U,pe.parentNode=null,ie)for(var Ce=q.firstChild;Ce;)pe.appendChild(oi(U,Ce,ie)),Ce=Ce.nextSibling;return pe}function Yt(U,q,ie){var pe=new q.constructor;for(var Ce in q)if(Object.prototype.hasOwnProperty.call(q,Ce)){var ze=q[Ce];typeof ze!="object"&&ze!=pe[Ce]&&(pe[Ce]=ze)}switch(q.childNodes&&(pe.childNodes=new we),pe.ownerDocument=U,pe.nodeType){case G:var dt=q.attributes,Ke=pe.attributes=new Ge,gt=dt.length;Ke._ownerElement=pe;for(var Et=0;Et<gt;Et++)pe.setAttributeNode(Yt(U,dt.item(Et),!0));break;case D:ie=!0}if(ie)for(var yt=q.firstChild;yt;)pe.appendChild(Yt(U,yt,ie)),yt=yt.nextSibling;return pe}function ti(U,q,ie){U[q]=ie}_.INVALID_STATE_ERR=(O[11]="Invalid state",11),_.SYNTAX_ERR=(O[12]="Syntax error",12),_.INVALID_MODIFICATION_ERR=(O[13]="Invalid modification",13),_.NAMESPACE_ERR=(O[14]="Invalid namespace",14),_.INVALID_ACCESS_ERR=(O[15]="Invalid access",15),ye.prototype=Error.prototype,h(_,ye),we.prototype={length:0,item:function(U){return U>=0&&U<this.length?this[U]:null},toString:function(U,q){for(var ie=[],pe=0;pe<this.length;pe++)Dt(this[pe],ie,U,q);return ie.join("")},filter:function(U){return Array.prototype.filter.call(this,U)},indexOf:function(U){return Array.prototype.indexOf.call(this,U)}},xe.prototype.item=function(U){return Xe(this),this[U]||null},f(xe,we),Ge.prototype={length:0,item:we.prototype.item,getNamedItem:function(U){for(var q=this.length;q--;){var ie=this[q];if(ie.nodeName==U)return ie}},setNamedItem:function(U){var q=U.ownerElement;if(q&&q!=this._ownerElement)throw new ye(Ae);var ie=this.getNamedItem(U.nodeName);return fe(this._ownerElement,this,U,ie),ie},setNamedItemNS:function(U){var q,ie=U.ownerElement;if(ie&&ie!=this._ownerElement)throw new ye(Ae);return q=this.getNamedItemNS(U.namespaceURI,U.localName),fe(this._ownerElement,this,U,q),q},removeNamedItem:function(U){var q=this.getNamedItem(U);return Q(this._ownerElement,this,q),q},removeNamedItemNS:function(U,q){var ie=this.getNamedItemNS(U,q);return Q(this._ownerElement,this,ie),ie},getNamedItemNS:function(U,q){for(var ie=this.length;ie--;){var pe=this[ie];if(pe.localName==q&&pe.namespaceURI==U)return pe}return null}},$.prototype={hasFeature:function(U,q){return!0},createDocument:function(U,q,ie){var pe=new Se;if(pe.implementation=this,pe.childNodes=new we,pe.doctype=ie||null,ie&&pe.appendChild(ie),q){var Ce=pe.createElementNS(U,q);pe.appendChild(Ce)}return pe},createDocumentType:function(U,q,ie){var pe=new de;return pe.name=U,pe.nodeName=U,pe.publicId=q||"",pe.systemId=ie||"",pe}},ee.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(U,q){return me(this,U,q)},replaceChild:function(U,q){me(this,U,q,Fe),q&&this.removeChild(q)},removeChild:function(U){return Me(this,U)},appendChild:function(U){return this.insertBefore(U,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(U){return Yt(this.ownerDocument||this,this,U)},normalize:function(){for(var U=this.firstChild;U;){var q=U.nextSibling;q&&q.nodeType==v&&U.nodeType==v?(this.removeChild(q),U.appendData(q.data)):(U.normalize(),U=q)}},isSupported:function(U,q){return this.ownerDocument.implementation.hasFeature(U,q)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(U){for(var q=this;q;){var ie=q._nsMap;if(ie){for(var pe in ie)if(Object.prototype.hasOwnProperty.call(ie,pe)&&ie[pe]===U)return pe}q=q.nodeType==D?q.ownerDocument:q.parentNode}return null},lookupNamespaceURI:function(U){for(var q=this;q;){var ie=q._nsMap;if(ie&&U in ie&&Object.prototype.hasOwnProperty.call(ie,U))return ie[U];q=q.nodeType==D?q.ownerDocument:q.parentNode}return null},isDefaultNamespace:function(U){return this.lookupPrefix(U)==null}},h(P,ee),h(P,ee.prototype),Se.prototype={nodeName:"#document",nodeType:s,doctype:null,documentElement:null,_inc:1,insertBefore:function(U,q){if(U.nodeType==a){for(var ie=U.firstChild;ie;){var pe=ie.nextSibling;this.insertBefore(ie,q),ie=pe}return U}return me(this,U,q),U.ownerDocument=this,this.documentElement===null&&U.nodeType===G&&(this.documentElement=U),U},removeChild:function(U){return this.documentElement==U&&(this.documentElement=null),Me(this,U)},replaceChild:function(U,q){me(this,U,q,Fe),U.ownerDocument=this,q&&this.removeChild(q),le(U)&&(this.documentElement=U)},importNode:function(U,q){return oi(this,U,q)},getElementById:function(U){var q=null;return ve(this.documentElement,function(ie){if(ie.nodeType==G&&ie.getAttribute("id")==U)return q=ie,!0}),q},getElementsByClassName:function(U){var q=m(U);return new xe(this,function(ie){var pe=[];return q.length>0&&ve(ie.documentElement,function(Ce){if(Ce!==ie&&Ce.nodeType===G){var ze=Ce.getAttribute("class");if(ze){var dt=U===ze;if(!dt){var Ke=m(ze);dt=q.every((gt=Ke,function(Et){return gt&&gt.indexOf(Et)!==-1}))}dt&&pe.push(Ce)}}var gt}),pe})},createElement:function(U){var q=new _e;return q.ownerDocument=this,q.nodeName=U,q.tagName=U,q.localName=U,q.childNodes=new we,(q.attributes=new Ge)._ownerElement=q,q},createDocumentFragment:function(){var U=new nt;return U.ownerDocument=this,U.childNodes=new we,U},createTextNode:function(U){var q=new L;return q.ownerDocument=this,q.appendData(U),q},createComment:function(U){var q=new z;return q.ownerDocument=this,q.appendData(U),q},createCDATASection:function(U){var q=new Z;return q.ownerDocument=this,q.appendData(U),q},createProcessingInstruction:function(U,q){var ie=new Ye;return ie.ownerDocument=this,ie.tagName=ie.nodeName=ie.target=U,ie.nodeValue=ie.data=q,ie},createAttribute:function(U){var q=new l;return q.ownerDocument=this,q.name=U,q.nodeName=U,q.localName=U,q.specified=!0,q},createEntityReference:function(U){var q=new Ie;return q.ownerDocument=this,q.nodeName=U,q},createElementNS:function(U,q){var ie=new _e,pe=q.split(":"),Ce=ie.attributes=new Ge;return ie.childNodes=new we,ie.ownerDocument=this,ie.nodeName=q,ie.tagName=q,ie.namespaceURI=U,pe.length==2?(ie.prefix=pe[0],ie.localName=pe[1]):ie.localName=q,Ce._ownerElement=ie,ie},createAttributeNS:function(U,q){var ie=new l,pe=q.split(":");return ie.ownerDocument=this,ie.nodeName=q,ie.name=q,ie.namespaceURI=U,ie.specified=!0,pe.length==2?(ie.prefix=pe[0],ie.localName=pe[1]):ie.localName=q,ie}},f(Se,ee),_e.prototype={nodeType:G,hasAttribute:function(U){return this.getAttributeNode(U)!=null},getAttribute:function(U){var q=this.getAttributeNode(U);return q&&q.value||""},getAttributeNode:function(U){return this.attributes.getNamedItem(U)},setAttribute:function(U,q){var ie=this.ownerDocument.createAttribute(U);ie.value=ie.nodeValue=""+q,this.setAttributeNode(ie)},removeAttribute:function(U){var q=this.getAttributeNode(U);q&&this.removeAttributeNode(q)},appendChild:function(U){return U.nodeType===a?this.insertBefore(U,null):function(q,ie){return ie.parentNode&&ie.parentNode.removeChild(ie),ie.parentNode=q,ie.previousSibling=q.lastChild,ie.nextSibling=null,ie.previousSibling?ie.previousSibling.nextSibling=ie:q.firstChild=ie,q.lastChild=ie,De(q.ownerDocument,q,ie),ie}(this,U)},setAttributeNode:function(U){return this.attributes.setNamedItem(U)},setAttributeNodeNS:function(U){return this.attributes.setNamedItemNS(U)},removeAttributeNode:function(U){return this.attributes.removeNamedItem(U.nodeName)},removeAttributeNS:function(U,q){var ie=this.getAttributeNodeNS(U,q);ie&&this.removeAttributeNode(ie)},hasAttributeNS:function(U,q){return this.getAttributeNodeNS(U,q)!=null},getAttributeNS:function(U,q){var ie=this.getAttributeNodeNS(U,q);return ie&&ie.value||""},setAttributeNS:function(U,q,ie){var pe=this.ownerDocument.createAttributeNS(U,q);pe.value=pe.nodeValue=""+ie,this.setAttributeNode(pe)},getAttributeNodeNS:function(U,q){return this.attributes.getNamedItemNS(U,q)},getElementsByTagName:function(U){return new xe(this,function(q){var ie=[];return ve(q,function(pe){pe===q||pe.nodeType!=G||U!=="*"&&pe.tagName!=U||ie.push(pe)}),ie})},getElementsByTagNameNS:function(U,q){return new xe(this,function(ie){var pe=[];return ve(ie,function(Ce){Ce===ie||Ce.nodeType!==G||U!=="*"&&Ce.namespaceURI!==U||q!=="*"&&Ce.localName!=q||pe.push(Ce)}),pe})}},Se.prototype.getElementsByTagName=_e.prototype.getElementsByTagName,Se.prototype.getElementsByTagNameNS=_e.prototype.getElementsByTagNameNS,f(_e,ee),l.prototype.nodeType=D,f(l,ee),E.prototype={data:"",substringData:function(U,q){return this.data.substring(U,U+q)},appendData:function(U){U=this.data+U,this.nodeValue=this.data=U,this.length=U.length},insertData:function(U,q){this.replaceData(U,0,q)},appendChild:function(U){throw new Error(O[ae])},deleteData:function(U,q){this.replaceData(U,q,"")},replaceData:function(U,q,ie){ie=this.data.substring(0,U)+ie+this.data.substring(U+q),this.nodeValue=this.data=ie,this.length=ie.length}},f(E,ee),L.prototype={nodeName:"#text",nodeType:v,splitText:function(U){var q=this.data,ie=q.substring(U);q=q.substring(0,U),this.data=this.nodeValue=q,this.length=q.length;var pe=this.ownerDocument.createTextNode(ie);return this.parentNode&&this.parentNode.insertBefore(pe,this.nextSibling),pe}},f(L,E),z.prototype={nodeName:"#comment",nodeType:H},f(z,E),Z.prototype={nodeName:"#cdata-section",nodeType:y},f(Z,E),de.prototype.nodeType=i,f(de,ee),ce.prototype.nodeType=S,f(ce,ee),Re.prototype.nodeType=b,f(Re,ee),Ie.prototype.nodeType=F,f(Ie,ee),nt.prototype.nodeName="#document-fragment",nt.prototype.nodeType=a,f(nt,ee),Ye.prototype.nodeType=M,f(Ye,ee),Je.prototype.serializeToString=function(U,q,ie){return at.call(U,q,ie)},ee.prototype.toString=at;try{if(Object.defineProperty){let U=function(q){switch(q.nodeType){case G:case a:var ie=[];for(q=q.firstChild;q;)q.nodeType!==7&&q.nodeType!==8&&ie.push(U(q)),q=q.nextSibling;return ie.join("");default:return q.nodeValue}};var Ot=U;Object.defineProperty(xe.prototype,"length",{get:function(){return Xe(this),this.$$length}}),Object.defineProperty(ee.prototype,"textContent",{get:function(){return U(this)},set:function(q){switch(this.nodeType){case G:case a:for(;this.firstChild;)this.removeChild(this.firstChild);(q||String(q))&&this.appendChild(this.ownerDocument.createTextNode(q));break;default:this.data=q,this.value=q,this.nodeValue=q}}}),ti=function(q,ie,pe){q["$$"+ie]=pe}}}catch(U){}V.DocumentType=de,V.DOMException=ye,V.DOMImplementation=$,V.Element=_e,V.Node=ee,V.NodeList=we,V.XMLSerializer=Je},6598:(K,V,d)=>{"use strict";var g=d(525).freeze;V.XML_ENTITIES=g({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),V.HTML_ENTITIES=g({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}),V.entityMap=V.HTML_ENTITIES},7937:(K,V,d)=>{var g=d(1129);g.DOMImplementation,g.XMLSerializer,V.DOMParser=d(8633).DOMParser},2133:(K,V,d)=>{var g=d(525).NAMESPACE,u=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=new RegExp("[\\-\\.0-9"+u.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),T=new RegExp("^"+u.source+R.source+"*(?::"+u.source+R.source+"*)?$");function c(M,H){this.message=M,this.locator=H,Error.captureStackTrace&&Error.captureStackTrace(this,c)}function m(){}function h(M,H){return H.lineNumber=M.lineNumber,H.columnNumber=M.columnNumber,H}function f(M,H,s,i,a,S){function _(we,xe,Xe){s.attributeNames.hasOwnProperty(we)&&S.fatalError("Attribute "+we+" redefined"),s.addValue(we,xe,Xe)}for(var O,ae=++H,he=0;;){var Ae=M.charAt(ae);switch(Ae){case"=":if(he===1)O=M.slice(H,ae),he=3;else{if(he!==2)throw new Error("attribute equal must after attrName");he=3}break;case"'":case'"':if(he===3||he===1){if(he===1&&(S.warning('attribute value must after "="'),O=M.slice(H,ae)),H=ae+1,!((ae=M.indexOf(Ae,H))>0))throw new Error("attribute value no end '"+Ae+"' match");_(O,ye=M.slice(H,ae).replace(/&#?\w+;/g,a),H-1),he=5}else{if(he!=4)throw new Error('attribute value must after "="');_(O,ye=M.slice(H,ae).replace(/&#?\w+;/g,a),H),S.warning('attribute "'+O+'" missed start quot('+Ae+")!!"),H=ae+1,he=5}break;case"/":switch(he){case 0:s.setTagName(M.slice(H,ae));case 5:case 6:case 7:he=7,s.closed=!0;case 4:case 1:break;case 2:s.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return S.error("unexpected end of input"),he==0&&s.setTagName(M.slice(H,ae)),ae;case">":switch(he){case 0:s.setTagName(M.slice(H,ae));case 5:case 6:case 7:break;case 4:case 1:(ye=M.slice(H,ae)).slice(-1)==="/"&&(s.closed=!0,ye=ye.slice(0,-1));case 2:he===2&&(ye=O),he==4?(S.warning('attribute "'+ye+'" missed quot(")!'),_(O,ye.replace(/&#?\w+;/g,a),H)):(g.isHTML(i[""])&&ye.match(/^(?:disabled|checked|selected)$/i)||S.warning('attribute "'+ye+'" missed value!! "'+ye+'" instead!!'),_(ye,ye,H));break;case 3:throw new Error("attribute value missed!!")}return ae;case"\x80":Ae=" ";default:if(Ae<=" ")switch(he){case 0:s.setTagName(M.slice(H,ae)),he=6;break;case 1:O=M.slice(H,ae),he=2;break;case 4:var ye=M.slice(H,ae).replace(/&#?\w+;/g,a);S.warning('attribute "'+ye+'" missed quot(")!!'),_(O,ye,H);case 5:he=6}else switch(he){case 2:s.tagName,g.isHTML(i[""])&&O.match(/^(?:disabled|checked|selected)$/i)||S.warning('attribute "'+O+'" missed value!! "'+O+'" instead2!!'),_(O,O,H),H=ae,he=1;break;case 5:S.warning('attribute space is required"'+O+'"!!');case 6:he=1,H=ae;break;case 3:he=4,H=ae;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}ae++}}function P(M,H,s){for(var i=M.tagName,a=null,S=M.length;S--;){var _=M[S],O=_.qName,ae=_.value;if((we=O.indexOf(":"))>0)var he=_.prefix=O.slice(0,we),Ae=O.slice(we+1),ye=he==="xmlns"&&Ae;else Ae=O,he=null,ye=O==="xmlns"&&"";_.localName=Ae,ye!==!1&&(a==null&&(a={},v(s,s={})),s[ye]=a[ye]=ae,_.uri=g.XMLNS,H.startPrefixMapping(ye,ae))}for(S=M.length;S--;)(he=(_=M[S]).prefix)&&(he==="xml"&&(_.uri=g.XML),he!=="xmlns"&&(_.uri=s[he||""]));var we;(we=i.indexOf(":"))>0?(he=M.prefix=i.slice(0,we),Ae=M.localName=i.slice(we+1)):(he=null,Ae=M.localName=i);var xe=M.uri=s[he||""];if(H.startElement(xe,Ae,i,M),!M.closed)return M.currentNSMap=s,M.localNSMap=a,!0;if(H.endElement(xe,Ae,i),a)for(he in a)Object.prototype.hasOwnProperty.call(a,he)&&H.endPrefixMapping(he)}function G(M,H,s,i,a){if(/^(?:script|textarea)$/i.test(s)){var S=M.indexOf("</"+s+">",H),_=M.substring(H+1,S);if(/[&<]/.test(_))return/^script$/i.test(s)?(a.characters(_,0,_.length),S):(_=_.replace(/&#?\w+;/g,i),a.characters(_,0,_.length),S)}return H+1}function D(M,H,s,i){var a=i[s];return a==null&&((a=M.lastIndexOf("</"+s+">"))<H&&(a=M.lastIndexOf("</"+s)),i[s]=a),a<H}function v(M,H){for(var s in M)Object.prototype.hasOwnProperty.call(M,s)&&(H[s]=M[s])}function y(M,H,s,i){if(M.charAt(H+2)==="-")return M.charAt(H+3)==="-"?(a=M.indexOf("-->",H+4))>H?(s.comment(M,H+4,a-H-4),a+3):(i.error("Unclosed comment"),-1):-1;if(M.substr(H+3,6)=="CDATA["){var a=M.indexOf("]]>",H+9);return s.startCDATA(),s.characters(M,H+9,a-H-9),s.endCDATA(),a+3}var S=function(ye,we){var xe,Xe=[],Ge=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Ge.lastIndex=we,Ge.exec(ye);xe=Ge.exec(ye);)if(Xe.push(xe),xe[1])return Xe}(M,H),_=S.length;if(_>1&&/!doctype/i.test(S[0][0])){var O=S[1][0],ae=!1,he=!1;_>3&&(/^public$/i.test(S[2][0])?(ae=S[3][0],he=_>4&&S[4][0]):/^system$/i.test(S[2][0])&&(he=S[3][0]));var Ae=S[_-1];return s.startDTD(O,ae,he),s.endDTD(),Ae.index+Ae[0].length}return-1}function F(M,H,s){var i=M.indexOf("?>",H);if(i){var a=M.substring(H,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return a?(a[0].length,s.processingInstruction(a[1],a[2]),i+2):-1}return-1}function b(){this.attributeNames={}}c.prototype=new Error,c.prototype.name=c.name,m.prototype={parse:function(M,H,s){var i=this.domBuilder;i.startDocument(),v(H,H={}),function(a,S,_,O,ae){function he(me){var _e=me.slice(1,-1);return _e in _?_[_e]:_e.charAt(0)==="#"?function(l){if(l>65535){var E=55296+((l-=65536)>>10),L=56320+(1023&l);return String.fromCharCode(E,L)}return String.fromCharCode(l)}(parseInt(_e.substr(1).replace("x","0x"))):(ae.error("entity not found:"+me),me)}function Ae(me){if(me>Q){var _e=a.substring(Q,me).replace(/&#?\w+;/g,he);Ge&&ye(Q),O.characters(_e,0,me-Q),Q=me}}function ye(me,_e){for(;me>=xe&&(_e=Xe.exec(a));)we=_e.index,xe=we+_e[0].length,Ge.lineNumber++;Ge.columnNumber=me-we+1}for(var we=0,xe=0,Xe=/.*(?:\r\n?|\n)|.*$/g,Ge=O.locator,Qe=[{currentNSMap:S}],fe={},Q=0;;){try{var $=a.indexOf("<",Q);if($<0){if(!a.substr(Q).match(/^\s*$/)){var ee=O.doc,oe=ee.createTextNode(a.substr(Q));ee.appendChild(oe),O.currentElement=oe}return}switch($>Q&&Ae($),a.charAt($+1)){case"/":var ve=a.indexOf(">",$+3),Se=a.substring($+2,ve).replace(/[ \t\n\r]+$/g,""),Oe=Qe.pop();ve<0?(Se=a.substring($+2).replace(/[\s<].*/,""),ae.error("end tag name: "+Se+" is not complete:"+Oe.tagName),ve=$+1+Se.length):Se.match(/\s</)&&(Se=Se.replace(/[\s<].*/,""),ae.error("end tag name: "+Se+" maybe not complete"),ve=$+1+Se.length);var De=Oe.localNSMap,Me=Oe.tagName==Se;if(Me||Oe.tagName&&Oe.tagName.toLowerCase()==Se.toLowerCase()){if(O.endElement(Oe.uri,Oe.localName,Se),De)for(var je in De)Object.prototype.hasOwnProperty.call(De,je)&&O.endPrefixMapping(je);Me||ae.fatalError("end tag name: "+Se+" is not match the current start tagName:"+Oe.tagName)}else Qe.push(Oe);ve++;break;case"?":Ge&&ye($),ve=F(a,$,O);break;case"!":Ge&&ye($),ve=y(a,$,O,ae);break;default:Ge&&ye($);var le=new b,te=Qe[Qe.length-1].currentNSMap,be=(ve=f(a,$,le,te,he,ae),le.length);if(!le.closed&&D(a,ve,le.tagName,fe)&&(le.closed=!0,_.nbsp||ae.warning("unclosed xml attribute")),Ge&&be){for(var Ne=h(Ge,{}),Ee=0;Ee<be;Ee++){var Fe=le[Ee];ye(Fe.offset),Fe.locator=h(Ge,{})}O.locator=Ne,P(le,O,te)&&Qe.push(le),O.locator=Ge}else P(le,O,te)&&Qe.push(le);g.isHTML(le.uri)&&!le.closed?ve=G(a,ve,le.tagName,he,O):ve++}}catch(me){if(me instanceof c)throw me;ae.error("element parse error: "+me),ve=-1}ve>Q?Q=ve:Ae(Math.max($,Q)+1)}}(M,H,s,i,this.errorHandler),i.endDocument()}},b.prototype={setTagName:function(M){if(!T.test(M))throw new Error("invalid tagName:"+M);this.tagName=M},addValue:function(M,H,s){if(!T.test(M))throw new Error("invalid attribute:"+M);this.attributeNames[M]=this.length,this[this.length++]={qName:M,value:H,offset:s}},length:0,getLocalName:function(M){return this[M].localName},getLocator:function(M){return this[M].locator},getQName:function(M){return this[M].qName},getURI:function(M){return this[M].uri},getValue:function(M){return this[M].value}},V.XMLReader=m,V.ParseError=c},7991:(K,V)=>{"use strict";V.byteLength=function(h){var f=c(h),P=f[0],G=f[1];return 3*(P+G)/4-G},V.toByteArray=function(h){var f,P,G=c(h),D=G[0],v=G[1],y=new u(function(M,H,s){return 3*(H+s)/4-s}(0,D,v)),F=0,b=v>0?D-4:D;for(P=0;P<b;P+=4)f=g[h.charCodeAt(P)]<<18|g[h.charCodeAt(P+1)]<<12|g[h.charCodeAt(P+2)]<<6|g[h.charCodeAt(P+3)],y[F++]=f>>16&255,y[F++]=f>>8&255,y[F++]=255&f;return v===2&&(f=g[h.charCodeAt(P)]<<2|g[h.charCodeAt(P+1)]>>4,y[F++]=255&f),v===1&&(f=g[h.charCodeAt(P)]<<10|g[h.charCodeAt(P+1)]<<4|g[h.charCodeAt(P+2)]>>2,y[F++]=f>>8&255,y[F++]=255&f),y},V.fromByteArray=function(h){for(var f,P=h.length,G=P%3,D=[],v=16383,y=0,F=P-G;y<F;y+=v)D.push(m(h,y,y+v>F?F:y+v));return G===1?(f=h[P-1],D.push(d[f>>2]+d[f<<4&63]+"==")):G===2&&(f=(h[P-2]<<8)+h[P-1],D.push(d[f>>10]+d[f>>4&63]+d[f<<2&63]+"=")),D.join("")};for(var d=[],g=[],u=typeof Uint8Array!="undefined"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=0;T<64;++T)d[T]=R[T],g[R.charCodeAt(T)]=T;function c(h){var f=h.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=h.indexOf("=");return P===-1&&(P=f),[P,P===f?0:4-P%4]}function m(h,f,P){for(var G,D,v=[],y=f;y<P;y+=3)G=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(255&h[y+2]),v.push(d[(D=G)>>18&63]+d[D>>12&63]+d[D>>6&63]+d[63&D]);return v.join("")}g[45]=62,g[95]=63},1048:(K,V,d)=>{"use strict";let g=d(7991),u=d(9318),R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.hp=m,V.IS=50;let T=2147483647;function c(l){if(l>T)throw new RangeError('The value "'+l+'" is invalid for option "size"');let E=new Uint8Array(l);return Object.setPrototypeOf(E,m.prototype),E}function m(l,E,L){if(typeof l=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(l)}return h(l,E,L)}function h(l,E,L){if(typeof l=="string")return function(de,ce){if(typeof ce=="string"&&ce!==""||(ce="utf8"),!m.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);let Re=0|y(de,ce),Ie=c(Re),nt=Ie.write(de,ce);return nt!==Re&&(Ie=Ie.slice(0,nt)),Ie}(l,E);if(ArrayBuffer.isView(l))return function(de){if(Ne(de,Uint8Array)){let ce=new Uint8Array(de);return D(ce.buffer,ce.byteOffset,ce.byteLength)}return G(de)}(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(Ne(l,ArrayBuffer)||l&&Ne(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ne(l,SharedArrayBuffer)||l&&Ne(l.buffer,SharedArrayBuffer)))return D(l,E,L);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let z=l.valueOf&&l.valueOf();if(z!=null&&z!==l)return m.from(z,E,L);let Z=function(de){if(m.isBuffer(de)){let ce=0|v(de.length),Re=c(ce);return Re.length===0||de.copy(Re,0,0,ce),Re}return de.length!==void 0?typeof de.length!="number"||Ee(de.length)?c(0):G(de):de.type==="Buffer"&&Array.isArray(de.data)?G(de.data):void 0}(l);if(Z)return Z;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return m.from(l[Symbol.toPrimitive]("string"),E,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}function f(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function P(l){return f(l),c(l<0?0:0|v(l))}function G(l){let E=l.length<0?0:0|v(l.length),L=c(E);for(let z=0;z<E;z+=1)L[z]=255&l[z];return L}function D(l,E,L){if(E<0||l.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<E+(L||0))throw new RangeError('"length" is outside of buffer bounds');let z;return z=E===void 0&&L===void 0?new Uint8Array(l):L===void 0?new Uint8Array(l,E):new Uint8Array(l,E,L),Object.setPrototypeOf(z,m.prototype),z}function v(l){if(l>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return 0|l}function y(l,E){if(m.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||Ne(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);let L=l.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&L===0)return 0;let Z=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return le(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*L;case"hex":return L>>>1;case"base64":return te(l).length;default:if(Z)return z?-1:le(l).length;E=(""+E).toLowerCase(),Z=!0}}function F(l,E,L){let z=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0)<=(E>>>=0))return"";for(l||(l="utf8");;)switch(l){case"hex":return we(this,E,L);case"utf8":case"utf-8":return ae(this,E,L);case"ascii":return Ae(this,E,L);case"latin1":case"binary":return ye(this,E,L);case"base64":return O(this,E,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,E,L);default:if(z)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),z=!0}}function b(l,E,L){let z=l[E];l[E]=l[L],l[L]=z}function M(l,E,L,z,Z){if(l.length===0)return-1;if(typeof L=="string"?(z=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),Ee(L=+L)&&(L=Z?0:l.length-1),L<0&&(L=l.length+L),L>=l.length){if(Z)return-1;L=l.length-1}else if(L<0){if(!Z)return-1;L=0}if(typeof E=="string"&&(E=m.from(E,z)),m.isBuffer(E))return E.length===0?-1:H(l,E,L,z,Z);if(typeof E=="number")return E&=255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(l,E,L):Uint8Array.prototype.lastIndexOf.call(l,E,L):H(l,[E],L,z,Z);throw new TypeError("val must be string, number or Buffer")}function H(l,E,L,z,Z){let de,ce=1,Re=l.length,Ie=E.length;if(z!==void 0&&((z=String(z).toLowerCase())==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(l.length<2||E.length<2)return-1;ce=2,Re/=2,Ie/=2,L/=2}function nt(Ye,Je){return ce===1?Ye[Je]:Ye.readUInt16BE(Je*ce)}if(Z){let Ye=-1;for(de=L;de<Re;de++)if(nt(l,de)===nt(E,Ye===-1?0:de-Ye)){if(Ye===-1&&(Ye=de),de-Ye+1===Ie)return Ye*ce}else Ye!==-1&&(de-=de-Ye),Ye=-1}else for(L+Ie>Re&&(L=Re-Ie),de=L;de>=0;de--){let Ye=!0;for(let Je=0;Je<Ie;Je++)if(nt(l,de+Je)!==nt(E,Je)){Ye=!1;break}if(Ye)return de}return-1}function s(l,E,L,z){L=Number(L)||0;let Z=l.length-L;z?(z=Number(z))>Z&&(z=Z):z=Z;let de=E.length,ce;for(z>de/2&&(z=de/2),ce=0;ce<z;++ce){let Re=parseInt(E.substr(2*ce,2),16);if(Ee(Re))return ce;l[L+ce]=Re}return ce}function i(l,E,L,z){return be(le(E,l.length-L),l,L,z)}function a(l,E,L,z){return be(function(Z){let de=[];for(let ce=0;ce<Z.length;++ce)de.push(255&Z.charCodeAt(ce));return de}(E),l,L,z)}function S(l,E,L,z){return be(te(E),l,L,z)}function _(l,E,L,z){return be(function(Z,de){let ce,Re,Ie,nt=[];for(let Ye=0;Ye<Z.length&&!((de-=2)<0);++Ye)ce=Z.charCodeAt(Ye),Re=ce>>8,Ie=ce%256,nt.push(Ie),nt.push(Re);return nt}(E,l.length-L),l,L,z)}function O(l,E,L){return E===0&&L===l.length?g.fromByteArray(l):g.fromByteArray(l.slice(E,L))}function ae(l,E,L){L=Math.min(l.length,L);let z=[],Z=E;for(;Z<L;){let de=l[Z],ce=null,Re=de>239?4:de>223?3:de>191?2:1;if(Z+Re<=L){let Ie,nt,Ye,Je;switch(Re){case 1:de<128&&(ce=de);break;case 2:Ie=l[Z+1],(192&Ie)==128&&(Je=(31&de)<<6|63&Ie,Je>127&&(ce=Je));break;case 3:Ie=l[Z+1],nt=l[Z+2],(192&Ie)==128&&(192&nt)==128&&(Je=(15&de)<<12|(63&Ie)<<6|63&nt,Je>2047&&(Je<55296||Je>57343)&&(ce=Je));break;case 4:Ie=l[Z+1],nt=l[Z+2],Ye=l[Z+3],(192&Ie)==128&&(192&nt)==128&&(192&Ye)==128&&(Je=(15&de)<<18|(63&Ie)<<12|(63&nt)<<6|63&Ye,Je>65535&&Je<1114112&&(ce=Je))}}ce===null?(ce=65533,Re=1):ce>65535&&(ce-=65536,z.push(ce>>>10&1023|55296),ce=56320|1023&ce),z.push(ce),Z+=Re}return function(de){let ce=de.length;if(ce<=he)return String.fromCharCode.apply(String,de);let Re="",Ie=0;for(;Ie<ce;)Re+=String.fromCharCode.apply(String,de.slice(Ie,Ie+=he));return Re}(z)}m.TYPED_ARRAY_SUPPORT=function(){try{let l=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(l,E),l.foo()===42}catch(l){return!1}}(),m.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}}),m.poolSize=8192,m.from=function(l,E,L){return h(l,E,L)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array),m.alloc=function(l,E,L){return function(z,Z,de){return f(z),z<=0?c(z):Z!==void 0?typeof de=="string"?c(z).fill(Z,de):c(z).fill(Z):c(z)}(l,E,L)},m.allocUnsafe=function(l){return P(l)},m.allocUnsafeSlow=function(l){return P(l)},m.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==m.prototype},m.compare=function(l,E){if(Ne(l,Uint8Array)&&(l=m.from(l,l.offset,l.byteLength)),Ne(E,Uint8Array)&&(E=m.from(E,E.offset,E.byteLength)),!m.isBuffer(l)||!m.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===E)return 0;let L=l.length,z=E.length;for(let Z=0,de=Math.min(L,z);Z<de;++Z)if(l[Z]!==E[Z]){L=l[Z],z=E[Z];break}return L<z?-1:z<L?1:0},m.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(l,E){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return m.alloc(0);let L;if(E===void 0)for(E=0,L=0;L<l.length;++L)E+=l[L].length;let z=m.allocUnsafe(E),Z=0;for(L=0;L<l.length;++L){let de=l[L];if(Ne(de,Uint8Array))Z+de.length>z.length?(m.isBuffer(de)||(de=m.from(de)),de.copy(z,Z)):Uint8Array.prototype.set.call(z,de,Z);else{if(!m.isBuffer(de))throw new TypeError('"list" argument must be an Array of Buffers');de.copy(z,Z)}Z+=de.length}return z},m.byteLength=y,m.prototype._isBuffer=!0,m.prototype.swap16=function(){let l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<l;E+=2)b(this,E,E+1);return this},m.prototype.swap32=function(){let l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<l;E+=4)b(this,E,E+3),b(this,E+1,E+2);return this},m.prototype.swap64=function(){let l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<l;E+=8)b(this,E,E+7),b(this,E+1,E+6),b(this,E+2,E+5),b(this,E+3,E+4);return this},m.prototype.toString=function(){let l=this.length;return l===0?"":arguments.length===0?ae(this,0,l):F.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(l){if(!m.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||m.compare(this,l)===0},m.prototype.inspect=function(){let l="",E=V.IS;return l=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(l+=" ... "),"<Buffer "+l+">"},R&&(m.prototype[R]=m.prototype.inspect),m.prototype.compare=function(l,E,L,z,Z){if(Ne(l,Uint8Array)&&(l=m.from(l,l.offset,l.byteLength)),!m.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(E===void 0&&(E=0),L===void 0&&(L=l?l.length:0),z===void 0&&(z=0),Z===void 0&&(Z=this.length),E<0||L>l.length||z<0||Z>this.length)throw new RangeError("out of range index");if(z>=Z&&E>=L)return 0;if(z>=Z)return-1;if(E>=L)return 1;if(this===l)return 0;let de=(Z>>>=0)-(z>>>=0),ce=(L>>>=0)-(E>>>=0),Re=Math.min(de,ce),Ie=this.slice(z,Z),nt=l.slice(E,L);for(let Ye=0;Ye<Re;++Ye)if(Ie[Ye]!==nt[Ye]){de=Ie[Ye],ce=nt[Ye];break}return de<ce?-1:ce<de?1:0},m.prototype.includes=function(l,E,L){return this.indexOf(l,E,L)!==-1},m.prototype.indexOf=function(l,E,L){return M(this,l,E,L,!0)},m.prototype.lastIndexOf=function(l,E,L){return M(this,l,E,L,!1)},m.prototype.write=function(l,E,L,z){if(E===void 0)z="utf8",L=this.length,E=0;else if(L===void 0&&typeof E=="string")z=E,L=this.length,E=0;else{if(!isFinite(E))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");E>>>=0,isFinite(L)?(L>>>=0,z===void 0&&(z="utf8")):(z=L,L=void 0)}let Z=this.length-E;if((L===void 0||L>Z)&&(L=Z),l.length>0&&(L<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let de=!1;for(;;)switch(z){case"hex":return s(this,l,E,L);case"utf8":case"utf-8":return i(this,l,E,L);case"ascii":case"latin1":case"binary":return a(this,l,E,L);case"base64":return S(this,l,E,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,l,E,L);default:if(de)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),de=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let he=4096;function Ae(l,E,L){let z="";L=Math.min(l.length,L);for(let Z=E;Z<L;++Z)z+=String.fromCharCode(127&l[Z]);return z}function ye(l,E,L){let z="";L=Math.min(l.length,L);for(let Z=E;Z<L;++Z)z+=String.fromCharCode(l[Z]);return z}function we(l,E,L){let z=l.length;(!E||E<0)&&(E=0),(!L||L<0||L>z)&&(L=z);let Z="";for(let de=E;de<L;++de)Z+=Fe[l[de]];return Z}function xe(l,E,L){let z=l.slice(E,L),Z="";for(let de=0;de<z.length-1;de+=2)Z+=String.fromCharCode(z[de]+256*z[de+1]);return Z}function Xe(l,E,L){if(l%1!=0||l<0)throw new RangeError("offset is not uint");if(l+E>L)throw new RangeError("Trying to access beyond buffer length")}function Ge(l,E,L,z,Z,de){if(!m.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>Z||E<de)throw new RangeError('"value" argument is out of bounds');if(L+z>l.length)throw new RangeError("Index out of range")}function Qe(l,E,L,z,Z){Oe(E,z,Z,l,L,7);let de=Number(E&BigInt(4294967295));l[L++]=de,de>>=8,l[L++]=de,de>>=8,l[L++]=de,de>>=8,l[L++]=de;let ce=Number(E>>BigInt(32)&BigInt(4294967295));return l[L++]=ce,ce>>=8,l[L++]=ce,ce>>=8,l[L++]=ce,ce>>=8,l[L++]=ce,L}function fe(l,E,L,z,Z){Oe(E,z,Z,l,L,7);let de=Number(E&BigInt(4294967295));l[L+7]=de,de>>=8,l[L+6]=de,de>>=8,l[L+5]=de,de>>=8,l[L+4]=de;let ce=Number(E>>BigInt(32)&BigInt(4294967295));return l[L+3]=ce,ce>>=8,l[L+2]=ce,ce>>=8,l[L+1]=ce,ce>>=8,l[L]=ce,L+8}function Q(l,E,L,z,Z,de){if(L+z>l.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function $(l,E,L,z,Z){return E=+E,L>>>=0,Z||Q(l,0,L,4),u.write(l,E,L,z,23,4),L+4}function ee(l,E,L,z,Z){return E=+E,L>>>=0,Z||Q(l,0,L,8),u.write(l,E,L,z,52,8),L+8}m.prototype.slice=function(l,E){let L=this.length;(l=~~l)<0?(l+=L)<0&&(l=0):l>L&&(l=L),(E=E===void 0?L:~~E)<0?(E+=L)<0&&(E=0):E>L&&(E=L),E<l&&(E=l);let z=this.subarray(l,E);return Object.setPrototypeOf(z,m.prototype),z},m.prototype.readUintLE=m.prototype.readUIntLE=function(l,E,L){l>>>=0,E>>>=0,L||Xe(l,E,this.length);let z=this[l],Z=1,de=0;for(;++de<E&&(Z*=256);)z+=this[l+de]*Z;return z},m.prototype.readUintBE=m.prototype.readUIntBE=function(l,E,L){l>>>=0,E>>>=0,L||Xe(l,E,this.length);let z=this[l+--E],Z=1;for(;E>0&&(Z*=256);)z+=this[l+--E]*Z;return z},m.prototype.readUint8=m.prototype.readUInt8=function(l,E){return l>>>=0,E||Xe(l,1,this.length),this[l]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(l,E){return l>>>=0,E||Xe(l,2,this.length),this[l]|this[l+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(l,E){return l>>>=0,E||Xe(l,2,this.length),this[l]<<8|this[l+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(l,E){return l>>>=0,E||Xe(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(l,E){return l>>>=0,E||Xe(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},m.prototype.readBigUInt64LE=me(function(l){De(l>>>=0,"offset");let E=this[l],L=this[l+7];E!==void 0&&L!==void 0||Me(l,this.length-8);let z=E+256*this[++l]+65536*this[++l]+this[++l]*2**24,Z=this[++l]+256*this[++l]+65536*this[++l]+L*2**24;return BigInt(z)+(BigInt(Z)<<BigInt(32))}),m.prototype.readBigUInt64BE=me(function(l){De(l>>>=0,"offset");let E=this[l],L=this[l+7];E!==void 0&&L!==void 0||Me(l,this.length-8);let z=E*2**24+65536*this[++l]+256*this[++l]+this[++l],Z=this[++l]*2**24+65536*this[++l]+256*this[++l]+L;return(BigInt(z)<<BigInt(32))+BigInt(Z)}),m.prototype.readIntLE=function(l,E,L){l>>>=0,E>>>=0,L||Xe(l,E,this.length);let z=this[l],Z=1,de=0;for(;++de<E&&(Z*=256);)z+=this[l+de]*Z;return Z*=128,z>=Z&&(z-=Math.pow(2,8*E)),z},m.prototype.readIntBE=function(l,E,L){l>>>=0,E>>>=0,L||Xe(l,E,this.length);let z=E,Z=1,de=this[l+--z];for(;z>0&&(Z*=256);)de+=this[l+--z]*Z;return Z*=128,de>=Z&&(de-=Math.pow(2,8*E)),de},m.prototype.readInt8=function(l,E){return l>>>=0,E||Xe(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},m.prototype.readInt16LE=function(l,E){l>>>=0,E||Xe(l,2,this.length);let L=this[l]|this[l+1]<<8;return 32768&L?4294901760|L:L},m.prototype.readInt16BE=function(l,E){l>>>=0,E||Xe(l,2,this.length);let L=this[l+1]|this[l]<<8;return 32768&L?4294901760|L:L},m.prototype.readInt32LE=function(l,E){return l>>>=0,E||Xe(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},m.prototype.readInt32BE=function(l,E){return l>>>=0,E||Xe(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},m.prototype.readBigInt64LE=me(function(l){De(l>>>=0,"offset");let E=this[l],L=this[l+7];E!==void 0&&L!==void 0||Me(l,this.length-8);let z=this[l+4]+256*this[l+5]+65536*this[l+6]+(L<<24);return(BigInt(z)<<BigInt(32))+BigInt(E+256*this[++l]+65536*this[++l]+this[++l]*16777216)}),m.prototype.readBigInt64BE=me(function(l){De(l>>>=0,"offset");let E=this[l],L=this[l+7];E!==void 0&&L!==void 0||Me(l,this.length-8);let z=(E<<24)+65536*this[++l]+256*this[++l]+this[++l];return(BigInt(z)<<BigInt(32))+BigInt(this[++l]*16777216+65536*this[++l]+256*this[++l]+L)}),m.prototype.readFloatLE=function(l,E){return l>>>=0,E||Xe(l,4,this.length),u.read(this,l,!0,23,4)},m.prototype.readFloatBE=function(l,E){return l>>>=0,E||Xe(l,4,this.length),u.read(this,l,!1,23,4)},m.prototype.readDoubleLE=function(l,E){return l>>>=0,E||Xe(l,8,this.length),u.read(this,l,!0,52,8)},m.prototype.readDoubleBE=function(l,E){return l>>>=0,E||Xe(l,8,this.length),u.read(this,l,!1,52,8)},m.prototype.writeUintLE=m.prototype.writeUIntLE=function(l,E,L,z){l=+l,E>>>=0,L>>>=0,z||Ge(this,l,E,L,Math.pow(2,8*L)-1,0);let Z=1,de=0;for(this[E]=255&l;++de<L&&(Z*=256);)this[E+de]=l/Z&255;return E+L},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(l,E,L,z){l=+l,E>>>=0,L>>>=0,z||Ge(this,l,E,L,Math.pow(2,8*L)-1,0);let Z=L-1,de=1;for(this[E+Z]=255&l;--Z>=0&&(de*=256);)this[E+Z]=l/de&255;return E+L},m.prototype.writeUint8=m.prototype.writeUInt8=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,1,255,0),this[E]=255&l,E+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,2,65535,0),this[E]=255&l,this[E+1]=l>>>8,E+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,2,65535,0),this[E]=l>>>8,this[E+1]=255&l,E+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,4,4294967295,0),this[E+3]=l>>>24,this[E+2]=l>>>16,this[E+1]=l>>>8,this[E]=255&l,E+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,4,4294967295,0),this[E]=l>>>24,this[E+1]=l>>>16,this[E+2]=l>>>8,this[E+3]=255&l,E+4},m.prototype.writeBigUInt64LE=me(function(l,E=0){return Qe(this,l,E,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeBigUInt64BE=me(function(l,E=0){return fe(this,l,E,BigInt(0),BigInt("0xffffffffffffffff"))}),m.prototype.writeIntLE=function(l,E,L,z){if(l=+l,E>>>=0,!z){let Re=Math.pow(2,8*L-1);Ge(this,l,E,L,Re-1,-Re)}let Z=0,de=1,ce=0;for(this[E]=255&l;++Z<L&&(de*=256);)l<0&&ce===0&&this[E+Z-1]!==0&&(ce=1),this[E+Z]=(l/de|0)-ce&255;return E+L},m.prototype.writeIntBE=function(l,E,L,z){if(l=+l,E>>>=0,!z){let Re=Math.pow(2,8*L-1);Ge(this,l,E,L,Re-1,-Re)}let Z=L-1,de=1,ce=0;for(this[E+Z]=255&l;--Z>=0&&(de*=256);)l<0&&ce===0&&this[E+Z+1]!==0&&(ce=1),this[E+Z]=(l/de|0)-ce&255;return E+L},m.prototype.writeInt8=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,1,127,-128),l<0&&(l=255+l+1),this[E]=255&l,E+1},m.prototype.writeInt16LE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,2,32767,-32768),this[E]=255&l,this[E+1]=l>>>8,E+2},m.prototype.writeInt16BE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,2,32767,-32768),this[E]=l>>>8,this[E+1]=255&l,E+2},m.prototype.writeInt32LE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,4,2147483647,-2147483648),this[E]=255&l,this[E+1]=l>>>8,this[E+2]=l>>>16,this[E+3]=l>>>24,E+4},m.prototype.writeInt32BE=function(l,E,L){return l=+l,E>>>=0,L||Ge(this,l,E,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[E]=l>>>24,this[E+1]=l>>>16,this[E+2]=l>>>8,this[E+3]=255&l,E+4},m.prototype.writeBigInt64LE=me(function(l,E=0){return Qe(this,l,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeBigInt64BE=me(function(l,E=0){return fe(this,l,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),m.prototype.writeFloatLE=function(l,E,L){return $(this,l,E,!0,L)},m.prototype.writeFloatBE=function(l,E,L){return $(this,l,E,!1,L)},m.prototype.writeDoubleLE=function(l,E,L){return ee(this,l,E,!0,L)},m.prototype.writeDoubleBE=function(l,E,L){return ee(this,l,E,!1,L)},m.prototype.copy=function(l,E,L,z){if(!m.isBuffer(l))throw new TypeError("argument should be a Buffer");if(L||(L=0),z||z===0||(z=this.length),E>=l.length&&(E=l.length),E||(E=0),z>0&&z<L&&(z=L),z===L||l.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),l.length-E<z-L&&(z=l.length-E+L);let Z=z-L;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,L,z):Uint8Array.prototype.set.call(l,this.subarray(L,z),E),Z},m.prototype.fill=function(l,E,L,z){if(typeof l=="string"){if(typeof E=="string"?(z=E,E=0,L=this.length):typeof L=="string"&&(z=L,L=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!m.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(l.length===1){let de=l.charCodeAt(0);(z==="utf8"&&de<128||z==="latin1")&&(l=de)}}else typeof l=="number"?l&=255:typeof l=="boolean"&&(l=Number(l));if(E<0||this.length<E||this.length<L)throw new RangeError("Out of range index");if(L<=E)return this;let Z;if(E>>>=0,L=L===void 0?this.length:L>>>0,l||(l=0),typeof l=="number")for(Z=E;Z<L;++Z)this[Z]=l;else{let de=m.isBuffer(l)?l:m.from(l,z),ce=de.length;if(ce===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(Z=0;Z<L-E;++Z)this[Z+E]=de[Z%ce]}return this};let oe={};function ve(l,E,L){oe[l]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}function Se(l){let E="",L=l.length,z=l[0]==="-"?1:0;for(;L>=z+4;L-=3)E=`_${l.slice(L-3,L)}${E}`;return`${l.slice(0,L)}${E}`}function Oe(l,E,L,z,Z,de){if(l>L||l<E){let ce=typeof E=="bigint"?"n":"",Re;throw Re=de>3?E===0||E===BigInt(0)?`>= 0${ce} and < 2${ce} ** ${8*(de+1)}${ce}`:`>= -(2${ce} ** ${8*(de+1)-1}${ce}) and < 2 ** ${8*(de+1)-1}${ce}`:`>= ${E}${ce} and <= ${L}${ce}`,new oe.ERR_OUT_OF_RANGE("value",Re,l)}(function(ce,Re,Ie){De(Re,"offset"),ce[Re]!==void 0&&ce[Re+Ie]!==void 0||Me(Re,ce.length-(Ie+1))})(z,Z,de)}function De(l,E){if(typeof l!="number")throw new oe.ERR_INVALID_ARG_TYPE(E,"number",l)}function Me(l,E,L){throw Math.floor(l)!==l?(De(l,L),new oe.ERR_OUT_OF_RANGE(L||"offset","an integer",l)):E<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE(L||"offset",`>= ${L?1:0} and <= ${E}`,l)}ve("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function(l,E){return`The "${l}" argument must be of type number. Received type ${typeof E}`},TypeError),ve("ERR_OUT_OF_RANGE",function(l,E,L){let z=`The value of "${l}" is out of range.`,Z=L;return Number.isInteger(L)&&Math.abs(L)>4294967296?Z=Se(String(L)):typeof L=="bigint"&&(Z=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(Z=Se(Z)),Z+="n"),z+=` It must be ${E}. Received ${Z}`,z},RangeError);let je=/[^+/0-9A-Za-z-_]/g;function le(l,E){let L;E=E||1/0;let z=l.length,Z=null,de=[];for(let ce=0;ce<z;++ce){if(L=l.charCodeAt(ce),L>55295&&L<57344){if(!Z){if(L>56319){(E-=3)>-1&&de.push(239,191,189);continue}if(ce+1===z){(E-=3)>-1&&de.push(239,191,189);continue}Z=L;continue}if(L<56320){(E-=3)>-1&&de.push(239,191,189),Z=L;continue}L=65536+(Z-55296<<10|L-56320)}else Z&&(E-=3)>-1&&de.push(239,191,189);if(Z=null,L<128){if((E-=1)<0)break;de.push(L)}else if(L<2048){if((E-=2)<0)break;de.push(L>>6|192,63&L|128)}else if(L<65536){if((E-=3)<0)break;de.push(L>>12|224,L>>6&63|128,63&L|128)}else{if(!(L<1114112))throw new Error("Invalid code point");if((E-=4)<0)break;de.push(L>>18|240,L>>12&63|128,L>>6&63|128,63&L|128)}}return de}function te(l){return g.toByteArray(function(E){if((E=(E=E.split("=")[0]).trim().replace(je,"")).length<2)return"";for(;E.length%4!=0;)E+="=";return E}(l))}function be(l,E,L,z){let Z;for(Z=0;Z<z&&!(Z+L>=E.length||Z>=l.length);++Z)E[Z+L]=l[Z];return Z}function Ne(l,E){return l instanceof E||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===E.name}function Ee(l){return l!=l}let Fe=function(){let l="0123456789abcdef",E=new Array(256);for(let L=0;L<16;++L){let z=16*L;for(let Z=0;Z<16;++Z)E[z+Z]=l[L]+l[Z]}return E}();function me(l){return typeof BigInt=="undefined"?_e:l}function _e(){throw new Error("BigInt not supported")}},2553:(K,V,d)=>{var g;g=typeof window!="undefined"?window:d.g!==void 0?d.g:typeof self!="undefined"?self:{},K.exports=g},8641:(K,V,d)=>{var g,u=d(1048).hp;g=()=>{return R={851:(c,m,h)=>{var f=h(771),P=f.getOptions,G=f.setOptions,D=h(463),v=h(367),y=h(890);c.exports={parse:D,stringify:v,types:y,getOptions:P,setOptions:G}},463:(c,m,h)=>{function f(le,te){return function(be){if(Array.isArray(be))return be}(le)||function(be,Ne){var Ee=be==null?null:typeof Symbol!="undefined"&&be[Symbol.iterator]||be["@@iterator"];if(Ee!=null){var Fe,me,_e,l,E=[],L=!0,z=!1;try{if(_e=(Ee=Ee.call(be)).next,Ne===0){if(Object(Ee)!==Ee)return;L=!1}else for(;!(L=(Fe=_e.call(Ee)).done)&&(E.push(Fe.value),E.length!==Ne);L=!0);}catch(Z){z=!0,me=Z}finally{try{if(!L&&Ee.return!=null&&(l=Ee.return(),Object(l)!==l))return}finally{if(z)throw me}}return E}}(le,te)||G(le,te)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(le,te){var be=typeof Symbol!="undefined"&&le[Symbol.iterator]||le["@@iterator"];if(!be){if(Array.isArray(le)||(be=G(le))||te&&le&&typeof le.length=="number"){be&&(le=be);var Ne=0,Ee=function(){};return{s:Ee,n:function(){return Ne>=le.length?{done:!0}:{done:!1,value:le[Ne++]}},e:function(l){throw l},f:Ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe,me=!0,_e=!1;return{s:function(){be=be.call(le)},n:function(){var l=be.next();return me=l.done,l},e:function(l){_e=!0,Fe=l},f:function(){try{me||be.return==null||be.return()}finally{if(_e)throw Fe}}}}function G(le,te){if(le){if(typeof le=="string")return D(le,te);var be=Object.prototype.toString.call(le).slice(8,-1);return be==="Object"&&le.constructor&&(be=le.constructor.name),be==="Map"||be==="Set"?Array.from(le):be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be)?D(le,te):void 0}}function D(le,te){(te==null||te>le.length)&&(te=le.length);for(var be=0,Ne=new Array(te);be<te;be++)Ne[be]=le[be];return Ne}var v=h(771),y=h(890),F=y.Rendition,b=y.Variant,M=y.SessionData,H=y.Key,s=y.MediaInitializationSection,i=y.DateRange,a=y.SpliceInfo,S=y.MasterPlaylist,_=y.MediaPlaylist,O=y.Segment,ae=y.PartialSegment,he=y.PrefetchSegment,Ae=y.RenditionReport;function ye(le){return v.trim(le,'"')}function we(le){var te=v.splitAt(le,",");return{duration:v.toNumber(te[0]),title:decodeURIComponent(escape(te[1]))}}function xe(le){var te=v.splitAt(le,"@");return{length:v.toNumber(te[0]),offset:te[1]?v.toNumber(te[1]):-1}}function Xe(le){var te=v.splitAt(le,"x");return{width:v.toNumber(te[0]),height:v.toNumber(te[1])}}function Ge(le){var te="ALLOWED-CPC: Each entry must consit of KEYFORMAT and Content Protection Configuration",be=le.split(",");be.length===0&&v.INVALIDPLAYLIST(te);var Ne,Ee=[],Fe=P(be);try{for(Fe.s();!(Ne=Fe.n()).done;){var me=Ne.value,_e=f(v.splitAt(me,":"),2),l=_e[0],E=_e[1];l&&E?Ee.push({format:l,cpcList:E.split("/")}):v.INVALIDPLAYLIST(te)}}catch(L){Fe.e(L)}finally{Fe.f()}return Ee}function Qe(le){return le.startsWith('"')?ye(le):le.startsWith("0x")||le.startsWith("0X")?v.hexToByteSequence(le):v.toNumber(le)}function fe(le,te){te.IV&&le.compatibleVersion<2&&(le.compatibleVersion=2),(te.KEYFORMAT||te.KEYFORMATVERSIONS)&&le.compatibleVersion<5&&(le.compatibleVersion=5)}function Q(le){var te,be,Ne,Ee={},Fe=P(v.splitByCommaWithPreservingQuotes(le));try{for(Fe.s();!(te=Fe.n()).done;){var me=te.value,_e=f(v.splitAt(me,"="),2),l=_e[0],E=_e[1],L=ye(E);switch(l){case"URI":Ee[l]=L;break;case"START-DATE":case"END-DATE":Ee[l]=new Date(L);break;case"IV":Ee[l]=(be=L,(Ne=v.hexToByteSequence(be)).length!==16&&v.INVALIDPLAYLIST("IV must be a 128-bit unsigned integer"),Ne);break;case"BYTERANGE":Ee[l]=xe(L);break;case"RESOLUTION":Ee[l]=Xe(L);break;case"ALLOWED-CPC":Ee[l]=Ge(L);break;case"END-ON-NEXT":case"DEFAULT":case"AUTOSELECT":case"FORCED":case"PRECISE":case"CAN-BLOCK-RELOAD":case"INDEPENDENT":case"GAP":Ee[l]=L==="YES";break;case"DURATION":case"PLANNED-DURATION":case"BANDWIDTH":case"AVERAGE-BANDWIDTH":case"FRAME-RATE":case"TIME-OFFSET":case"CAN-SKIP-UNTIL":case"HOLD-BACK":case"PART-HOLD-BACK":case"PART-TARGET":case"BYTERANGE-START":case"BYTERANGE-LENGTH":case"LAST-MSN":case"LAST-PART":case"SKIPPED-SEGMENTS":case"SCORE":Ee[l]=v.toNumber(L);break;default:l.startsWith("SCTE35-")?Ee[l]=v.hexToByteSequence(L):l.startsWith("X-")?Ee[l]=Qe(E):(l==="VIDEO-RANGE"&&L!=="SDR"&&L!=="HLG"&&L!=="PQ"&&v.INVALIDPLAYLIST('VIDEO-RANGE: unknown value "'.concat(L,'"')),Ee[l]=L)}}}catch(z){Fe.e(z)}finally{Fe.f()}return Ee}function $(){v.INVALIDPLAYLIST("The file contains both media and master playlist tags.")}function ee(le,te,be){var Ne,Ee=(Ne=te.attributes,new F({type:Ne.TYPE,uri:Ne.URI,groupId:Ne["GROUP-ID"],language:Ne.LANGUAGE,assocLanguage:Ne["ASSOC-LANGUAGE"],name:Ne.NAME,isDefault:Ne.DEFAULT,autoselect:Ne.AUTOSELECT,forced:Ne.FORCED,instreamId:Ne["INSTREAM-ID"],characteristics:Ne.CHARACTERISTICS,channels:Ne.CHANNELS})),Fe=le[v.camelify(be)],me=function(_e,l){var E,L=!1,z=P(_e);try{for(z.s();!(E=z.n()).done;){var Z=E.value;if(Z.name===l.name)return"All EXT-X-MEDIA tags in the same Group MUST have different NAME attributes.";Z.isDefault&&(L=!0)}}catch(de){z.e(de)}finally{z.f()}return L&&l.isDefault?"EXT-X-MEDIA A Group MUST NOT have more than one member with a DEFAULT attribute of YES.":""}(Fe,Ee);me&&v.INVALIDPLAYLIST(me),Fe.push(Ee),Ee.isDefault&&(le.currentRenditions[v.camelify(be)]=Fe.length-1)}function oe(le,te,be,Ne,Ee){var Fe,me=new b({uri:be,bandwidth:te.BANDWIDTH,averageBandwidth:te["AVERAGE-BANDWIDTH"],score:te.SCORE,codecs:te.CODECS,resolution:te.RESOLUTION,frameRate:te["FRAME-RATE"],hdcpLevel:te["HDCP-LEVEL"],allowedCpc:te["ALLOWED-CPC"],videoRange:te["VIDEO-RANGE"],stableVariantId:te["STABLE-VARIANT-ID"]}),_e=P(le);try{for(_e.s();!(Fe=_e.n()).done;){var l=Fe.value;if(l.name==="EXT-X-MEDIA"){var E=l.attributes,L=E.TYPE;if(L&&E["GROUP-ID"]||v.INVALIDPLAYLIST("EXT-X-MEDIA TYPE attribute is REQUIRED."),te[L]===E["GROUP-ID"]&&(ee(me,l,L),L==="CLOSED-CAPTIONS")){var z,Z=P(me.closedCaptions);try{for(Z.s();!(z=Z.n()).done;){var de=z.value.instreamId;if(de&&de.startsWith("SERVICE")&&Ee.compatibleVersion<7){Ee.compatibleVersion=7;break}}}catch(ce){Z.e(ce)}finally{Z.f()}}}}}catch(ce){_e.e(ce)}finally{_e.f()}return function(ce,Re,Ie){for(var nt=function(){var at=Je[Ye];at==="CLOSED-CAPTIONS"&&ce[at]==="NONE"?(Ie.isClosedCaptionsNone=!0,Re.closedCaptions=[]):ce[at]&&!Re[v.camelify(at)].some(function(ht){return ht.groupId===ce[at]})&&v.INVALIDPLAYLIST("".concat(at," attribute MUST match the value of the GROUP-ID attribute of an EXT-X-MEDIA tag whose TYPE attribute is ").concat(at,"."))},Ye=0,Je=["AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS"];Ye<Je.length;Ye++)nt()}(te,me,Ee),me.isIFrameOnly=Ne,me}function ve(le,te){if(le.method!==te.method||le.uri!==te.uri)return!1;if(le.iv){if(!te.iv||le.iv.length!==te.iv.length)return!1;for(var be=0;be<le.iv.length;be++)if(le.iv[be]!==te.iv[be])return!1}else if(te.iv)return!1;return le.format===te.format&&le.formatVersion===te.formatVersion}function Se(le,te,be,Ne,Ee,Fe,me){for(var _e=new O({uri:te,mediaSequenceNumber:Ee,discontinuitySequence:Fe}),l=!1,E=!1,L=be;L<=Ne;L++){var z=le[L],Z=z.name,de=z.value,ce=z.attributes;if(Z==="EXTINF")!Number.isInteger(de.duration)&&me.compatibleVersion<3&&(me.compatibleVersion=3),Math.round(de.duration)>me.targetDuration&&v.INVALIDPLAYLIST("EXTINF duration, when rounded to the nearest integer, MUST be less than or equal to the target duration"),_e.duration=de.duration,_e.title=de.title;else if(Z==="EXT-X-BYTERANGE")me.compatibleVersion<4&&(me.compatibleVersion=4),_e.byterange=de;else if(Z==="EXT-X-DISCONTINUITY")_e.parts.length>0&&v.INVALIDPLAYLIST("EXT-X-DISCONTINUITY must appear before the first EXT-X-PART tag of the Parent Segment."),_e.discontinuity=!0;else if(Z==="EXT-X-KEY")_e.parts.length>0&&v.INVALIDPLAYLIST("EXT-X-KEY must appear before the first EXT-X-PART tag of the Parent Segment."),fe(me,ce),_e.key=new H({method:ce.METHOD,uri:ce.URI,iv:ce.IV,format:ce.KEYFORMAT,formatVersion:ce.KEYFORMATVERSIONS});else if(Z==="EXT-X-MAP")_e.parts.length>0&&v.INVALIDPLAYLIST("EXT-X-MAP must appear before the first EXT-X-PART tag of the Parent Segment."),me.compatibleVersion<5&&(me.compatibleVersion=5),me.hasMap=!0,_e.map=new s({uri:ce.URI,byterange:ce.BYTERANGE});else if(Z==="EXT-X-PROGRAM-DATE-TIME")_e.programDateTime=de;else if(Z==="EXT-X-DATERANGE"){for(var Re={},Ie=0,nt=Object.keys(ce);Ie<nt.length;Ie++){var Ye=nt[Ie];(Ye.startsWith("SCTE35-")||Ye.startsWith("X-"))&&(Re[Ye]=ce[Ye])}_e.dateRange=new i({id:ce.ID,classId:ce.CLASS,start:ce["START-DATE"],end:ce["END-DATE"],duration:ce.DURATION,plannedDuration:ce["PLANNED-DURATION"],endOnNext:ce["END-ON-NEXT"],attributes:Re})}else if(Z==="EXT-X-CUE-OUT")_e.markers.push(new a({type:"OUT",duration:ce&&ce.DURATION||de}));else if(Z==="EXT-X-CUE-IN")_e.markers.push(new a({type:"IN"}));else if(Z==="EXT-X-CUE-OUT-CONT"||Z==="EXT-X-CUE"||Z==="EXT-OATCLS-SCTE35"||Z==="EXT-X-ASSET"||Z==="EXT-X-SCTE35")_e.markers.push(new a({type:"RAW",tagName:Z,value:de}));else if(Z!=="EXT-X-PRELOAD-HINT"||ce.TYPE)if(Z==="EXT-X-PRELOAD-HINT"&&ce.TYPE==="PART"&&E)v.INVALIDPLAYLIST("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist.");else if(Z!=="EXT-X-PART"&&Z!=="EXT-X-PRELOAD-HINT"||ce.URI){if(Z==="EXT-X-PRELOAD-HINT"&&ce.TYPE==="MAP")l&&v.INVALIDPLAYLIST("Servers should not add more than one EXT-X-PRELOAD-HINT tag with the same TYPE attribute to a Playlist."),l=!0,me.hasMap=!0,_e.map=new s({hint:!0,uri:ce.URI,byterange:{length:ce["BYTERANGE-LENGTH"],offset:ce["BYTERANGE-START"]||0}});else if(Z==="EXT-X-PART"||Z==="EXT-X-PRELOAD-HINT"&&ce.TYPE==="PART"){Z!=="EXT-X-PART"||ce.DURATION||v.INVALIDPLAYLIST("EXT-X-PART: DURATION attribute is mandatory"),Z==="EXT-X-PRELOAD-HINT"&&(E=!0);var Je=new ae({hint:Z==="EXT-X-PRELOAD-HINT",uri:ce.URI,byterange:Z==="EXT-X-PART"?ce.BYTERANGE:{length:ce["BYTERANGE-LENGTH"],offset:ce["BYTERANGE-START"]||0},duration:ce.DURATION,independent:ce.INDEPENDENT,gap:ce.GAP});_e.parts.push(Je)}}else v.INVALIDPLAYLIST("EXT-X-PART / EXT-X-PRELOAD-HINT: URI attribute is mandatory");else v.INVALIDPLAYLIST("EXT-X-PRELOAD-HINT: TYPE attribute is mandatory")}return _e}function Oe(le,te,be,Ne,Ee,Fe,me){for(var _e=new he({uri:te,mediaSequenceNumber:Ee,discontinuitySequence:Fe}),l=be;l<=Ne;l++){var E=le[l],L=E.name,z=E.attributes;L==="EXTINF"?v.INVALIDPLAYLIST("A prefetch segment must not be advertised with an EXTINF tag."):L==="EXT-X-DISCONTINUITY"?v.INVALIDPLAYLIST("A prefetch segment must not be advertised with an EXT-X-DISCONTINUITY tag."):L==="EXT-X-PREFETCH-DISCONTINUITY"?_e.discontinuity=!0:L==="EXT-X-KEY"?(fe(me,z),_e.key=new H({method:z.METHOD,uri:z.URI,iv:z.IV,format:z.KEYFORMAT,formatVersion:z.KEYFORMATVERSIONS})):L==="EXT-X-MAP"&&v.INVALIDPLAYLIST("Prefetch segments must not be advertised with an EXT-X-MAP tag.")}return _e}function De(le,te,be,Ne,Ee){var Fe=te.discontinuity,me=te.key,_e=te.map,l=te.byterange,E=te.uri;if(Fe&&(te.discontinuitySequence=be+1),me||(te.key=Ne),_e||(te.map=Ee),l&&l.offset===-1){var L=le.segments;if(L.length>0){var z=L[L.length-1];z.byterange&&z.uri===E?l.offset=z.byterange.offset+z.byterange.length:v.INVALIDPLAYLIST("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST be a sub-range of the same media resource")}else v.INVALIDPLAYLIST("If offset of EXT-X-BYTERANGE is not present, a previous Media Segment MUST appear in the Playlist file")}return le.segments.push(te),[te.discontinuitySequence,te.key,te.map]}function Me(le,te){var be=function(E){var L=E.indexOf(":");return L===-1?[E.slice(1).trim(),null]:[E.slice(1,L).trim(),E.slice(L+1).trim()]}(le),Ne=f(be,2),Ee=Ne[0],Fe=Ne[1],me=function(E){switch(E){case"EXTM3U":case"EXT-X-VERSION":return"Basic";case"EXTINF":case"EXT-X-BYTERANGE":case"EXT-X-DISCONTINUITY":case"EXT-X-PREFETCH-DISCONTINUITY":case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-PROGRAM-DATE-TIME":case"EXT-X-DATERANGE":case"EXT-X-CUE-OUT":case"EXT-X-CUE-IN":case"EXT-X-CUE-OUT-CONT":case"EXT-X-CUE":case"EXT-OATCLS-SCTE35":case"EXT-X-ASSET":case"EXT-X-SCTE35":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":return"Segment";case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":case"EXT-X-ENDLIST":case"EXT-X-PLAYLIST-TYPE":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-PREFETCH":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return"MediaPlaylist";case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":return"MasterPlaylist";case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-START":return"MediaorMasterPlaylist";default:return"Unknown"}}(Ee);if(function(E,L){if(E==="Segment"||E==="MediaPlaylist")return L.isMasterPlaylist===void 0?void(L.isMasterPlaylist=!1):void(L.isMasterPlaylist&&$());if(E==="MasterPlaylist"){if(L.isMasterPlaylist===void 0)return void(L.isMasterPlaylist=!0);L.isMasterPlaylist===!1&&$()}}(me,te),me==="Unknown")return null;me==="MediaPlaylist"&&Ee!=="EXT-X-RENDITION-REPORT"&&Ee!=="EXT-X-PREFETCH"&&(te.hash[Ee]&&v.INVALIDPLAYLIST("There MUST NOT be more than one Media Playlist tag of each type in any Media Playlist"),te.hash[Ee]=!0);var _e=function(E,L){switch(E){case"EXTM3U":case"EXT-X-DISCONTINUITY":case"EXT-X-ENDLIST":case"EXT-X-I-FRAMES-ONLY":case"EXT-X-INDEPENDENT-SEGMENTS":case"EXT-X-CUE-IN":return[null,null];case"EXT-X-VERSION":case"EXT-X-TARGETDURATION":case"EXT-X-MEDIA-SEQUENCE":case"EXT-X-DISCONTINUITY-SEQUENCE":return[v.toNumber(L),null];case"EXT-X-CUE-OUT":return Number.isNaN(Number(L))?[null,Q(L)]:[v.toNumber(L),null];case"EXT-X-KEY":case"EXT-X-MAP":case"EXT-X-DATERANGE":case"EXT-X-MEDIA":case"EXT-X-STREAM-INF":case"EXT-X-I-FRAME-STREAM-INF":case"EXT-X-SESSION-DATA":case"EXT-X-SESSION-KEY":case"EXT-X-START":case"EXT-X-SERVER-CONTROL":case"EXT-X-PART-INF":case"EXT-X-PART":case"EXT-X-PRELOAD-HINT":case"EXT-X-RENDITION-REPORT":case"EXT-X-SKIP":return[null,Q(L)];case"EXTINF":return[we(L),null];case"EXT-X-BYTERANGE":return[xe(L),null];case"EXT-X-PROGRAM-DATE-TIME":return[new Date(L),null];default:return[L,null]}}(Ee,Fe),l=f(_e,2);return{name:Ee,category:me,value:l[0],attributes:l[1]}}function je(le,te){var be;return te.isMasterPlaylist?be=function(Ne,Ee){var Fe,me=new S,_e=!1,l=P(Ne.entries());try{for(l.s();!(Fe=l.n()).done;){var E=f(Fe.value,2),L=E[0],z=E[1],Z=z.name,de=z.value,ce=z.attributes;if(Z==="EXT-X-VERSION")me.version=de;else if(Z==="EXT-X-STREAM-INF"){var Re=Ne[L+1];(typeof Re!="string"||Re.startsWith("#EXT"))&&v.INVALIDPLAYLIST("EXT-X-STREAM-INF must be followed by a URI line");var Ie=oe(Ne,ce,Re,!1,Ee);Ie&&(typeof Ie.score=="number"&&(_e=!0,Ie.score<0&&v.INVALIDPLAYLIST("SCORE attribute on EXT-X-STREAM-INF must be positive decimal-floating-point number.")),me.variants.push(Ie))}else if(Z==="EXT-X-I-FRAME-STREAM-INF"){var nt=oe(Ne,ce,ce.URI,!0,Ee);nt&&me.variants.push(nt)}else Z==="EXT-X-SESSION-DATA"?function(){var pt=new M({id:ce["DATA-ID"],value:ce.VALUE,uri:ce.URI,language:ce.LANGUAGE});me.sessionDataList.some(function(Dt){return Dt.id===pt.id&&Dt.language===pt.language})&&v.INVALIDPLAYLIST("A Playlist MUST NOT contain more than one EXT-X-SESSION-DATA tag with the same DATA-ID attribute and the same LANGUAGE attribute."),me.sessionDataList.push(pt)}():Z==="EXT-X-SESSION-KEY"?function(){ce.METHOD==="NONE"&&v.INVALIDPLAYLIST("EXT-X-SESSION-KEY: The value of the METHOD attribute MUST NOT be NONE");var pt=new H({method:ce.METHOD,uri:ce.URI,iv:ce.IV,format:ce.KEYFORMAT,formatVersion:ce.KEYFORMATVERSIONS});me.sessionKeyList.some(function(Dt){return ve(Dt,pt)})&&v.INVALIDPLAYLIST("A Master Playlist MUST NOT contain more than one EXT-X-SESSION-KEY tag with the same METHOD, URI, IV, KEYFORMAT, and KEYFORMATVERSIONS attribute values."),fe(Ee,ce),me.sessionKeyList.push(pt)}():Z==="EXT-X-INDEPENDENT-SEGMENTS"?(me.independentSegments&&v.INVALIDPLAYLIST("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist"),me.independentSegments=!0):Z==="EXT-X-START"&&(me.start&&v.INVALIDPLAYLIST("EXT-X-START tag MUST NOT appear more than once in a Playlist"),typeof ce["TIME-OFFSET"]!="number"&&v.INVALIDPLAYLIST("EXT-X-START: TIME-OFFSET attribute is REQUIRED"),me.start={offset:ce["TIME-OFFSET"],precise:ce.PRECISE||!1})}}catch(pt){l.e(pt)}finally{l.f()}if(_e){var Ye,Je=P(me.variants);try{for(Je.s();!(Ye=Je.n()).done;)typeof Ye.value.score!="number"&&v.INVALIDPLAYLIST("If any Variant Stream contains the SCORE attribute, then all Variant Streams in the Master Playlist SHOULD have a SCORE attribute")}catch(pt){Je.e(pt)}finally{Je.f()}}if(Ee.isClosedCaptionsNone){var at,ht=P(me.variants);try{for(ht.s();!(at=ht.n()).done;)at.value.closedCaptions.length>0&&v.INVALIDPLAYLIST("If there is a variant with CLOSED-CAPTIONS attribute of NONE, all EXT-X-STREAM-INF tags MUST have this attribute with a value of NONE")}catch(pt){ht.e(pt)}finally{ht.f()}}return me}(le,te):!(be=function(Ne,Ee){var Fe,me=new _,_e=-1,l=0,E=!1,L=!1,z=0,Z=null,de=null,ce=!1,Re=P(Ne.entries());try{for(Re.s();!(Fe=Re.n()).done;){var Ie=f(Fe.value,2),nt=Ie[0],Ye=Ie[1],Je=Ye.name,at=Ye.value,ht=Ye.attributes;if(Ye.category!=="Segment"){if(Je==="EXT-X-VERSION")me.version===void 0?me.version=at:v.INVALIDPLAYLIST("A Playlist file MUST NOT contain more than one EXT-X-VERSION tag.");else if(Je==="EXT-X-TARGETDURATION")me.targetDuration=Ee.targetDuration=at;else if(Je==="EXT-X-MEDIA-SEQUENCE")me.segments.length>0&&v.INVALIDPLAYLIST("The EXT-X-MEDIA-SEQUENCE tag MUST appear before the first Media Segment in the Playlist."),me.mediaSequenceBase=l=at;else if(Je==="EXT-X-DISCONTINUITY-SEQUENCE")me.segments.length>0&&v.INVALIDPLAYLIST("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before the first Media Segment in the Playlist."),E&&v.INVALIDPLAYLIST("The EXT-X-DISCONTINUITY-SEQUENCE tag MUST appear before any EXT-X-DISCONTINUITY tag."),me.discontinuitySequenceBase=z=at;else if(Je==="EXT-X-ENDLIST")me.endlist=!0;else if(Je==="EXT-X-PLAYLIST-TYPE")me.playlistType=at;else if(Je==="EXT-X-I-FRAMES-ONLY")Ee.compatibleVersion<4&&(Ee.compatibleVersion=4),me.isIFrame=!0;else if(Je==="EXT-X-INDEPENDENT-SEGMENTS")me.independentSegments&&v.INVALIDPLAYLIST("EXT-X-INDEPENDENT-SEGMENTS tag MUST NOT appear more than once in a Playlist"),me.independentSegments=!0;else if(Je==="EXT-X-START")me.start&&v.INVALIDPLAYLIST("EXT-X-START tag MUST NOT appear more than once in a Playlist"),typeof ht["TIME-OFFSET"]!="number"&&v.INVALIDPLAYLIST("EXT-X-START: TIME-OFFSET attribute is REQUIRED"),me.start={offset:ht["TIME-OFFSET"],precise:ht.PRECISE||!1};else if(Je==="EXT-X-SERVER-CONTROL")ht["CAN-BLOCK-RELOAD"]||v.INVALIDPLAYLIST("EXT-X-SERVER-CONTROL: CAN-BLOCK-RELOAD=YES is mandatory for Low-Latency HLS"),me.lowLatencyCompatibility={canBlockReload:ht["CAN-BLOCK-RELOAD"],canSkipUntil:ht["CAN-SKIP-UNTIL"],holdBack:ht["HOLD-BACK"],partHoldBack:ht["PART-HOLD-BACK"]};else if(Je==="EXT-X-PART-INF")ht["PART-TARGET"]||v.INVALIDPLAYLIST("EXT-X-PART-INF: PART-TARGET attribute is mandatory"),me.partTargetDuration=ht["PART-TARGET"];else if(Je==="EXT-X-RENDITION-REPORT")ht.URI||v.INVALIDPLAYLIST("EXT-X-RENDITION-REPORT: URI attribute is mandatory"),ht.URI.search(/^[a-z]+:/)===0&&v.INVALIDPLAYLIST("EXT-X-RENDITION-REPORT: URI must be relative to the playlist uri"),me.renditionReports.push(new Ae({uri:ht.URI,lastMSN:ht["LAST-MSN"],lastPart:ht["LAST-PART"]}));else if(Je==="EXT-X-SKIP")ht["SKIPPED-SEGMENTS"]||v.INVALIDPLAYLIST("EXT-X-SKIP: SKIPPED-SEGMENTS attribute is mandatory"),Ee.compatibleVersion<9&&(Ee.compatibleVersion=9),me.skip=ht["SKIPPED-SEGMENTS"],l+=me.skip;else if(Je==="EXT-X-PREFETCH"){var pt=Oe(Ne,at,_e===-1?nt:_e,nt-1,l++,z,Ee);pt&&(pt.discontinuity&&(pt.discontinuitySequence++,z=pt.discontinuitySequence),pt.key?Z=pt.key:pt.key=Z,me.prefetchSegments.push(pt)),L=!0,_e=-1}else if(typeof Ye=="string"){_e===-1&&v.INVALIDPLAYLIST("A URI line is not preceded by any segment tags"),me.targetDuration||v.INVALIDPLAYLIST("The EXT-X-TARGETDURATION tag is REQUIRED"),L&&v.INVALIDPLAYLIST("These segments must appear after all complete segments.");var Dt=Se(Ne,Ye,_e,nt-1,l++,z,Ee);if(Dt){var oi=f(De(me,Dt,z,Z,de),3);z=oi[0],Z=oi[1],de=oi[2],!ce&&Dt.parts.length>0&&(ce=!0)}_e=-1}}else _e===-1&&(_e=nt),Je==="EXT-X-DISCONTINUITY"&&(E=!0)}}catch(Ot){Re.e(Ot)}finally{Re.f()}if(_e!==-1){var Yt=Se(Ne,"",_e,Ne.length-1,l++,z,Ee);if(Yt){var ti=Yt.parts;ti.length>0&&!me.endlist&&!ti[ti.length-1].hint&&v.INVALIDPLAYLIST("If the Playlist contains EXT-X-PART tags and does not contain an EXT-X-ENDLIST tag, the Playlist must contain an EXT-X-PRELOAD-HINT tag with a TYPE=PART attribute"),De(me,Yt,Z,de),!ce&&Yt.parts.length>0&&(ce=!0)}}return function(Ot){for(var U=new Map,q=new Map,ie=!1,pe=!1,Ce=Ot.length-1;Ce>=0;Ce--){var ze=Ot[Ce],dt=ze.programDateTime,Ke=ze.dateRange;if(dt&&(pe=!0),Ke&&Ke.start){ie=!0,Ke.endOnNext&&(Ke.end||Ke.duration)&&v.INVALIDPLAYLIST("An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.");var gt=Ke.start.getTime(),Et=Ke.duration||0;Ke.end&&Ke.duration&&gt+1e3*Et!==Ke.end.getTime()&&v.INVALIDPLAYLIST("END-DATE MUST be equal to the value of the START-DATE attribute plus the value of the DURATION"),Ke.endOnNext&&(Ke.end=U.get(Ke.classId)),U.set(Ke.classId,Ke.start);var yt=Ke.end?Ke.end.getTime():Ke.start.getTime()+1e3*(Ke.duration||0),mt=q.get(Ke.classId);if(mt){var ot,Lt=P(mt);try{for(Lt.s();!(ot=Lt.n()).done;){var Nt=ot.value;(Nt.start<=gt&&Nt.end>gt||Nt.start>=gt&&Nt.start<yt)&&v.INVALIDPLAYLIST("DATERANGE tags with the same CLASS should not overlap")}}catch(wt){Lt.e(wt)}finally{Lt.f()}mt.push({start:gt,end:yt})}else q.set(Ke.classId,[{start:gt,end:yt}])}}ie&&!pe&&v.INVALIDPLAYLIST("If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.")}(me.segments),me.lowLatencyCompatibility&&function(Ot,U){var q=Ot.lowLatencyCompatibility,ie=Ot.targetDuration,pe=Ot.partTargetDuration,Ce=Ot.segments,ze=Ot.renditionReports,dt=q.canSkipUntil,Ke=q.holdBack,gt=q.partHoldBack;if(dt<6*ie&&v.INVALIDPLAYLIST("The Skip Boundary must be at least six times the EXT-X-TARGETDURATION."),Ke<3*ie&&v.INVALIDPLAYLIST("HOLD-BACK must be at least three times the EXT-X-TARGETDURATION."),U){pe===void 0&&v.INVALIDPLAYLIST("EXT-X-PART-INF is required if a Playlist contains one or more EXT-X-PART tags"),gt===void 0&&v.INVALIDPLAYLIST("EXT-X-PART: PART-HOLD-BACK attribute is mandatory"),gt<pe&&v.INVALIDPLAYLIST("PART-HOLD-BACK must be at least PART-TARGET");var Et,yt=P(Ce.entries());try{for(yt.s();!(Et=yt.n()).done;){var mt=f(Et.value,2),ot=mt[0],Lt=mt[1].parts;Lt.length>0&&ot<Ce.length-3&&v.INVALIDPLAYLIST("Remove EXT-X-PART tags from the Playlist after they are greater than three target durations from the end of the Playlist.");var Nt,wt=P(Lt.entries());try{for(wt.s();!(Nt=wt.n()).done;){var Xt=f(Nt.value,2),vt=Xt[0],ii=Xt[1].duration;ii!==void 0&&(ii>pe&&v.INVALIDPLAYLIST("PART-TARGET is the maximum duration of any Partial Segment"),vt<Lt.length-1&&ii<.85*pe&&v.INVALIDPLAYLIST("All Partial Segments except the last part of a segment must have a duration of at least 85% of PART-TARGET"))}}catch(hi){wt.e(hi)}finally{wt.f()}}}catch(hi){yt.e(hi)}finally{yt.f()}}var Mt,Kt=P(ze);try{for(Kt.s();!(Mt=Kt.n()).done;){var di=Mt.value,si=Ce[Ce.length-1];di.lastMSN||(di.lastMSN=si.mediaSequenceNumber),!di.lastPart&&si.parts.length>0&&(di.lastPart=si.parts.length-1)}}catch(hi){Kt.e(hi)}finally{Kt.f()}}(me,ce),me}(le,te)).isIFrame&&te.hasMap&&te.compatibleVersion<6&&(te.compatibleVersion=6),te.compatibleVersion>1&&(!be.version||be.version<te.compatibleVersion)&&v.INVALIDPLAYLIST("EXT-X-VERSION needs to be ".concat(te.compatibleVersion," or higher.")),be}c.exports=function(le){var te={version:void 0,isMasterPlaylist:void 0,hasMap:!1,targetDuration:0,compatibleVersion:1,isClosedCaptionsNone:!1,hash:{}},be=function(Ee,Fe){var me,_e=[],l=P(Ee.split(`
`));try{for(l.s();!(me=l.n()).done;){var E=me.value,L=u.from(E.trim()).toString();if(L)if(L.startsWith("#")){if(L.startsWith("#EXT")){var z=Me(L,Fe);z&&_e.push(z)}}else _e.push(L)}}catch(Z){l.e(Z)}finally{l.f()}return _e.length!==0&&_e[0].name==="EXTM3U"||v.INVALIDPLAYLIST("The EXTM3U tag MUST be the first line."),_e}(le,te),Ne=je(be,te);return Ne.source=le,Ne}},367:(c,m,h)=>{function f(Q){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(Q)}function P(Q,$){return function(ee){if(Array.isArray(ee))return ee}(Q)||function(ee,oe){var ve=ee==null?null:typeof Symbol!="undefined"&&ee[Symbol.iterator]||ee["@@iterator"];if(ve!=null){var Se,Oe,De,Me,je=[],le=!0,te=!1;try{if(De=(ve=ve.call(ee)).next,oe===0){if(Object(ve)!==ve)return;le=!1}else for(;!(le=(Se=De.call(ve)).done)&&(je.push(Se.value),je.length!==oe);le=!0);}catch(be){te=!0,Oe=be}finally{try{if(!le&&ve.return!=null&&(Me=ve.return(),Object(Me)!==Me))return}finally{if(te)throw Oe}}return je}}(Q,$)||D(Q,$)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G(Q,$){var ee=typeof Symbol!="undefined"&&Q[Symbol.iterator]||Q["@@iterator"];if(!ee){if(Array.isArray(Q)||(ee=D(Q))||$&&Q&&typeof Q.length=="number"){ee&&(Q=ee);var oe=0,ve=function(){};return{s:ve,n:function(){return oe>=Q.length?{done:!0}:{done:!1,value:Q[oe++]}},e:function(Me){throw Me},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Se,Oe=!0,De=!1;return{s:function(){ee=ee.call(Q)},n:function(){var Me=ee.next();return Oe=Me.done,Me},e:function(Me){De=!0,Se=Me},f:function(){try{Oe||ee.return==null||ee.return()}finally{if(De)throw Se}}}}function D(Q,$){if(Q){if(typeof Q=="string")return v(Q,$);var ee=Object.prototype.toString.call(Q).slice(8,-1);return ee==="Object"&&Q.constructor&&(ee=Q.constructor.name),ee==="Map"||ee==="Set"?Array.from(Q):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?v(Q,$):void 0}}function v(Q,$){($==null||$>Q.length)&&($=Q.length);for(var ee=0,oe=new Array($);ee<$;ee++)oe[ee]=Q[ee];return oe}function y(Q,$){for(var ee=0;ee<$.length;ee++){var oe=$[ee];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(Q,(ve=function(Se){if(f(Se)!=="object"||Se===null)return Se;var Oe=Se[Symbol.toPrimitive];if(Oe!==void 0){var De=Oe.call(Se,"string");if(f(De)!=="object")return De;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Se)}(oe.key),f(ve)==="symbol"?ve:String(ve)),oe)}var ve}function F(){return F=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(Q,$,ee){var oe=function(Se,Oe){for(;!Object.prototype.hasOwnProperty.call(Se,Oe)&&(Se=a(Se))!==null;);return Se}(Q,$);if(oe){var ve=Object.getOwnPropertyDescriptor(oe,$);return ve.get?ve.get.call(arguments.length<3?Q:ee):ve.value}},F.apply(this,arguments)}function b(Q,$){if($&&(f($)==="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}(Q)}function M(Q){var $=typeof Map=="function"?new Map:void 0;return M=function(ee){if(ee===null||(oe=ee,Function.toString.call(oe).indexOf("[native code]")===-1))return ee;var oe;if(typeof ee!="function")throw new TypeError("Super expression must either be null or a function");if($!==void 0){if($.has(ee))return $.get(ee);$.set(ee,ve)}function ve(){return H(ee,arguments,a(this).constructor)}return ve.prototype=Object.create(ee.prototype,{constructor:{value:ve,enumerable:!1,writable:!0,configurable:!0}}),i(ve,ee)},M(Q)}function H(Q,$,ee){return H=s()?Reflect.construct.bind():function(oe,ve,Se){var Oe=[null];Oe.push.apply(Oe,ve);var De=new(Function.bind.apply(oe,Oe));return Se&&i(De,Se.prototype),De},H.apply(null,arguments)}function s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Q){return!1}}function i(Q,$){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,oe){return ee.__proto__=oe,ee},i(Q,$)}function a(Q){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},a(Q)}var S=h(771),_=["#EXTINF","#EXT-X-BYTERANGE","#EXT-X-DISCONTINUITY","#EXT-X-STREAM-INF","#EXT-X-CUE-OUT","#EXT-X-CUE-IN","#EXT-X-KEY","#EXT-X-MAP"],O=["#EXT-X-MEDIA"],ae=function(Q){(function(De,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(Me&&Me.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),Me&&i(De,Me)})(Oe,Q);var $,ee,oe,ve,Se=($=Oe,ee=s(),function(){var De,Me=a($);if(ee){var je=a(this).constructor;De=Reflect.construct(Me,arguments,je)}else De=Me.apply(this,arguments);return b(this,De)});function Oe(De){var Me;return function(je,le){if(!(je instanceof le))throw new TypeError("Cannot call a class as a function")}(this,Oe),(Me=Se.call(this)).baseUri=De,Me}return oe=Oe,ve=[{key:"push",value:function(){for(var De=this,Me=arguments.length,je=new Array(Me),le=0;le<Me;le++)je[le]=arguments[le];for(var te=function(){var Ee=Ne[be];if(!Ee.startsWith("#")||_.some(function(Fe){return Ee.startsWith(Fe)}))return F(a(Oe.prototype),"push",De).call(De,Ee),"continue";if(De.includes(Ee)){if(O.some(function(Fe){return Ee.startsWith(Fe)}))return"continue";S.INVALIDPLAYLIST("Redundant item (".concat(Ee,")"))}F(a(Oe.prototype),"push",De).call(De,Ee)},be=0,Ne=je;be<Ne.length;be++)te()}}],ve&&y(oe.prototype,ve),Object.defineProperty(oe,"prototype",{writable:!1}),Oe}(M(Array));function he(Q,$){var ee=1e3;$&&(ee=Math.pow(10,$));var oe=Math.round(Q*ee)/ee;return $?oe.toFixed($):oe}function Ae(Q){var $=['DATA-ID="'.concat(Q.id,'"')];return Q.language&&$.push('LANGUAGE="'.concat(Q.language,'"')),Q.value?$.push('VALUE="'.concat(Q.value,'"')):Q.uri&&$.push('URI="'.concat(Q.uri,'"')),"#EXT-X-SESSION-DATA:".concat($.join(","))}function ye(Q,$){var ee=$?"#EXT-X-SESSION-KEY":"#EXT-X-KEY",oe=["METHOD=".concat(Q.method)];return Q.uri&&oe.push('URI="'.concat(Q.uri,'"')),Q.iv&&(Q.iv.length!==16&&S.INVALIDPLAYLIST("IV must be a 128-bit unsigned integer"),oe.push("IV=".concat(S.byteSequenceToHex(Q.iv)))),Q.format&&oe.push('KEYFORMAT="'.concat(Q.format,'"')),Q.formatVersion&&oe.push('KEYFORMATVERSIONS="'.concat(Q.formatVersion,'"')),"".concat(ee,":").concat(oe.join(","))}function we(Q,$){var ee=$.isIFrameOnly?"#EXT-X-I-FRAME-STREAM-INF":"#EXT-X-STREAM-INF",oe=["BANDWIDTH=".concat($.bandwidth)];if($.averageBandwidth&&oe.push("AVERAGE-BANDWIDTH=".concat($.averageBandwidth)),$.isIFrameOnly&&oe.push('URI="'.concat($.uri,'"')),$.codecs&&oe.push('CODECS="'.concat($.codecs,'"')),$.resolution&&oe.push("RESOLUTION=".concat($.resolution.width,"x").concat($.resolution.height)),$.frameRate&&oe.push("FRAME-RATE=".concat(he($.frameRate,3))),$.hdcpLevel&&oe.push("HDCP-LEVEL=".concat($.hdcpLevel)),$.audio.length>0){oe.push('AUDIO="'.concat($.audio[0].groupId,'"'));var ve,Se=G($.audio);try{for(Se.s();!(ve=Se.n()).done;){var Oe=ve.value;Q.push(xe(Oe))}}catch(Z){Se.e(Z)}finally{Se.f()}}if($.video.length>0){oe.push('VIDEO="'.concat($.video[0].groupId,'"'));var De,Me=G($.video);try{for(Me.s();!(De=Me.n()).done;){var je=De.value;Q.push(xe(je))}}catch(Z){Me.e(Z)}finally{Me.f()}}if($.subtitles.length>0){oe.push('SUBTITLES="'.concat($.subtitles[0].groupId,'"'));var le,te=G($.subtitles);try{for(te.s();!(le=te.n()).done;){var be=le.value;Q.push(xe(be))}}catch(Z){te.e(Z)}finally{te.f()}}if(S.getOptions().allowClosedCaptionsNone&&$.closedCaptions.length===0)oe.push("CLOSED-CAPTIONS=NONE");else if($.closedCaptions.length>0){oe.push('CLOSED-CAPTIONS="'.concat($.closedCaptions[0].groupId,'"'));var Ne,Ee=G($.closedCaptions);try{for(Ee.s();!(Ne=Ee.n()).done;){var Fe=Ne.value;Q.push(xe(Fe))}}catch(Z){Ee.e(Z)}finally{Ee.f()}}if($.score&&oe.push("SCORE=".concat($.score)),$.allowedCpc){var me,_e=[],l=G($.allowedCpc);try{for(l.s();!(me=l.n()).done;){var E=me.value,L=E.format,z=E.cpcList;_e.push("".concat(L,":").concat(z.join("/")))}}catch(Z){l.e(Z)}finally{l.f()}oe.push('ALLOWED-CPC="'.concat(_e.join(","),'"'))}$.videoRange&&oe.push("VIDEO-RANGE=".concat($.videoRange)),$.stableVariantId&&oe.push('STABLE-VARIANT-ID="'.concat($.stableVariantId,'"')),Q.push("".concat(ee,":").concat(oe.join(","))),$.isIFrameOnly||Q.push("".concat($.uri))}function xe(Q){var $=["TYPE=".concat(Q.type),'GROUP-ID="'.concat(Q.groupId,'"'),'NAME="'.concat(Q.name,'"')];return Q.isDefault!==void 0&&$.push("DEFAULT=".concat(Q.isDefault?"YES":"NO")),Q.autoselect!==void 0&&$.push("AUTOSELECT=".concat(Q.autoselect?"YES":"NO")),Q.forced!==void 0&&$.push("FORCED=".concat(Q.forced?"YES":"NO")),Q.language&&$.push('LANGUAGE="'.concat(Q.language,'"')),Q.assocLanguage&&$.push('ASSOC-LANGUAGE="'.concat(Q.assocLanguage,'"')),Q.instreamId&&$.push('INSTREAM-ID="'.concat(Q.instreamId,'"')),Q.characteristics&&$.push('CHARACTERISTICS="'.concat(Q.characteristics,'"')),Q.channels&&$.push('CHANNELS="'.concat(Q.channels,'"')),Q.uri&&$.push('URI="'.concat(Q.uri,'"')),"#EXT-X-MEDIA:".concat($.join(","))}function Xe(Q,$,ee,oe){var ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,Se=!1,Oe="";if($.discontinuity&&Q.push("#EXT-X-DISCONTINUITY"),$.key){var De=ye($.key);De!==ee&&(Q.push(De),ee=De)}if($.map){var Me=function(le){var te=['URI="'.concat(le.uri,'"')];return le.byterange&&te.push('BYTERANGE="'.concat(Ge(le.byterange),'"')),"#EXT-X-MAP:".concat(te.join(","))}($.map);Me!==oe&&(Q.push(Me),oe=Me)}if($.programDateTime&&Q.push("#EXT-X-PROGRAM-DATE-TIME:".concat(S.formatDate($.programDateTime))),$.dateRange&&Q.push(function(le){var te=['ID="'.concat(le.id,'"')];le.start&&te.push('START-DATE="'.concat(S.formatDate(le.start),'"')),le.end&&te.push('END-DATE="'.concat(le.end,'"')),le.duration&&te.push("DURATION=".concat(le.duration)),le.plannedDuration&&te.push("PLANNED-DURATION=".concat(le.plannedDuration)),le.classId&&te.push('CLASS="'.concat(le.classId,'"')),le.endOnNext&&te.push("END-ON-NEXT=YES");for(var be=0,Ne=Object.keys(le.attributes);be<Ne.length;be++){var Ee=Ne[be];Ee.startsWith("X-")?typeof le.attributes[Ee]=="number"?te.push("".concat(Ee,"=").concat(le.attributes[Ee])):te.push("".concat(Ee,'="').concat(le.attributes[Ee],'"')):Ee.startsWith("SCTE35-")&&te.push("".concat(Ee,"=").concat(S.byteSequenceToHex(le.attributes[Ee])))}return"#EXT-X-DATERANGE:".concat(te.join(","))}($.dateRange)),$.markers.length>0&&(Oe=Qe(Q,$.markers)),$.parts.length>0&&(Se=fe(Q,$.parts)),Se)return[ee,oe];var je=ve<3?Math.round($.duration):he($.duration,function(le){var te=le.toString(10),be=te.indexOf(".");return be===-1?0:te.length-be-1}($.duration));return Q.push("#EXTINF:".concat(je,",").concat(unescape(encodeURIComponent($.title||"")))),$.byterange&&Q.push("#EXT-X-BYTERANGE:".concat(Ge($.byterange))),Array.prototype.push.call(Q,"".concat($.uri)),[ee,oe,Oe]}function Ge(Q){var $=Q.offset,ee=Q.length;return"".concat(ee,"@").concat($)}function Qe(Q,$){var ee,oe="",ve=G($);try{for(ve.s();!(ee=ve.n()).done;){var Se=ee.value;if(Se.type==="OUT")oe="OUT",Q.push("#EXT-X-CUE-OUT:DURATION=".concat(Se.duration));else if(Se.type==="IN")oe="IN",Q.push("#EXT-X-CUE-IN");else if(Se.type==="RAW"){var Oe=Se.value?":".concat(Se.value):"";Q.push("#".concat(Se.tagName).concat(Oe))}}}catch(De){ve.e(De)}finally{ve.f()}return oe}function fe(Q,$){var ee,oe=!1,ve=G($);try{for(ve.s();!(ee=ve.n()).done;){var Se=ee.value;if(Se.hint){var Oe=[];if(Oe.push("TYPE=PART",'URI="'.concat(Se.uri,'"')),Se.byterange){var De=Se.byterange,Me=De.offset,je=De.length;Oe.push("BYTERANGE-START=".concat(Me)),je&&Oe.push("BYTERANGE-LENGTH=".concat(je))}Q.push("#EXT-X-PRELOAD-HINT:".concat(Oe.join(","))),oe=!0}else{var le=[];le.push("DURATION=".concat(Se.duration),'URI="'.concat(Se.uri,'"')),Se.byterange&&le.push("BYTERANGE=".concat(Ge(Se.byterange))),Se.independent&&le.push("INDEPENDENT=YES"),Se.gap&&le.push("GAP=YES"),Q.push("#EXT-X-PART:".concat(le.join(",")))}}}catch(te){ve.e(te)}finally{ve.f()}return oe}c.exports=function(Q){S.PARAMCHECK(Q),S.ASSERT("Not a playlist",Q.type==="playlist");var $=new ae(Q.uri);return $.push("#EXTM3U"),Q.version&&$.push("#EXT-X-VERSION:".concat(Q.version)),Q.independentSegments&&$.push("#EXT-X-INDEPENDENT-SEGMENTS"),Q.start&&$.push("#EXT-X-START:TIME-OFFSET=".concat(he(Q.start.offset)).concat(Q.start.precise?",PRECISE=YES":"")),Q.isMasterPlaylist?function(ee,oe){var ve,Se=G(oe.sessionDataList);try{for(Se.s();!(ve=Se.n()).done;){var Oe=ve.value;ee.push(Ae(Oe))}}catch(be){Se.e(be)}finally{Se.f()}var De,Me=G(oe.sessionKeyList);try{for(Me.s();!(De=Me.n()).done;){var je=De.value;ee.push(ye(je,!0))}}catch(be){Me.e(be)}finally{Me.f()}var le,te=G(oe.variants);try{for(te.s();!(le=te.n()).done;)we(ee,le.value)}catch(be){te.e(be)}finally{te.f()}}($,Q):function(ee,oe){var ve="",Se="",Oe=!1;if(oe.targetDuration&&ee.push("#EXT-X-TARGETDURATION:".concat(oe.targetDuration)),oe.lowLatencyCompatibility){var De=oe.lowLatencyCompatibility,Me=De.canBlockReload,je=De.canSkipUntil,le=De.holdBack,te=De.partHoldBack,be=[];be.push("CAN-BLOCK-RELOAD=".concat(Me?"YES":"NO")),je!==void 0&&be.push("CAN-SKIP-UNTIL=".concat(je)),le!==void 0&&be.push("HOLD-BACK=".concat(le)),te!==void 0&&be.push("PART-HOLD-BACK=".concat(te)),ee.push("#EXT-X-SERVER-CONTROL:".concat(be.join(",")))}oe.partTargetDuration&&ee.push("#EXT-X-PART-INF:PART-TARGET=".concat(oe.partTargetDuration)),oe.mediaSequenceBase&&ee.push("#EXT-X-MEDIA-SEQUENCE:".concat(oe.mediaSequenceBase)),oe.discontinuitySequenceBase&&ee.push("#EXT-X-DISCONTINUITY-SEQUENCE:".concat(oe.discontinuitySequenceBase)),oe.playlistType&&ee.push("#EXT-X-PLAYLIST-TYPE:".concat(oe.playlistType)),oe.isIFrame&&ee.push("#EXT-X-I-FRAMES-ONLY"),oe.skip>0&&ee.push("#EXT-X-SKIP:SKIPPED-SEGMENTS=".concat(oe.skip));var Ne,Ee=G(oe.segments);try{for(Ee.s();!(Ne=Ee.n()).done;){var Fe,me=P(Xe(ee,Ne.value,ve,Se,oe.version),3);ve=me[0],Se=me[1],(Fe=me[2])==="OUT"?Oe=!0:Fe==="IN"&&Oe&&(Oe=!1)}}catch(ce){Ee.e(ce)}finally{Ee.f()}oe.playlistType==="VOD"&&Oe&&ee.push("#EXT-X-CUE-IN"),oe.prefetchSegments.length>2&&S.INVALIDPLAYLIST("The server must deliver no more than two prefetch segments");var _e,l=G(oe.prefetchSegments);try{for(l.s();!(_e=l.n()).done;){var E=_e.value;E.discontinuity&&ee.push("#EXT-X-PREFETCH-DISCONTINUITY"),ee.push("#EXT-X-PREFETCH:".concat(E.uri))}}catch(ce){l.e(ce)}finally{l.f()}oe.endlist&&ee.push("#EXT-X-ENDLIST");var L,z=G(oe.renditionReports);try{for(z.s();!(L=z.n()).done;){var Z=L.value,de=[];de.push('URI="'.concat(Z.uri,'"'),"LAST-MSN=".concat(Z.lastMSN)),Z.lastPart!==void 0&&de.push("LAST-PART=".concat(Z.lastPart)),ee.push("#EXT-X-RENDITION-REPORT:".concat(de.join(",")))}}catch(ce){z.e(ce)}finally{z.f()}}($,Q),$.join(`
`)}},890:(c,m,h)=>{function f(fe){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},f(fe)}function P(fe,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(Q&&Q.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),Q&&G(fe,Q)}function G(fe,Q){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,ee){return $.__proto__=ee,$},G(fe,Q)}function D(fe){var Q=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,ee=y(fe);if(Q){var oe=y(this).constructor;$=Reflect.construct(ee,arguments,oe)}else $=ee.apply(this,arguments);return v(this,$)}}function v(fe,Q){if(Q&&(f(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}(fe)}function y(fe){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},y(fe)}function F(fe,Q){for(var $=0;$<Q.length;$++){var ee=Q[$];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(fe,(oe=function(ve){if(f(ve)!=="object"||ve===null)return ve;var Se=ve[Symbol.toPrimitive];if(Se!==void 0){var Oe=Se.call(ve,"string");if(f(Oe)!=="object")return Oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(ee.key),f(oe)==="symbol"?oe:String(oe)),ee)}var oe}function b(fe,Q,$){return Q&&F(fe.prototype,Q),$&&F(fe,$),Object.defineProperty(fe,"prototype",{writable:!1}),fe}function M(fe,Q){if(!(fe instanceof Q))throw new TypeError("Cannot call a class as a function")}var H=h(771),s=b(function fe(Q){var $=Q.type,ee=Q.uri,oe=Q.groupId,ve=Q.language,Se=Q.assocLanguage,Oe=Q.name,De=Q.isDefault,Me=Q.autoselect,je=Q.forced,le=Q.instreamId,te=Q.characteristics,be=Q.channels;M(this,fe),H.PARAMCHECK($,oe,Oe),H.CONDITIONALASSERT([$==="SUBTITLES",ee],[$==="CLOSED-CAPTIONS",le],[$==="CLOSED-CAPTIONS",!ee],[je,$==="SUBTITLES"]),this.type=$,this.uri=ee,this.groupId=oe,this.language=ve,this.assocLanguage=Se,this.name=Oe,this.isDefault=De,this.autoselect=Me,this.forced=je,this.instreamId=le,this.characteristics=te,this.channels=be}),i=b(function fe(Q){var $=Q.uri,ee=Q.isIFrameOnly,oe=ee!==void 0&&ee,ve=Q.bandwidth,Se=Q.averageBandwidth,Oe=Q.score,De=Q.codecs,Me=Q.resolution,je=Q.frameRate,le=Q.hdcpLevel,te=Q.allowedCpc,be=Q.videoRange,Ne=Q.stableVariantId,Ee=Q.audio,Fe=Ee===void 0?[]:Ee,me=Q.video,_e=me===void 0?[]:me,l=Q.subtitles,E=l===void 0?[]:l,L=Q.closedCaptions,z=L===void 0?[]:L,Z=Q.currentRenditions,de=Z===void 0?{audio:0,video:0,subtitles:0,closedCaptions:0}:Z;M(this,fe),H.PARAMCHECK($,ve),this.uri=$,this.isIFrameOnly=oe,this.bandwidth=ve,this.averageBandwidth=Se,this.score=Oe,this.codecs=De,this.resolution=Me,this.frameRate=je,this.hdcpLevel=le,this.allowedCpc=te,this.videoRange=be,this.stableVariantId=Ne,this.audio=Fe,this.video=_e,this.subtitles=E,this.closedCaptions=z,this.currentRenditions=de}),a=b(function fe(Q){var $=Q.id,ee=Q.value,oe=Q.uri,ve=Q.language;M(this,fe),H.PARAMCHECK($,ee||oe),H.ASSERT("SessionData cannot have both value and uri, shoud be either.",!(ee&&oe)),this.id=$,this.value=ee,this.uri=oe,this.language=ve}),S=b(function fe(Q){var $=Q.method,ee=Q.uri,oe=Q.iv,ve=Q.format,Se=Q.formatVersion;M(this,fe),H.PARAMCHECK($),H.CONDITIONALPARAMCHECK([$!=="NONE",ee]),H.CONDITIONALASSERT([$==="NONE",!(ee||oe||ve||Se)]),this.method=$,this.uri=ee,this.iv=oe,this.format=ve,this.formatVersion=Se}),_=b(function fe(Q){var $=Q.hint,ee=$!==void 0&&$,oe=Q.uri,ve=Q.mimeType,Se=Q.byterange;M(this,fe),H.PARAMCHECK(oe),this.hint=ee,this.uri=oe,this.mimeType=ve,this.byterange=Se}),O=b(function fe(Q){var $=Q.id,ee=Q.classId,oe=Q.start,ve=Q.end,Se=Q.duration,Oe=Q.plannedDuration,De=Q.endOnNext,Me=Q.attributes,je=Me===void 0?{}:Me;M(this,fe),H.PARAMCHECK($),H.CONDITIONALPARAMCHECK([De===!0,ee]),H.CONDITIONALASSERT([ve,oe],[ve,oe<=ve],[Se,Se>=0],[Oe,Oe>=0]),this.id=$,this.classId=ee,this.start=oe,this.end=ve,this.duration=Se,this.plannedDuration=Oe,this.endOnNext=De,this.attributes=je}),ae=b(function fe(Q){var $=Q.type,ee=Q.duration,oe=Q.tagName,ve=Q.value;M(this,fe),H.PARAMCHECK($),H.CONDITIONALPARAMCHECK([$==="OUT",ee]),H.CONDITIONALPARAMCHECK([$==="RAW",oe]),this.type=$,this.duration=ee,this.tagName=oe,this.value=ve}),he=b(function fe(Q){M(this,fe),H.PARAMCHECK(Q),this.type=Q}),Ae=function(fe){P($,fe);var Q=D($);function $(ee){var oe,ve=ee.isMasterPlaylist,Se=ee.uri,Oe=ee.version,De=ee.independentSegments,Me=De!==void 0&&De,je=ee.start,le=ee.source;return M(this,$),oe=Q.call(this,"playlist"),H.PARAMCHECK(ve),oe.isMasterPlaylist=ve,oe.uri=Se,oe.version=Oe,oe.independentSegments=Me,oe.start=je,oe.source=le,oe}return b($)}(he),ye=function(fe){P($,fe);var Q=D($);function $(){var ee,oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M(this,$),oe.isMasterPlaylist=!0,ee=Q.call(this,oe);var ve=oe.variants,Se=ve===void 0?[]:ve,Oe=oe.currentVariant,De=oe.sessionDataList,Me=De===void 0?[]:De,je=oe.sessionKeyList,le=je===void 0?[]:je;return ee.variants=Se,ee.currentVariant=Oe,ee.sessionDataList=Me,ee.sessionKeyList=le,ee}return b($)}(Ae),we=function(fe){P($,fe);var Q=D($);function $(){var ee,oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};M(this,$),oe.isMasterPlaylist=!1,ee=Q.call(this,oe);var ve=oe.targetDuration,Se=oe.mediaSequenceBase,Oe=Se===void 0?0:Se,De=oe.discontinuitySequenceBase,Me=De===void 0?0:De,je=oe.endlist,le=je!==void 0&&je,te=oe.playlistType,be=oe.isIFrame,Ne=oe.segments,Ee=Ne===void 0?[]:Ne,Fe=oe.prefetchSegments,me=Fe===void 0?[]:Fe,_e=oe.lowLatencyCompatibility,l=oe.partTargetDuration,E=oe.renditionReports,L=E===void 0?[]:E,z=oe.skip,Z=z===void 0?0:z,de=oe.hash;return ee.targetDuration=ve,ee.mediaSequenceBase=Oe,ee.discontinuitySequenceBase=Me,ee.endlist=le,ee.playlistType=te,ee.isIFrame=be,ee.segments=Ee,ee.prefetchSegments=me,ee.lowLatencyCompatibility=_e,ee.partTargetDuration=l,ee.renditionReports=L,ee.skip=Z,ee.hash=de,ee}return b($)}(Ae),xe=function(fe){P($,fe);var Q=D($);function $(ee){var oe,ve=ee.uri,Se=ee.mimeType,Oe=ee.data,De=ee.duration,Me=ee.title,je=ee.byterange,le=ee.discontinuity,te=ee.mediaSequenceNumber,be=te===void 0?0:te,Ne=ee.discontinuitySequence,Ee=Ne===void 0?0:Ne,Fe=ee.key,me=ee.map,_e=ee.programDateTime,l=ee.dateRange,E=ee.markers,L=E===void 0?[]:E,z=ee.parts,Z=z===void 0?[]:z;return M(this,$),(oe=Q.call(this,"segment")).uri=ve,oe.mimeType=Se,oe.data=Oe,oe.duration=De,oe.title=Me,oe.byterange=je,oe.discontinuity=le,oe.mediaSequenceNumber=be,oe.discontinuitySequence=Ee,oe.key=Fe,oe.map=me,oe.programDateTime=_e,oe.dateRange=l,oe.markers=L,oe.parts=Z,oe}return b($)}(he),Xe=function(fe){P($,fe);var Q=D($);function $(ee){var oe,ve=ee.hint,Se=ve!==void 0&&ve,Oe=ee.uri,De=ee.duration,Me=ee.independent,je=ee.byterange,le=ee.gap;return M(this,$),oe=Q.call(this,"part"),H.PARAMCHECK(Oe),oe.hint=Se,oe.uri=Oe,oe.duration=De,oe.independent=Me,oe.duration=De,oe.byterange=je,oe.gap=le,oe}return b($)}(he),Ge=function(fe){P($,fe);var Q=D($);function $(ee){var oe,ve=ee.uri,Se=ee.discontinuity,Oe=ee.mediaSequenceNumber,De=Oe===void 0?0:Oe,Me=ee.discontinuitySequence,je=Me===void 0?0:Me,le=ee.key;return M(this,$),oe=Q.call(this,"prefetch"),H.PARAMCHECK(ve),oe.uri=ve,oe.discontinuity=Se,oe.mediaSequenceNumber=De,oe.discontinuitySequence=je,oe.key=le,oe}return b($)}(he),Qe=b(function fe(Q){var $=Q.uri,ee=Q.lastMSN,oe=Q.lastPart;M(this,fe),H.PARAMCHECK($),this.uri=$,this.lastMSN=ee,this.lastPart=oe});c.exports={Rendition:s,Variant:i,SessionData:a,Key:S,MediaInitializationSection:_,DateRange:O,SpliceInfo:ae,Playlist:Ae,MasterPlaylist:ye,MediaPlaylist:we,Segment:xe,PartialSegment:Xe,PrefetchSegment:Ge,RenditionReport:Qe}},771:c=>{function m(y,F){return function(b){if(Array.isArray(b))return b}(y)||function(b,M){var H=b==null?null:typeof Symbol!="undefined"&&b[Symbol.iterator]||b["@@iterator"];if(H!=null){var s,i,a,S,_=[],O=!0,ae=!1;try{if(a=(H=H.call(b)).next,M===0){if(Object(H)!==H)return;O=!1}else for(;!(O=(s=a.call(H)).done)&&(_.push(s.value),_.length!==M);O=!0);}catch(he){ae=!0,i=he}finally{try{if(!O&&H.return!=null&&(S=H.return(),Object(S)!==S))return}finally{if(ae)throw i}}return _}}(y,F)||f(y,F)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(y,F){var b=typeof Symbol!="undefined"&&y[Symbol.iterator]||y["@@iterator"];if(!b){if(Array.isArray(y)||(b=f(y))||F&&y&&typeof y.length=="number"){b&&(y=b);var M=0,H=function(){};return{s:H,n:function(){return M>=y.length?{done:!0}:{done:!1,value:y[M++]}},e:function(S){throw S},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,i=!0,a=!1;return{s:function(){b=b.call(y)},n:function(){var S=b.next();return i=S.done,S},e:function(S){a=!0,s=S},f:function(){try{i||b.return==null||b.return()}finally{if(a)throw s}}}}function f(y,F){if(y){if(typeof y=="string")return P(y,F);var b=Object.prototype.toString.call(y).slice(8,-1);return b==="Object"&&y.constructor&&(b=y.constructor.name),b==="Map"||b==="Set"?Array.from(y):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?P(y,F):void 0}}function P(y,F){(F==null||F>y.length)&&(F=y.length);for(var b=0,M=new Array(F);b<F;b++)M[b]=y[b];return M}var G={};function D(y){if(G.strictMode)throw y;G.silent||console.error(y.message)}function v(y){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;if(typeof y=="number")return y;var b=F===10?Number.parseFloat(y,F):Number.parseInt(y,F);return Number.isNaN(b)?0:b}c.exports={THROW:D,ASSERT:function(y){for(var F=arguments.length,b=new Array(F>1?F-1:0),M=1;M<F;M++)b[M-1]=arguments[M];var H,s=h(b.entries());try{for(s.s();!(H=s.n()).done;){var i=m(H.value,2),a=i[0];i[1]||D(new Error("".concat(y," : Failed at [").concat(a,"]")))}}catch(S){s.e(S)}finally{s.f()}},CONDITIONALASSERT:function(){for(var y=arguments.length,F=new Array(y),b=0;b<y;b++)F[b]=arguments[b];var M,H=h(F.entries());try{for(H.s();!(M=H.n()).done;){var s=m(M.value,2),i=s[0],a=m(s[1],2),S=a[0],_=a[1];S&&(_||D(new Error("Conditional Assert : Failed at [".concat(i,"]"))))}}catch(O){H.e(O)}finally{H.f()}},PARAMCHECK:function(){for(var y=arguments.length,F=new Array(y),b=0;b<y;b++)F[b]=arguments[b];var M,H=h(F.entries());try{for(H.s();!(M=H.n()).done;){var s=m(M.value,2),i=s[0];s[1]===void 0&&D(new Error("Param Check : Failed at [".concat(i,"]")))}}catch(a){H.e(a)}finally{H.f()}},CONDITIONALPARAMCHECK:function(){for(var y=arguments.length,F=new Array(y),b=0;b<y;b++)F[b]=arguments[b];var M,H=h(F.entries());try{for(H.s();!(M=H.n()).done;){var s=m(M.value,2),i=s[0],a=m(s[1],2),S=a[0],_=a[1];S&&_===void 0&&D(new Error("Conditional Param Check : Failed at [".concat(i,"]")))}}catch(O){H.e(O)}finally{H.f()}},INVALIDPLAYLIST:function(y){D(new Error("Invalid Playlist : ".concat(y)))},toNumber:v,hexToByteSequence:function(y){(y.startsWith("0x")||y.startsWith("0X"))&&(y=y.slice(2));for(var F=[],b=0;b<y.length;b+=2)F.push(v(y.slice(b,b+2),16));return u.from(F)},byteSequenceToHex:function(y){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.length;b<=F&&D(new Error("end must be larger than start : start=".concat(F,", end=").concat(b)));for(var M=[],H=F;H<b;H++)M.push("0".concat((255&y[H]).toString(16).toUpperCase()).slice(-2));return"0x".concat(M.join(""))},tryCatch:function(y,F){try{return y()}catch(b){return F(b)}},splitAt:function(y,F){for(var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,M=-1,H=0,s=0;H<y.length;H++)if(y[H]===F){if(s++===b)return[y.slice(0,H),y.slice(H+1)];M=H}return M!==-1?[y.slice(0,M),y.slice(M+1)]:[y]},trim:function(y){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ";return y&&(y=y.trim(),F===" "||(y.startsWith(F)&&(y=y.slice(1)),y.endsWith(F)&&(y=y.slice(0,-1))),y)},splitByCommaWithPreservingQuotes:function(y){for(var F=[],b=!0,M=0,H=[],s=0;s<y.length;s++){var i=y[s];b&&i===","?(F.push(y.slice(M,s).trim()),M=s+1):i!=='"'&&i!=="'"||(b?(H.push(i),b=!1):i===H[H.length-1]?(H.pop(),b=!0):H.push(i))}return F.push(y.slice(M).trim()),F},camelify:function(y){var F,b=[],M=!1,H=h(y);try{for(H.s();!(F=H.n()).done;){var s=F.value;s!=="-"&&s!=="_"?M?(b.push(s.toUpperCase()),M=!1):b.push(s.toLowerCase()):M=!0}}catch(i){H.e(i)}finally{H.f()}return b.join("")},formatDate:function(y){var F=y.getUTCFullYear(),b=("0"+(y.getUTCMonth()+1)).slice(-2),M=("0"+y.getUTCDate()).slice(-2),H=("0"+y.getUTCHours()).slice(-2),s=("0"+y.getUTCMinutes()).slice(-2),i=("0"+y.getUTCSeconds()).slice(-2),a=("00"+y.getUTCMilliseconds()).slice(-3);return"".concat(F,"-").concat(b,"-").concat(M,"T").concat(H,":").concat(s,":").concat(i,".").concat(a,"Z")},hasOwnProp:function(y,F){return Object.hasOwnProperty.call(y,F)},setOptions:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};G=Object.assign(G,y)},getOptions:function(){return Object.assign({},G)}}}},T={},function c(m){var h=T[m];if(h!==void 0)return h.exports;var f=T[m]={exports:{}};return R[m](f,f.exports,c),f.exports}(851);var R,T},K.exports=g()},9318:(K,V)=>{V.read=function(d,g,u,R,T){var c,m,h=8*T-R-1,f=(1<<h)-1,P=f>>1,G=-7,D=u?T-1:0,v=u?-1:1,y=d[g+D];for(D+=v,c=y&(1<<-G)-1,y>>=-G,G+=h;G>0;c=256*c+d[g+D],D+=v,G-=8);for(m=c&(1<<-G)-1,c>>=-G,G+=R;G>0;m=256*m+d[g+D],D+=v,G-=8);if(c===0)c=1-P;else{if(c===f)return m?NaN:1/0*(y?-1:1);m+=Math.pow(2,R),c-=P}return(y?-1:1)*m*Math.pow(2,c-R)},V.write=function(d,g,u,R,T,c){var m,h,f,P=8*c-T-1,G=(1<<P)-1,D=G>>1,v=T===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=R?0:c-1,F=R?1:-1,b=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(h=isNaN(g)?1:0,m=G):(m=Math.floor(Math.log(g)/Math.LN2),g*(f=Math.pow(2,-m))<1&&(m--,f*=2),(g+=m+D>=1?v/f:v*Math.pow(2,1-D))*f>=2&&(m++,f/=2),m+D>=G?(h=0,m=G):m+D>=1?(h=(g*f-1)*Math.pow(2,T),m+=D):(h=g*Math.pow(2,D-1)*Math.pow(2,T),m=0));T>=8;d[u+y]=255&h,y+=F,h/=256,T-=8);for(m=m<<T|h,P+=T;P>0;d[u+y]=255&m,y+=F,m/=256,P-=8);d[u+y-F]|=128*b}},9907:K=>{var V,d,g=K.exports={};function u(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}function T(y){if(V===setTimeout)return setTimeout(y,0);if((V===u||!V)&&setTimeout)return V=setTimeout,setTimeout(y,0);try{return V(y,0)}catch(F){try{return V.call(null,y,0)}catch(b){return V.call(this,y,0)}}}(function(){try{V=typeof setTimeout=="function"?setTimeout:u}catch(y){V=u}try{d=typeof clearTimeout=="function"?clearTimeout:R}catch(y){d=R}})();var c,m=[],h=!1,f=-1;function P(){h&&c&&(h=!1,c.length?m=c.concat(m):f=-1,m.length&&G())}function G(){if(!h){var y=T(P);h=!0;for(var F=m.length;F;){for(c=m,m=[];++f<F;)c&&c[f].run();f=-1,F=m.length}c=null,h=!1,function(b){if(d===clearTimeout)return clearTimeout(b);if((d===R||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(b);try{return d(b)}catch(M){try{return d.call(null,b)}catch(H){return d.call(this,b)}}}(y)}}function D(y,F){this.fun=y,this.array=F}function v(){}g.nextTick=function(y){var F=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)F[b-1]=arguments[b];m.push(new D(y,F)),m.length!==1||h||T(G)},D.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=v,g.addListener=v,g.once=v,g.off=v,g.removeListener=v,g.removeAllListeners=v,g.emit=v,g.prependListener=v,g.prependOnceListener=v,g.listeners=function(y){return[]},g.binding=function(y){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(y){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},3555:(K,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>u});var g=d(2784);class u{constructor(T,c,m,h,f,P,G){this.method=g.Method.GET,this.videoKey=m,this.service=T,this.method=h,this.params=c||{},this.body=f,this.onSuccessCallback=P,this.onFailCallback=G}getService(){return this.service}getMethod(){var T;return(T=this.method)!==null&&T!==void 0?T:g.Method.GET}setMethod(T){this.method=T}getParams(){return this.params}getOnSuccess(){return this.onSuccessCallback}getOnFail(){return this.onFailCallback}getVideoKey(){return this.videoKey}getParam(T){return this.params[T]}setParam(T,c){return this.params[T]=c,this}setParams(T){this.params=T}getBody(){return this.body}setBody(T){this.body=T}isPost(){return this.method===g.Method.POST}}},6075:(K,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>m});var g=d(108),u=d(9065),R=d(3555),T=d(2784),c=d(61);class m{constructor(f){this.readyToSend=!1,this.servicesToWait=[g.A.Service.INIT,g.A.Service.START],this.onWillSendVideoRequestListeners=[],this.pluginRef=f,this._requests=[],this._waitingForToken=[],this._waitingForMetadata=[]}shouldSendStats(){return this.readyToSend}sendRequest(f){if(u.default.getInstance().getFastDataSessionToken()==="")return void this._waitingForToken.push(f);this._waitingForToken.forEach(v=>this.prepareParams(v)),this._requests.push(...this._waitingForToken),this._waitingForToken=[];let P=f.getVideoKey(),G=f.getParams(),D=f.getService();for(let v of this.onWillSendVideoRequestListeners)v(D,P,G);this.prepareParams(f),this._requests.push(f),this._processRequests()}prepareParams(f){let P=f.getService();P!=g.A.Service.START&&P!=g.A.Service.PING||(f.setParam("pingTime",f.getParam("pingTime")||u.default.getInstance().getFastDataService().getPingTime()),u.default.getInstance().getCommonVariable("appAnalytics","isEnabled")&&f.setParam("sessionParent",f.getParam("sessionParent")||u.default.getInstance().getFastDataSessionToken()));let G=f.getVideoKey();this.pluginRef.videos.existsVideo(G)&&f.setParam("code",f.getParam("code")||this.pluginRef.videos.getVideo(G).getViewCode()),P!==g.A.Service.INIT&&P!==g.A.Service.START&&P!==g.A.Service.ERROR||u.default.getInstance().getCommonVariable("appAnalytics","isEnabled")&&(f.setParam("parentId",f.getParam("sessionRoot")),f.setParam("navContext",f.getParam("navContext")||u.default.getInstance().getCommonVariable("appAnalytics","context")))}buildRequest(f,P,G,D,v,y){G=G!=null?G:T.Method.GET;let F=new R.default(f,P,"",G,D,v,y);return F.setMethod(G),F}_processRequests(){let f=this._requests;this._requests=[],f.forEach(P=>{if(this.servicesToWait.indexOf(P.getService())!==-1&&(this.readyToSend=!0),this.readyToSend){for(;this._waitingForMetadata.length;){let G=this._waitingForMetadata.shift();u.default.getInstance().pushData(u.default.getInstance().getOptions().offline?c.default.Consumer.PERSISTENT:c.default.Consumer.NQS,G.getService(),G.getMethod(),G.getParams(),G.getOnSuccess(),G.getOnFail())}u.default.getInstance().pushData(u.default.getInstance().getOptions().offline?c.default.Consumer.PERSISTENT:c.default.Consumer.NQS,P.getService(),P.getMethod(),P.getParams(),P.getOnSuccess(),P.getOnFail())}else this._waitingForMetadata.push(P)})}}},2784:(K,V,d)=>{"use strict";var g;d.r(V),d.d(V,{AnalyticsTag:()=>u,AppAnalyticsTag:()=>R,BalancerTag:()=>T,CoreTag:()=>c,Method:()=>g}),function(m){m.GET="GET",m.POST="POST"}(g||(g={}));let u="Analytics",R="AppAnalytics",T="Balancer",c="Core"},7276:(K,V,d)=>{"use strict";var g;d.r(V),d.d(V,{LogLevel:()=>g,default:()=>u}),function(R){R[R.SILENT=6]="SILENT",R[R.ERROR=5]="ERROR",R[R.WARNING=4]="WARNING",R[R.NOTICE=3]="NOTICE",R[R.DEBUG=2]="DEBUG",R[R.VERBOSE=1]="VERBOSE"}(g||(g={}));class u{static report(T,c,m,h){if(typeof console!="undefined"&&console.log){h=h||"darkcyan";let P={5:"e",4:"w",3:"n",2:"d",1:"v"}[m=m||g.NOTICE],G=`[NPAW - ${T}]`+this._getCurrentTime()+" "+P+":";if(u.logLevel<=m)if(u.plainLogs||typeof document!="undefined"&&document.documentMode)this._plainReport(c,G);else{let D;D=m===g.ERROR&&console.error?console.error:m===g.WARNING&&console.warn?console.warn:m===g.DEBUG&&console.debug?console.debug:console.log,G="%c"+G,f=c,Object.prototype.toString.call(f)==="[object Array]"?(c.splice(0,0,G,"color: "+h),D.apply(console,c)):D.call(console,G,"color: "+h,c)}}var f}static _getCurrentTime(){let T=new Date;return"["+("0"+T.getDate()).slice(-2)+":"+("0"+T.getMinutes()).slice(-2)+":"+("0"+T.getSeconds()).slice(-2)+"."+("00"+T.getMilliseconds()).slice(-3)+"]"}static _plainReport(T,c){if(T instanceof Array)for(let m in T)this._plainReport(T[m],c);else typeof T=="string"?console.log(c+" "+T):(console.log(c+" <next line>"),console.log(T))}static setLogLevel(T){this.logLevel=T}static getLogLevel(){return this.logLevel}static error(T,...c){this.report(T,[].slice.call(arguments,1),g.ERROR,"darkred")}static warn(T,...c){this.report(T,[].slice.call(arguments,1),g.WARNING,"darkorange")}static notice(T,...c){this.report(T,[].slice.call(arguments,1),g.NOTICE,"darkgreen")}static debug(T,...c){this.report(T,[].slice.call(arguments,1),g.DEBUG,"indigo")}static verbose(T,...c){this.report(T,[].slice.call(arguments,1),g.VERBOSE,"navy")}static loadLevelFromUrl(){typeof window!="undefined"&&window.location&&this._parseLevelFromUrl(window.location.search)}static _parseLevelFromUrl(T){if(T){let c=/\?.*&*npaw-debug=(.+)/i.exec(T);c!==null&&(this.logLevel=Number(c[1])),/\?.*&*npaw-debug=plain/i.exec(T)!==null&&(this.plainLogs=!0)}}}u.logLevel=g.ERROR,u.plainLogs=!1},9065:(K,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>H});var g=d(108),u=d(1577),R=d(2784),T=d(7276),c=d(9907);class m{constructor(i,a,S,_,O){var ae,he,Ae;this.response={},this._session="",this.sessionExpire=120,this.retries=0,this.isUsingLegacy=!1,this.options=i,this.npawPluginOptions=O,this.accountCode=a,this.coreStorage=S,this.browserStorage=_,this._fastDataHost=this.options.getFastDataHost();let ye=(ae=c.env.IS_STANDALONE==="true")!==null&&ae!==void 0&&ae;this.isUsingLegacy=ye&&(Ae=((he=O==null?void 0:O.legacyPlugin)===null||he===void 0?void 0:he.viewTransform)!==void 0)!==null&&Ae!==void 0&&Ae,this._createConfigurationInterval()}init(){var i,a;if(this.options&&this.options.offline)return this.response.host="OFFLINE",this.response.code="OFFLINE",this.response.pingTime=60,this.response.beatTime=60,void(this._session=u.default.generateRandomString(15));if(this.isUsingLegacy)return;if(this.browserStorage&&this.browserStorage.isEnabled()&&new Date().getTime()<1e3*((i=Number(this.browserStorage.getLocal("sessionExpire")))!==null&&i!==void 0?i:this.sessionExpire)+(Number(this.coreStorage.getDataTime())||0)&&this.coreStorage.getStoredData())return void this.setData((a=this.coreStorage.getStoredData())!==null&&a!==void 0?a:"");let S=g.A.Service.DATA,_={system:this.accountCode,pluginVersion:H.getPluginVersion(),requestNumber:this.getRequestNumber()};this.loadConfiguration();try{T.default.notice(R.CoreTag,S+" "+_.system),_.system==="nicetest"&&T.default.error(R.CoreTag,"No accountCode has been set. Please set your accountCode inside plugin's options."),this.performRequestToFastData(S,_,this._receiveData.bind(this),this._failedData.bind(this))}catch(O){T.default.error(R.CoreTag,"Error doing get data request to FastData service.")}}updateOptions(i){this.options.updateOptions(i),this.options.offline&&(this.reset(),this.init())}getSessionExpireTime(){return this.sessionExpire}refreshSessionToken(){this._session="",this.browserStorage.removeStorages("data"),this.init()}loadConfiguration(){let i=g.A.Service.CONFIGURATION,a={system:this.accountCode,pluginVersion:H.getPluginVersion(),requestNumber:this.getRequestNumber()};this.performRequestToFastData(i,a,this._receiveConfiguration.bind(this),this._failedConfiguration.bind(this))}getSession(){var i,a;return this.isUsingLegacy?(a=(i=this.npawPluginOptions)===null||i===void 0?void 0:i.legacyPlugin)===null||a===void 0?void 0:a.viewTransform._session:this._session}setSession(i){this._session=i}setHost(i){this.response.host=i}getPingTime(){var i;return(i=this.pingTime)!==null&&i!==void 0?i:5}getBeatTime(){var i;return(i=this.beatTime)!==null&&i!==void 0?i:30}setData(i){try{let a=JSON.parse(i);this.options["parse.fdsResponseHost"]&&(i=i.replace(a.q.h,this.options["parse.fdsResponseHost"](a.q.h)),a=JSON.parse(i)),this.response={msg:i,host:a.q.h,code:a.q.c,pingTime:a.q.pt||5,beatTime:a.q.i&&a.q.i.bt||30,sessionExpire:a.q.st&&a.q.st||120},this._session=this.response.code,this.browserStorage.setLocal("sessionExpire",this.response.sessionExpire),this.browserStorage.setStorages("accCode",this.accountCode),this.browserStorage.setStorages("session",this.response.code),this.coreStorage.setStoredData(this.response.msg),this.coreStorage.setDataTime(new Date().getTime().toString()),this.pingTime=this.response.pingTime,this.beatTime=this.response.beatTime,this.sessionExpire=this.response.sessionExpire}catch(a){T.default.error(R.CoreTag,"Fastdata response is invalid.")}}setConfiguration(i){try{this.response.configurationOptions=JSON.parse(i)}catch(a){T.default.error(R.CoreTag,"Configuration response is invalid.")}}getFastDataResponse(){return this.response}getAccountCode(){return this.accountCode}getRequestNumber(){return Math.random()}reset(){this.coreStorage.removeStoredData(),this.coreStorage.removeSession(),this.browserStorage.removeLocal("sessionExpire"),this.browserStorage.removeStorages("accCode"),this.browserStorage.removeStorages("session")}performRequestToFastData(i,a,S,_){if(this.options.offline)return;a.timemark=new Date().getTime(),a.outputFormat="json";let O=this,ae=new XMLHttpRequest;ae.open("GET",`https://${this._fastDataHost}${i}${u.default.toQueryString(a)}`),ae.onload=function(he){O.options.offline||(ae.status>=200&&ae.status<400?S(this,he):_(this,he))},ae.onerror=function(he){_(this,he)},ae.send()}_createConfigurationInterval(){this.isUsingLegacy||!this.options.isRefreshLMAConfigurationEnabled()||this._refreshInterval||(this._refreshInterval=setInterval(this.loadConfiguration.bind(this),1e3*this.options.refreshLMAConfigurationSeconds()))}_receiveData(i,a){this.setData(i.response)}_receiveConfiguration(i,a){this.setConfiguration(i.response)}_failedData(i,a){T.default.error(R.CoreTag,"Fastdata request has failed."),++this.retries<5&&setTimeout(this.init.bind(this),5e3)}_failedConfiguration(i,a){T.default.error(R.CoreTag,"Fastdata configuration request has failed."),++this.retries<5&&setTimeout(this.init.bind(this),5e3)}}var h=d(2602);class f{constructor(){this.offline=!1,this.host="lma.npaw.com",this.disableCookies=!0,this.forceCookies=!1,this.disableStorage=!1,this.authToken=void 0,this.authType="Bearer",this["app.https"]=!0,this["lma.refresh.configuration.enabled"]=!1,this["lma.refresh.configuration.seconds"]=300,this["parse.fdsResponseHost"]=null}updateOptions(i){let a=new h.A;Object.keys(this).forEach(S=>{i[S]==null||Object.keys(a).includes(S)||(this[S]=i[S])})}setNpawPluginOptions(i){Object.keys(this).forEach(a=>{i[a]!=null&&(this[a]=i[a])})}isRefreshLMAConfigurationEnabled(){return this["lma.refresh.configuration.enabled"]}refreshLMAConfigurationSeconds(){return this["lma.refresh.configuration.seconds"]}getHost(){return this.host}getFastDataHost(){return this.host}}class P{constructor(i,a,S,_,O,ae,he){this.method=R.Method.GET,this.headers={},this.xhr=new XMLHttpRequest,this.retries=0,this.hadBody=!1,this.isHttps=i,this.host=a,this.service=S,this.method=_,this.params=O,this.onSuccessCallback=ae,this.onFailCallback=he}performHttps(){return this.isHttps}getHost(){return this.host}getService(){return this.service}getMethod(){return this.method}getParams(){return this.params}getBody(){return this.body}setBody(i){this.body=i}addHeader(i,a){this.headers[i]=a}getRetries(){return this.retries}send(i,a){if(this.params.timemark=Date.now(),this.params.sessionRoot=H.getInstance().getFastDataSessionToken(),this.params.system=H.getInstance().getFastDataService().getAccountCode(),this.body&&(this.hadBody=!0),this.method===R.Method.POST&&!this.body){let S={};S.timemark=this.params.timemark,this.params.code&&(S.code=this.params.code),S.sessionRoot=this.params.sessionRoot,S.system=this.params.system,S.sessionId=this.params.sessionId&&this.params.sessionId!=""?this.params.sessionId:H.getInstance().getFastDataSessionToken(),this.body=JSON.stringify(this.params),this.params=S}try{this.getUrl()}catch(S){console.log(S)}this.xhr.open(this.method,this.getUrl()),this.xhr.onreadystatechange=()=>{this.xhr.readyState===4&&this.xhr.status>=200&&this.xhr.status<400?(a&&a(),this.onSuccessCallback&&this.onSuccessCallback()):this.xhr.readyState===4&&(this.retries++,!this.hadBody&&this.method===R.Method.POST&&this.body&&(this.params=JSON.parse(this.body),this.body=void 0),i(),this.onFailCallback&&this.onFailCallback())};for(let S in this.headers)this.xhr.setRequestHeader(S,this.headers[S]);this.xhr.send(this.body)}asyncSend(){return i=this,a=void 0,_=function*(){return new Promise((O,ae)=>{this.send(ae,O)})},new((S=void 0)||(S=Promise))(function(O,ae){function he(we){try{ye(_.next(we))}catch(xe){ae(xe)}}function Ae(we){try{ye(_.throw(we))}catch(xe){ae(xe)}}function ye(we){var xe;we.done?O(we.value):(xe=we.value,xe instanceof S?xe:new S(function(Xe){Xe(xe)})).then(he,Ae)}ye((_=_.apply(i,a||[])).next())});var i,a,S,_}toLocalStorageString(){let i={},a=this.service.split("/");i.request=a[a.length-1],i.unixtime=this.params.timemark;for(let S in this.params)this.params[S]!==void 0&&(S==="sessionId"||S==="sessionRoot"?i[S]="":S==="code"?i[S]="CODE_PLACEHOLDER":typeof this.params[S]=="object"?i[S]=JSON.stringify(this.params[S]):i[S]=this.params[S]);return JSON.stringify(i)}getUrl(){return`${this.isHttps?"https":"http"}://${this.host}${this.service}${u.default.toQueryString(this.params)}`}}var G=d(5438);let D=[g.A.Service.ERROR,g.A.Service.AD_ERROR];class v{constructor(i,a,S){this.freshRequests=[],this.retryRequests=[],this.databaseSendingInterval=12e4,this.isDestroyed=!1,this.servicesToWait=[g.A.Service.INIT,g.A.Service.START],this.sentStart=!1,this.options=i,this.coreStorage=a,this.fastDataService=S}destroy(){this.freshRequests=[],this.retryRequests=[],this.isDestroyed=!0,this.timeWhenLastSentFromDatabase=new Date().getTime()}send(i,a,S,_,O){var ae;if(this.isDestroyed)return;let he=new P((ae=this.options["app.https"])===null||ae===void 0||ae,this.coreStorage.getHost(),i,a,S!=null?S:{},_,O);this.options.authToken!==void 0&&this.options.authType!==void 0&&i!==G.xC.CDN&&(T.default.verbose(R.AnalyticsTag,"Adding Authorization header with type "+this.options.authType),he.addHeader("Authorization",this.options.authType+" "+this.options.authToken)),this.freshRequests.push(he),this._processRequests()}getTimeOfLastSentRequest(){return this.timeOfLastSentRequest}wasStartSent(){return this.sentStart}_processRequests(){return i=this,a=void 0,_=function*(){if(this.isDestroyed)return;let O=this.retryRequests.splice(0,this.retryRequests.length),ae=this.freshRequests.splice(0,this.freshRequests.length);O.length>0&&T.default.verbose(R.CoreTag,"Retrying to send these requests:",...O.map(ye=>ye.getService()));let he=[],Ae=!1;for(let ye of O)if(Ae)he.push(ye);else try{yield ye.asyncSend(),this.timeOfLastSentRequest=new Date().getTime()}catch(we){Ae=!0,he.push(ye)}for(let ye of ae)try{yield ye.asyncSend(),this.servicesToWait.includes(ye.getService())&&(this.sentStart=!0),this.timeOfLastSentRequest=new Date().getTime()}catch(we){D.includes(ye.getService())&&he.push(ye)}this.retryRequests.push(...he.slice(-25))},new((S=void 0)||(S=Promise))(function(O,ae){function he(we){try{ye(_.next(we))}catch(xe){ae(xe)}}function Ae(we){try{ye(_.throw(we))}catch(xe){ae(xe)}}function ye(we){var xe;we.done?O(we.value):(xe=we.value,xe instanceof S?xe:new S(function(Xe){Xe(xe)})).then(he,Ae)}ye((_=_.apply(i,a||[])).next())});var i,a,S,_}}class y{constructor(i,a,S){this.prefix="npaw",this.disableCookies=i,this.forceCookies=a,this.disabled=S}updateStorageOptions(i,a,S){this.disableCookies=i,this.forceCookies=a,this.disabled=S}isEnabled(){if(this.disabled)return!1;let i=!0;if(!this.forceCookies)try{localStorage.setItem(this.prefix+".test","true"),localStorage.removeItem(this.prefix+".test")}catch(a){i=!1}return i}setLocal(i,a){if(!this.disabled)try{!this.forceCookies&&(typeof localStorage!="undefined"&&localStorage||this.disableCookies)?typeof localStorage!="undefined"&&localStorage&&localStorage.setItem(this.prefix+"."+i,a):this._setCookie(this.prefix+".local."+i,a)}catch(S){T.default.debug(R.CoreTag,"App Analytics needs localStorage or cookies, not supported by your browser.")}}getLocal(i){if(!this.disabled)return this._localGetRemove("getItem","_getCookie",i)}removeLocal(i){if(!this.disabled)return this._localGetRemove("removeItem","_removeCookie",i)}_localGetRemove(i,a,S){try{if(this.forceCookies||!(typeof localStorage!="undefined"&&localStorage||this.disableCookies))return this[a](this.prefix+".local."+S);if(typeof localStorage!="undefined"&&localStorage)return localStorage[i](this.prefix+"."+S)}catch(_){T.default.debug(R.CoreTag,"App Analytics needs localStorage or cookies, not supported by your browser.")}}setSession(i,a){if(!this.disabled)try{!this.forceCookies&&(typeof sessionStorage!="undefined"&&sessionStorage||this.disableCookies)?typeof sessionStorage!="undefined"&&sessionStorage&&sessionStorage.setItem(this.prefix+"."+i,a):this._setCookie(this.prefix+".session."+i,a)}catch(S){T.default.debug(R.CoreTag,"App Analytics needs sessionStorage or cookies, not supported by your browser.")}}getSession(i){if(!this.disabled)return this._sessionGetRemove("getItem","_getCookie",i)}removeSession(i){if(!this.disabled)return this._sessionGetRemove("removeItem","_removeCookie",i)}_sessionGetRemove(i,a,S){try{if(this.forceCookies||!(typeof sessionStorage!="undefined"&&sessionStorage||this.disableCookies))return this[a](this.prefix+".session."+S);if(typeof sessionStorage!="undefined"&&sessionStorage)return sessionStorage[i](this.prefix+"."+S)}catch(_){T.default.debug(R.CoreTag,"App Analytics needs sessionStorage or cookies, not supported by your browser.")}}getStorages(i){if(!this.disabled)return this.getSession(i)||this.getLocal(i)}setStorages(i,a){this.disabled||(this.setSession(i,a),this.setLocal(i,a))}removeStorages(i){this.disabled||(this.removeSession(i),this.removeLocal(i))}_setCookie(i,a){if(typeof document!="undefined"){let S=";";typeof location!="undefined"&&(S+="domain="+location.host.split(".").reverse().splice(0,2).reverse().join(".")+";path=/;"),document.cookie=i+"="+a+S}}_getCookie(i){if(typeof document!="undefined"){let a=i+"=",S=decodeURIComponent(document.cookie).split(";");for(let _=0;_<S.length;_++){let O=S[_];for(;O.charAt(0)===" ";)O=O.substring(1);if(O.indexOf(a)===0)return O.substring(a.length,O.length)}}return null}_removeCookie(i){this._setCookie(i,"")}}class F{constructor(i,a){this.options=i,this.browserStorage=a}isEnabled(){return this.browserStorage.isEnabled()}setLocal(i,a){this.browserStorage.setLocal(i,a)}getLocal(i){return this.browserStorage.getLocal(i)}removeLocal(i){this.browserStorage.removeLocal(i)}getHost(){let i=this.options.getHost(),a=H.getInstance().getFastDataService();return!H.getInstance().isUsingLegacy()&&a&&a.getFastDataResponse()&&a.getFastDataResponse().host?i=a.getFastDataResponse().host:H.getInstance().isUsingLegacy()&&H.getInstance().getLegacyFastDataHost()&&(i=H.getInstance().getLegacyFastDataHost()),i}getSession(){let i=this.browserStorage.getStorages("session");if(i==="undefined"&&(i=void 0),!i){let a=this.getStoredData();if(a)try{i=JSON.parse(a).q.c}catch(S){}}return i}getStorageHost(){let i=null,a=this.getStoredData();if(a)try{i=JSON.parse(a).q.h}catch(S){}return i}getLocalAccountCode(){return this.browserStorage.getLocal("accCode")}getSessionAccountCode(){return this.browserStorage.getSession("accCode")}getAppAnalyticsRegisteredProperties(){return this.browserStorage.getLocal("appAnalyticsRegisteredProperties")}setAppAnalyticsRegisteredProperties(i){this.browserStorage.setLocal("appAnalyticsRegisteredProperties",i)}removeAppAnalyticsRegisteredProperties(){this.browserStorage.removeLocal("appAnalyticsRegisteredProperties")}getAppAnalyticsStarted(){return this.browserStorage.getLocal("appAnalyticsStarted")==="true"}setAppAnalyticsStarted(i){this.browserStorage.setLocal("appAnalyticsStarted",String(i))}removeAppAnalyticsStarted(){this.browserStorage.removeStorages("appAnalyticsStarted")}getDataTime(){return this.browserStorage.getStorages("dataTime")}setDataTime(i){this.browserStorage.setStorages("dataTime",i)}getLastActive(){return Number(this.browserStorage.getStorages("lastactive"))}setLastActive(i){this.browserStorage.setStorages("lastactive",i)}removeLastActive(){this.browserStorage.removeStorages("lastactive")}setSession(i){this.browserStorage.setStorages("session",i)}removeSession(){this.browserStorage.removeStorages("session")}getSessionExpire(){return 1e3*Number(this.browserStorage.getLocal("sessionExpire"))}getStoredData(){return this.browserStorage.getStorages("data")}setStoredData(i){this.browserStorage.setStorages("data",i)}removeStoredData(){this.browserStorage.removeStorages("data")}getStorages(i){return a=this,S=void 0,O=function*(){return this.browserStorage.getStorages(i)},new((_=void 0)||(_=Promise))(function(ae,he){function Ae(xe){try{we(O.next(xe))}catch(Xe){he(Xe)}}function ye(xe){try{we(O.throw(xe))}catch(Xe){he(Xe)}}function we(xe){var Xe;xe.done?ae(xe.value):(Xe=xe.value,Xe instanceof _?Xe:new _(function(Ge){Ge(Xe)})).then(Ae,ye)}we((O=O.apply(a,S||[])).next())});var a,S,_,O}}var b=d(61),M=d(9907);class H{static getInstance(i,a,S){return this._instance&&!S||(this._instance=new H(i||"",a)),this._instance}constructor(i,a){var S,_,O,ae;if(this.options=new f,this.sendingOffline=!1,this.isDestroyed=!1,this.usingLegacy=!1,this.commonVariables=new Map,this.registeredPeriodicPushes=new Map,this.pluginOptions=a,this.pluginOptions){this.pluginOptions.host&&this.options.setNpawPluginOptions({host:this.pluginOptions.host});let he=(S=M.env.IS_STANDALONE==="true")!==null&&S!==void 0&&S;this.usingLegacy=he&&(ae=((O=(_=this.pluginOptions)===null||_===void 0?void 0:_.legacyPlugin)===null||O===void 0?void 0:O.viewTransform)!==void 0)!==null&&ae!==void 0&&ae}this.browserStorage=new y(this.options.disableCookies,this.options.forceCookies,this.options.disableStorage),this.coreStorage=new F(this.options,this.browserStorage),this.fastDataService=new m(this.options,i,this.coreStorage,this.browserStorage,this.pluginOptions),this.fastDataService.init(),this.nqsService=new v(this.options,this.coreStorage,this.fastDataService),this.deleteOldOfflineEntries()}destroy(){this.unregisterAllPeriodicPushes(),this.commonVariables.clear(),this.nqsService.destroy()}static getPluginVersion(){let i=M.env.NWF||"";return`7.2.34${M.env.IS_STANDALONE==="true"?"-balancer":""}${i}-js-sdk`}isUsingLegacy(){return this.usingLegacy}wasStartSent(){var i,a,S,_,O,ae,he;return this.isUsingLegacy()?!((a=(i=this.pluginOptions)===null||i===void 0?void 0:i.legacyPlugin)===null||a===void 0)&&a._comm&&(!((_=(S=this.pluginOptions)===null||S===void 0?void 0:S.legacyPlugin)===null||_===void 0)&&_._comm.transforms)?(he=!(!((ae=(O=this.pluginOptions)===null||O===void 0?void 0:O.legacyPlugin)===null||ae===void 0)&&ae._comm.transforms[0]._isBusy))===null||he===void 0||he:void 0:this.nqsService.wasStartSent()}setLegacyPlugin(i){var a,S,_,O;if(this.pluginOptions){this.pluginOptions.legacyPlugin=i;let ae=(a=M.env.IS_STANDALONE==="true")!==null&&a!==void 0&&a;this.usingLegacy=ae&&(O=((_=(S=this.pluginOptions)===null||S===void 0?void 0:S.legacyPlugin)===null||_===void 0?void 0:_.viewTransform)!==void 0)!==null&&O!==void 0&&O}}setActiveSwitchingOnLegacy(i){i&&this.pluginOptions&&this.pluginOptions.legacyPlugin&&this.pluginOptions.legacyPlugin.options&&(this.pluginOptions.legacyPlugin.options["content.cdn"]="ACTVSWIT")}getViewCode(){var i;return(i=this.pluginOptions)===null||i===void 0?void 0:i.legacyPlugin.viewTransform.getViewCode()}getLegacyFastDataHost(){var i;return(i=this.pluginOptions)===null||i===void 0?void 0:i.legacyPlugin.viewTransform.response.host}setOptions(i){this.options.updateOptions(i),this.browserStorage.updateStorageOptions(this.options.disableCookies,this.options.forceCookies,this.options.disableStorage),this.fastDataService.updateOptions(i)}getOptions(){return this.options}getCoreStorage(){return this.coreStorage}registerCommonVariable(i,a,S){var _,O;this.commonVariables.has(i)?(_=this.commonVariables.get(i))===null||_===void 0||_.set(a,S):(this.commonVariables.set(i,new Map),(O=this.commonVariables.get(i))===null||O===void 0||O.set(a,S))}unregisterCommonVariable(i,a){var S;(S=this.commonVariables.get(i))===null||S===void 0||S.delete(a)}getCommonVariable(i,a){var S;return(S=this.commonVariables.get(i))===null||S===void 0?void 0:S.get(a)}getFastDataService(){return this.fastDataService}getFastDataSessionToken(){return this.fastDataService.getSession()}refreshSessionToken(){return this.usingLegacy?void 0:this.fastDataService.refreshSessionToken()}isSessionTokenExpired(){var i;let a=new Date().getTime();return!this.usingLegacy&&a-((i=this.nqsService.getTimeOfLastSentRequest())!==null&&i!==void 0?i:a)>1e3*this.fastDataService.getSessionExpireTime()}pushData(i,a,S,_,O,ae){this.handleDataToSend(i,a,S,_,O,ae)}pushPeriodicDataFromCallback(i,a,S,_,O,ae,he,Ae){let ye=setInterval(()=>{let we=ae();we&&this.handleDataToSend(i,S,O,we,he,Ae)},_<1e3?1e3:_);this.registeredPeriodicPushes.has(a)?(clearInterval(this.registeredPeriodicPushes.get(a)),this.registeredPeriodicPushes.set(a,ye)):this.registeredPeriodicPushes.set(a,ye)}unregisterPeriodicPush(i){clearInterval(this.registeredPeriodicPushes.get(i)),this.registeredPeriodicPushes.delete(i)}unregisterAllPeriodicPushes(){if(this.registeredPeriodicPushes.size===0)return;T.default.debug(R.CoreTag,`Unregistering ${this.registeredPeriodicPushes.size} periodic pushes`);let i=Array.from(this.registeredPeriodicPushes.keys());for(let a of i)clearInterval(this.registeredPeriodicPushes.get(a)),this.registeredPeriodicPushes.delete(a);T.default.debug(R.CoreTag,"Finished unregistering all pushes")}deleteOldOfflineEntries(){var i,a,S,_;let O=(a=(i=this.coreStorage.getLocal("offlineViews"))===null||i===void 0?void 0:i.split(","))!==null&&a!==void 0?a:[];for(let ae of O){let he=(_=(S=this.coreStorage.getLocal("offlineViews."+ae))===null||S===void 0?void 0:S.split(","))!==null&&_!==void 0?_:[];he.length>0&&Date.now()-JSON.parse("["+he+"]")[0].timemark>2592e6&&this.deleteViewDataFromLocalStorage(ae)}}sendOfflineEvents(){var i,a,S,_,O,ae;return S=this,_=void 0,ae=function*(){if(this.options.offline)return void T.default.notice(R.AnalyticsTag,"Unable to send offline events because offline option is enabled");if(this.sendingOffline)return;this.sendingOffline=!0;let he=15,Ae=!1;for(;!Ae&&he-- >0;)this.getFastDataSessionToken()===""?yield new Promise(we=>setTimeout(we,100)):Ae=!0;if(he<1)return;let ye=((a=(i=this.coreStorage.getLocal("offlineViews"))===null||i===void 0?void 0:i.split(","))!==null&&a!==void 0?a:[]).map(we=>new Promise((xe,Xe)=>{var Ge;let Qe=(Ge=this.coreStorage.getLocal("offlineViews."+we))!==null&&Ge!==void 0?Ge:"";if(Qe=Qe.replace(/CODE_PLACEHOLDER/g,H.getInstance().getFastDataSessionToken()+"_"+we.split("_")[1]),Qe.length>0){let fe=new P(!0,this.coreStorage.getHost(),g.A.Service.OFFLINE_EVENTS,R.Method.POST,{code:H.getInstance().getFastDataSessionToken()+"_"+we.split("_")[1]},()=>{this.deleteViewDataFromLocalStorage(we),xe()},()=>xe());fe.setBody("["+Qe+"]"),fe.send(function(){})}}));yield Promise.all(ye).finally(()=>{this.sendingOffline=!1})},new((O=void 0)||(O=Promise))(function(he,Ae){function ye(Xe){try{xe(ae.next(Xe))}catch(Ge){Ae(Ge)}}function we(Xe){try{xe(ae.throw(Xe))}catch(Ge){Ae(Ge)}}function xe(Xe){var Ge;Xe.done?he(Xe.value):(Ge=Xe.value,Ge instanceof O?Ge:new O(function(Qe){Qe(Ge)})).then(ye,we)}xe((ae=ae.apply(S,_||[])).next())})}deleteViewDataFromLocalStorage(i){var a,S;this.coreStorage.removeLocal("offlineViews."+i);let _=(S=(a=this.coreStorage.getLocal("offlineViews"))===null||a===void 0?void 0:a.split(","))!==null&&S!==void 0?S:[],O=_.indexOf(i);O!=-1&&_.splice(O,1),this.coreStorage.setLocal("offlineViews",_.toString())}handleDataToSend(i,a,S,_,O,ae){if(!this.isDestroyed)switch(i){case b.default.Consumer.NQS:this.nqsService.send(a,S,_,O,ae);break;case b.default.Consumer.PERSISTENT:if(O!==void 0&&O(),a===g.A.Service.VIDEO_PLUGIN_LOGS||a===g.A.Service.INIT)break;_.timemark=Date.now();let he=new P(this.options["app.https"],"",a,S,_,O,ae),Ae=this.coreStorage.getLocal("offlineViews");if(Ae){let we=Ae.split(",");we.includes(_.code)||(we.push(_.code),this.coreStorage.setLocal("offlineViews",we.toString()))}else this.coreStorage.setLocal("offlineViews",_.code);let ye=this.coreStorage.getLocal("offlineViews."+_.code);if(ye){let we=ye.split(",");we.push(he.toLocalStorageString()),this.coreStorage.setLocal("offlineViews."+_.code,we.toString())}else this.coreStorage.setLocal("offlineViews."+_.code,he.toLocalStorageString());break;case b.default.Consumer.BLACK_HOLE:O!==void 0&&O()}}}},2602:(K,V,d)=>{"use strict";d.d(V,{A:()=>g});class g{constructor(){this.host="lma.npaw.com",this.components={},this.host="lma.npaw.com",this.components={}}}},108:(K,V,d)=>{"use strict";var g;d.d(V,{A:()=>R});class u{}g=u,u.VideoService={INIT:"/init",START:"/start",JOIN:"/joinTime",PAUSE:"/pause",RESUME:"/resume",SEEK:"/seek",BUFFER:"/bufferUnderrun",ERROR:"/error",STOP:"/stop",PING:"/ping",DATA_OBJECT:"/data"},u.Service=Object.assign(Object.assign({DATA:"/data",ADAPTERS:"/adapters",CONFIGURATION:"/configuration",APP_ANALYTICS_PLUGIN_LOGS:"/infinity/session/pluginLogs",VIDEO_PLUGIN_LOGS:"/infinity/video/pluginLogs"},g.VideoService),{CDN:"/cdn",VIDEO_EVENT:"/infinity/video/event",AD_INIT:"/adInit",AD_START:"/adStart",AD_JOIN:"/adJoin",AD_PAUSE:"/adPause",AD_RESUME:"/adResume",AD_BUFFER:"/adBufferUnderrun",AD_STOP:"/adStop",AD_CLICK:"/adClick",AD_ERROR:"/adError",AD_MANIFEST:"/adManifest",AD_POD_START:"/adBreakStart",AD_POD_STOP:"/adBreakStop",AD_QUARTILE:"/adQuartile",EVENT:"/infinity/session/event",SESSION_START:"/infinity/session/start",SESSION_STOP:"/infinity/session/stop",NAV:"/infinity/session/nav",BEAT:"/infinity/session/beat",OFFLINE_EVENTS:"/offlineEvents"});let R=u},61:(K,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>g});class g{}g.Products={VIDEO_ANALYTICS:"videoAnalytics",BALANCER:"balancer"},g.AnalyticsVariables={VIEW_CODE:"viewCode",METHOD_OPTION:"methodOption"},g.BalancerVariables={AS_ENABLED:"activeSwitchingEnabled",PROFILE_NAME:"profileName",BUCKET:"bucket",DECISION_FINISHED:"decisionFinished",LAST_USED_CDN:"lastUsedCdn",BALANCER_TRAFFIC:"balancerTraffic",BALANCER_BITRATE:"balancerBitrate"},g.Consumer={NQS:"NQS",PERSISTENT:"PERSISTENT",BLACK_HOLE:"BLACK_HOLE"}},1577:(K,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>R});var g=d(7276),u=d(2784);class R{static toQueryString(c){return"?"+Object.keys(c).map(m=>{if(c[m]!==null&&typeof c[m]=="object"){let h=JSON.stringify(c[m]);if(h!=="{}")return encodeURIComponent(m)+"="+encodeURIComponent(h)}else if(c[m]!==null&&c[m]!==void 0&&c[m]!=="")return encodeURIComponent(m)+"="+encodeURIComponent(c[m]);return""}).filter(m=>m!="").join("&")}static addProtocol(c,m){let h="http://localhost/";try{h="http://"+c,m||typeof window!="undefined"&&window.location.protocol.indexOf("https")===0?h="https://"+c:typeof window!="undefined"&&window.location.protocol.indexOf("http")===0&&(h="//"+c)}catch(f){g.default.warn(u.CoreTag,f)}return h}static parseBoolean(c){return typeof c=="string"?c.toLowerCase()==="true":!!c}static methodFromString(c){var m;let h=(m=c==null?void 0:c.toUpperCase())!==null&&m!==void 0?m:"";return h in u.Method?u.Method[h]:u.Method.GET}static generateRandomString(c){let m="";for(let h=0;h<c;h++)m+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return m}}},6933:(K,V,d)=>{"use strict";d.r(V),d.d(V,{default:()=>D});var g,u=d(2477),R=d.n(u),T=d(7276);(function(v){v.BLACK="\x1B[30m",v.RED="\x1B[31m",v.GREEN="\x1B[32m",v.YELLOW="\x1B[33m",v.BLUE="\x1B[34m",v.MAGENTA="\x1B[35m",v.CYAN="\x1B[36m",v.WHITE="\x1B[37m"})(g||(g={}));class c{static colorizeText(y,F){return`${F}${y}${this.RESET}`}static header(y){T.default.getLogLevel()<T.LogLevel.SILENT&&console.log(this.BOLD+y+this.RESET)}static log(y,F){T.default.getLogLevel()<T.LogLevel.SILENT&&console.log(y,F||"")}static logWithPrefix(y,F,b=1){if(T.default.getLogLevel()<T.LogLevel.SILENT){let M=F.repeat(b)+y;console.log(M)}}}c.logIdent="  ",c.BOLD="\x1B[1m",c.RESET="\x1B[0m";class m{constructor(y,F){this.eventType=y,this.params=F,this.columns=["Event","Params"]}generateRow(){return this.eventType.padEnd(15)+this.getParamsString().padEnd(15)}getParamsString(){if(!this.params)return c.colorizeText("Data not defined",g.YELLOW);let y=[];switch(this.eventType){case R().INIT:case R().START:this.params.player&&y.push(`Player: ${this.params.player}`),this.params.pluginVersion&&y.push(`Plugin Version: ${this.params.pluginVersion}`),this.params.playerStartupTime&&y.push(`Player Startup Time: ${this.params.playerStartupTime} ms`),this.params.playhead&&y.push(`Playhead: ${this.params.playhead}`),this.params.position&&y.push(`Position: ${this.params.position}`),this.params.breakNumber&&y.push(`Break Number: ${this.params.breakNumber}`),this.params.adAdapterVersion&&y.push(`Ad Adapter Version: ${this.params.adAdapterVersion}`),this.params.adDuration&&y.push(`Ad Duration: ${this.params.adDuration}`);break;case R().JOIN:this.params.rendition&&y.push(`Rendition: ${this.params.rendition}`),this.params.pingTime&&y.push(`Ping Time: ${this.params.pingTime} s`),this.params.playhead&&y.push(`Playhead: ${this.params.playhead}`),this.params.position&&y.push(`Position: ${this.params.position}`),this.params.breakNumber&&y.push(`Break Number: ${this.params.breakNumber}`),this.params.adJoinDuration&&y.push(`Ad Join Duration: ${this.params.adJoinDuration}`),this.params.adPlayhead&&y.push(`Ad Playhead: ${this.params.adPlayhead}`);break;case R().JOIN_TIME:this.params.joinDuration&&y.push(`Join Time: ${this.params.joinDuration} ms`),this.params.bitrate&&y.push(`Bitrate: ${(this.params.bitrate/1e6).toFixed(2)} MB/s`);break;case R().PAUSE:this.params.playhead&&y.push(`Playhead: ${this.params.playhead}`);break;case R().RESUME:this.params.playhead&&y.push(`Playhead: ${this.params.playhead}`),this.params.pauseDuration&&y.push(`Pause Duration: ${this.params.pauseDuration} ms`);break;case R().SEEK_BEGIN:break;case R().SEEK_END:this.params.seekDuration&&y.push(`Seek Duration: ${this.params.seekDuration} ms`);break;case R().BUFFER_BEGIN:break;case R().BUFFER_END:this.params.bufferDuration&&y.push(`Buffer Duration: ${this.params.bufferDuration} ms`);break;case R().ERROR:break;case R().STOP:this.params.playhead&&y.push(`Playhead: ${this.params.playhead}`),this.params.bitrate&&this.params.bitrate!==-1?y.push(`Bitrate: ${(this.params.bitrate/1e6).toFixed(2)} MB/s`):this.params.bitrate&&y.push(`Bitrate: ${this.params.bitrate}`),this.params.position&&y.push(`Position: ${this.params.position}`),this.params.breakNumber&&y.push(`Break Number: ${this.params.breakNumber}`),this.params.adPlayhead&&y.push(`Ad Playhead: ${this.params.adPlayhead}`),this.params.adJoinDuration&&y.push(`Ad Join Duration: ${this.params.adJoinDuration}`),this.params.adViewedDuration&&y.push(`Ad Viewed Duration: ${this.params.adViewedDuration}`),this.params.adTotalDuration&&y.push(`Ad Total Duration: ${this.params.adTotalDuration}`),this.params.adBitrate&&y.push(`Ad Bitrate: ${this.params.adBitrate}`);break;case R().VIDEO_EVENT:break;case R().QUARTILE:this.params.position&&y.push(`Position: ${this.params.position}`),this.params.breakNumber&&y.push(`Break Number: ${this.params.breakNumber}`),this.params.quartile&&y.push(`Quartile: ${this.params.quartile}`),this.params.adViewedDuration&&y.push(`Ad Viewed Duration: ${this.params.adViewedDuration}`);break;case R().PODSTART:this.params.position&&y.push(`Position: ${this.params.position}`),this.params.breakNumber&&y.push(`Break Number: ${this.params.breakNumber}`),this.params.adInsertionType&&y.push(`Ad Insertion Type: ${this.params.adInsertionType}`);break;case R().PODSTOP:this.params.position&&y.push(`Position: ${this.params.position}`),this.params.breakNumber&&y.push(`Break Number: ${this.params.breakNumber}`);case R().CLICK:case R().MANIFEST:}return y.length===0?c.colorizeText("Data not defined",g.YELLOW):y.join(" | ")}}var h=d(3782),f=d.n(h),P=d(1577),G=d(9065);class D{constructor(){this.integrationMessageColors={RED:"#FF1515",GREEN:"#0f0",YELLOW:"#F6D500"},this.balancerEnabled=!0,this.videoAnalyticsEnabled=!0,this.adsAnalyticsEnabled=!0,this.reportTimeoutDuration=D.defaultReportTimeout,this.reportTimeoutStarted=!1,this.runningOffline=!1,this.balancerInterceptedRequests=!1,this.successfulResponseFromSelector=!1,this.usedSelectorAPI=!1,this.activeSwitchingEnabled=!1,this.asDecisionPerformed=!1,this.switchedCdns=!1,this.cdnList=new Map,this.triedSendingBalancerStats=!1,this.mandatoryBalancerRequests=["cdn"],this.capturedEvents=[],this.successfulNQSRequests=new Set,this.hasPlayerRegistered=!1,this.triedSendingNQSStats=!1,this.mandatoryNQSRequests=[R().START,R().JOIN_TIME,"ping",R().STOP],this.shouldIgnoreAds=!1,this.capturedAdsEvents=[],this.successfulNQSAdsRequests=new Set,this.hasAdsPlayerRegistered=!1,this.triedSendingNQSAdStats=!1,this.mandatoryNQSAdsRequests=[f().Service.AD_START,f().Service.AD_MANIFEST,f().Service.AD_JOIN,f().Service.AD_STOP,f().Service.AD_POD_START,f().Service.AD_QUARTILE,f().Service.AD_POD_STOP].map(y=>y.slice(1))}static getInstance(y=!1){return this._instance&&!y||(this._instance=new D),this._instance}destroy(){this.clearReportTimeout(),this.cleanCdnList(),this.capturedEvents=[],this.successfulNQSRequests.clear(),this.reportTimeoutStarted=!1}start(y){y&&(this.npawPluginInstance=y),this.reportTimeoutStarted||(this.reportTimeout=setTimeout(()=>{this.report(),this.videoAnalyticsEnabled=!1,this.balancerEnabled=!1,this.adsAnalyticsEnabled=!1},this.reportTimeoutDuration),this.reportTimeoutStarted=!0)}clearReportTimeout(){clearTimeout(this.reportTimeout),this.reportTimeoutStarted=!1,this.reportTimeout=void 0}setOptions(y){y&&(y["ad.ignore"]&&(this.shouldIgnoreAds=P.default.parseBoolean(y["ad.ignore"])),y.offline&&(this.runningOffline=P.default.parseBoolean(y.offline)))}setBalancerEnabled(y){this.balancerEnabled=y!=null?y:this.balancerEnabled}setVideoAnalyticsEnabled(y){this.videoAnalyticsEnabled=y!=null?y:this.videoAnalyticsEnabled}setAdsAnalyticsEnabled(y){this.adsAnalyticsEnabled=y!=null?y:this.adsAnalyticsEnabled}getReportTimeout(){return this.reportTimeoutDuration}setReportTimeout(y){y&&y>0&&(this.reportTimeoutDuration=y!=null?y:this.reportTimeoutDuration,this.clearReportTimeout(),this.start())}cleanCdnList(){this.cdnList.clear()}addCdn(y,F){this.cdnList.set(y,F)}updateCdnInfo(y,F,b,M){if(this.balancerEnabled){let H=this.cdnList.get(y);H&&(H.setRequestsPerformed(F),H.setTrafficServerInBytes(b),H.setFailedRequests(M))}}wasSelectorCommunicationSuccessful(y,F){this.successfulResponseFromSelector=y,F&&(this.apiErrorMessage=F)}setInterceptedRequests(y){this.balancerInterceptedRequests=y}setActiveSwitchingEnabled(y){this.activeSwitchingEnabled=y}wasActiveSwitchingDecisionPerformed(y){this.asDecisionPerformed=y}setSwitchedCdns(y){this.switchedCdns=y}usedSelectorAPIResponse(y){this.usedSelectorAPI=y}setTriedSendingBalancerStats(y){this.triedSendingBalancerStats=y}addNQSRequest(y){(this.videoAnalyticsEnabled||this.balancerEnabled)&&this.successfulNQSRequests.add(y)}addNQSEvent(y,F){this.videoAnalyticsEnabled&&this.capturedEvents.push(new m(y,F)),y==="stop"&&setTimeout(()=>{this.report(),this.clearReportTimeout()},500)}registeredPlayer(y){this.hasPlayerRegistered=y}setTriedSendingNQSStats(y){this.triedSendingNQSStats=y}addNQSAdRequest(y){this.adsAnalyticsEnabled&&this.successfulNQSAdsRequests.add(y)}addNQSAdEvent(y,F){this.adsAnalyticsEnabled&&this.capturedAdsEvents.push(new m(y,F))}registeredAdsPlayer(y){this.hasAdsPlayerRegistered=y}setTriedSendingNQSAdStats(y){this.triedSendingNQSAdStats=y}report(){if(this.balancerEnabled||this.videoAnalyticsEnabled||this.adsAnalyticsEnabled){let y="------- Certification Tool -------";c.header(y),this.apiErrorMessage==="ERROR_INVALID_ACCOUNT"?c.log("%cAccount code is invalid!","color: #FF1515; font-size: 12px; font-weight: bold;"):(this.logBalancerDiagnostic(),G.default.getInstance().isUsingLegacy()||(this.logVideoAnalyticsDiagnostic(),this.logAdsAnalyticsDiagnostic())),this.videoAnalyticsEnabled=!1,this.balancerEnabled=!1,this.adsAnalyticsEnabled=!1,this.clearReportTimeout(),c.header("".padEnd(y.length,"-"))}}logBalancerDiagnostic(){var y,F;if(!this.balancerEnabled||(F=(y=this.npawPluginInstance)===null||y===void 0?void 0:y.isBalancerEnabled())!==null&&F!==void 0&&!F)return;let b=Array.from(this.successfulNQSRequests).map(_=>_.slice(1)),M=this.mandatoryBalancerRequests.some(_=>b.includes(_)),H=this.mandatoryBalancerRequests.filter(_=>!b.includes(_));if(c.header("Balancer Diagnostic"),c.logWithPrefix("Intercepted requests: "+(this.balancerInterceptedRequests?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),this.runningOffline?c.logWithPrefix("Ignoring Balancer stats since running in offline mode",c.logIdent):this.triedSendingBalancerStats?c.logWithPrefix("Any event sent to server: "+(M?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent):c.logWithPrefix("Reached stats server: Unknown",c.logIdent),!this.runningOffline&&H.length>0&&this.triedSendingBalancerStats&&c.logWithPrefix(c.colorizeText("Missing requests: "+H.join(", "),g.YELLOW),c.logIdent),c.logWithPrefix("Request to the Selector API: "+(this.successfulResponseFromSelector?c.colorizeText("Successful",g.GREEN):c.colorizeText("Unsuccessful",g.RED)),c.logIdent),this.apiErrorMessage&&!this.successfulResponseFromSelector&&c.logWithPrefix(this.getApiErrorMessage(),c.logIdent,2),c.logWithPrefix("Took decision based on Selector API: "+(this.usedSelectorAPI?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),this.activeSwitchingEnabled?c.logWithPrefix("Active switching decision: "+(this.asDecisionPerformed?c.colorizeText("Performed",g.GREEN):c.colorizeText("Not performed",g.RED)),c.logIdent):c.logWithPrefix("Active switching decision: "+c.colorizeText("Active Switching Disabled!",g.YELLOW),c.logIdent),c.logWithPrefix("CDN List: ",c.logIdent),this.cdnList.size>0){let _=this.cdnList.values().next().value.columns.map(O=>O.padEnd(18)).join("");c.logWithPrefix(_,c.logIdent,2)}else c.logWithPrefix(c.colorizeText("The list is empty!",g.RED),c.logIdent,2);for(let _ of this.cdnList.values()){let O=_.generateRow();c.log(c.logIdent.repeat(2)+O.row,"color: "+O.color)}let s=Array.from(this.cdnList.values()).filter(_=>_.getFailedRequestsPercentage()>30).length,i=this.successfulResponseFromSelector&&this.balancerInterceptedRequests&&this.usedSelectorAPI&&this.cdnList.size>0&&(!this.triedSendingBalancerStats||M),a=this.integrationMessageColors.YELLOW,S="%cCDN Balancer might not be integrated!";i?this.triedSendingBalancerStats&&H.length===0&&s<this.cdnList.size&&(S="%cCDN Balancer is integrated!",a=this.integrationMessageColors.GREEN):(S="%cCDN Balancer is NOT integrated!",a=this.integrationMessageColors.RED),c.log(S,`color: ${a}; font-size: 12px; font-weight: bold;`)}logVideoAnalyticsDiagnostic(){if(!this.videoAnalyticsEnabled)return;let y=Array.from(this.successfulNQSRequests).map(s=>s.slice(1)),F=this.mandatoryNQSRequests.filter(s=>!y.includes(s));if(c.header("Video Analytics Diagnostic"),c.logWithPrefix("Events sent to server/storage: "+(y.length!==0?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),c.logWithPrefix("All mandatory events sent to server/storage: "+(F.length===0?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),F.length>0&&this.triedSendingNQSStats&&c.logWithPrefix("Missing stats requests: "+c.colorizeText(F.join(", "),g.RED),c.logIdent),c.logWithPrefix("Was able to capture events: "+(this.capturedEvents.length>0?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),c.logWithPrefix("Captured events:",c.logIdent),this.capturedEvents.length>0){let s=this.capturedEvents[0].columns.map(i=>i.padEnd(15)).join("");c.logWithPrefix(s,c.logIdent,2)}else c.logWithPrefix(c.colorizeText("No events captured!",g.RED),c.logIdent,2);for(let s of this.capturedEvents)c.logWithPrefix(s.generateRow(),c.logIdent,2);let b=this.hasPlayerRegistered&&y.length!==0&&this.capturedEvents.length>0,M=this.integrationMessageColors.YELLOW,H="%cVideo Analytics might not be integrated!";b?this.triedSendingNQSStats&&F.length===0&&(H="%cVideo Analytics is integrated!",M=this.integrationMessageColors.GREEN):(H="%cVideo Analytics is NOT integrated!",M=this.integrationMessageColors.RED),c.log(H,`color: ${M}; font-size: 12px; font-weight: bold;`)}logAdsAnalyticsDiagnostic(){if(!this.adsAnalyticsEnabled)return;let y=Array.from(this.successfulNQSAdsRequests).map(b=>b.slice(1)),F=this.mandatoryNQSAdsRequests.filter(b=>!y.includes(b));if(c.header("Ads Analytics Diagnostic"),this.shouldIgnoreAds&&c.log("%cIgnoring Ads Analytics because ad.ignore option is set to true",`color: ${this.integrationMessageColors.YELLOW}; font-size: 12px; font-weight: bold;`),this.hasAdsPlayerRegistered||y.length!==0){if(c.logWithPrefix("Events sent to server/storage: "+(y.length!==0?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),c.logWithPrefix("All mandatory events sent to server/storage: "+(F.length===0?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),F.length>0&&this.triedSendingNQSAdStats&&c.logWithPrefix("Missing ad stats requests: "+c.colorizeText(F.join(", "),g.RED),c.logIdent),c.logWithPrefix("Was able to capture ads events: "+(this.capturedAdsEvents.length>0?c.colorizeText("Yes",g.GREEN):c.colorizeText("No",g.RED)),c.logIdent),c.logWithPrefix("Captured events:",c.logIdent),this.capturedAdsEvents.length>0){let s=this.capturedAdsEvents[0].columns.map(i=>i.padEnd(15)).join("");c.logWithPrefix(s,c.logIdent,2)}else c.logWithPrefix(c.colorizeText("No events captured!",g.RED),c.logIdent,2);for(let s of this.capturedAdsEvents)c.logWithPrefix(s.generateRow(),c.logIdent,2);let b=(this.hasAdsPlayerRegistered||y.length!=0)&&this.capturedAdsEvents.length>0,M=this.integrationMessageColors.YELLOW,H="%cAds Analytics might not be integrated!";b?F.length===0&&(H="%cAds Analytics is integrated!",M=this.integrationMessageColors.GREEN):(H="%cAds Analytics is NOT integrated!",M=this.integrationMessageColors.RED),c.log(H,`color: ${M}; font-size: 12px; font-weight: bold;`)}else c.log("%cIgnoring Ads Analytics because no ads adapter was registered",`color: ${this.integrationMessageColors.YELLOW}; font-size: 12px; font-weight: bold;`)}getApiErrorMessage(){return this.apiErrorMessage==="ERROR_CONFIGURATION_NOT_FOUND"?c.colorizeText(`${this.apiErrorMessage} - Default profile not set or profile doesn't exist`,g.YELLOW):this.apiErrorMessage}}D.defaultReportTimeout=3e5},9731:function(K){var V,d,g,u,R;V=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,d=/^(?=([^\/?#]*))\1([^]*)$/,g=/(?:\/|^)\.(?=\/)/g,u=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,R={buildAbsoluteURL:function(T,c,m){if(m=m||{},T=T.trim(),!(c=c.trim())){if(!m.alwaysNormalize)return T;var h=R.parseURL(T);if(!h)throw new Error("Error trying to parse base URL.");return h.path=R.normalizePath(h.path),R.buildURLFromParts(h)}var f=R.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return m.alwaysNormalize?(f.path=R.normalizePath(f.path),R.buildURLFromParts(f)):c;var P=R.parseURL(T);if(!P)throw new Error("Error trying to parse base URL.");if(!P.netLoc&&P.path&&P.path[0]!=="/"){var G=d.exec(P.path);P.netLoc=G[1],P.path=G[2]}P.netLoc&&!P.path&&(P.path="/");var D={scheme:P.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(D.netLoc=P.netLoc,f.path[0]!=="/"))if(f.path){var v=P.path,y=v.substring(0,v.lastIndexOf("/")+1)+f.path;D.path=R.normalizePath(y)}else D.path=P.path,f.params||(D.params=P.params,f.query||(D.query=P.query));return D.path===null&&(D.path=m.alwaysNormalize?R.normalizePath(f.path):f.path),R.buildURLFromParts(D)},parseURL:function(T){var c=V.exec(T);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(T){for(T=T.split("").reverse().join("").replace(g,"");T.length!==(T=T.replace(u,"")).length;);return T.split("").reverse().join("")},buildURLFromParts:function(T){return T.scheme+T.netLoc+T.path+T.params+T.query+T.fragment}},K.exports=R},5438:(K,V,d)=>{"use strict";function g(he,Ae){let ye=F();return(g=function(we,xe){return ye[we-=201]})(he,Ae)}d.d(V,{CE:()=>M,Ji:()=>_,LI:()=>s,Lg:()=>D,Ow:()=>y,Y4:()=>h,Zq:()=>ae,_C:()=>S,b3:()=>H,dR:()=>a,df:()=>m,hj:()=>P,jQ:()=>i,m:()=>v,mH:()=>b,w2:()=>f,wc:()=>O,xC:()=>R,yL:()=>T,yl:()=>c,zU:()=>G});let u=g;(function(he){let Ae=g,ye=he();for(;;)try{if(parseInt(Ae(216))/1*(-parseInt(Ae(209))/2)+-parseInt(Ae(228))/3+-parseInt(Ae(211))/4+-parseInt(Ae(240))/5*(parseInt(Ae(215))/6)+-parseInt(Ae(244))/7*(parseInt(Ae(202))/8)+-parseInt(Ae(231))/9*(parseInt(Ae(239))/10)+parseInt(Ae(214))/11==378298)break;ye.push(ye.shift())}catch(we){ye.push(ye.shift())}})(F);let R={CDN:"/cdn"},T={Success:"ok",Fail:u(243),Progress:"pr"},c={Updated:u(220),Success:"ok",Fail:"nok"},m={host:"gnsnpaw.com",devHost:u(205),devDomains:[u(218),u(221)],service:"/decision",decisionCallWaitTime:3e4,decisionReloadIntervalPerManifestMilliseconds:3e4},h=[".mp4",u(219),u(225),u(232),u(237),u(241)],f=[".m3u8",u(235)],P=[u(222)],G=[u(245),".vtt",u(201),u(242)],D={connect:"connect",close:u(208),error:u(226),data:u(236),ping:"ping",pong:"pong"},v={optimizedScore:"optimizedScore",optimizedFeedback:u(204),bestScore:u(234),qualityPriority:"qualityPriority",cdnPriority:u(217)},y={max:25e6,min:2e5,default:2e5};function F(){let he=[".cmf","PING","bestScore",".mpd","data",".dash","wss://p2p-tracker.youbora.com/webrtc","674810XcLQID","1798715IXIlzW",".m4f",".ass","nok","2009875jhKaDV",".srt",".ssa","8KKJxYc","SEGMENTS_MAP","optimizedFeedback","stage-smartswitchv2.youbora.com","SEGMENT_REQUEST","random","close","48XLoLiJ","command","2564348ojJOLB","SEGMENT_ABSENT","identifier","29568880fYCAgU","6qglxSO","17266NLQlMX","cdnPriority","stage.npaw.com",".m4s","updated","qa.npaw.com",".aac","keys","splits",".ts","error","default","1619886RDVFWc","CANCEL_SEGMENT_REQUEST","PONG","9jmLMuq"];return(F=function(){return he})()}u(207),u(227);let b={data:"SEGMENT_DATA",absent:u(212),map:u(203),newSegmentAvailable:"NEW_SEGMENT_AVAILABLE",request:u(206),cancel:u(229),ping:u(233),pong:u(230)},M={command:u(210),id:"data_spec_key",size:"size",storageSize:"ss",map:u(223),identifier:u(213),splits:u(224),time:0,simpleMapKeys:"k",simpleMapSize:"s",dateTime:"dt",createdAt:"ca"},H={bandwidth_test:2,message:1,data:0},s={maxMessageSize:65532,probability:1,timeout:2500,maxConcurrency:6,maxConnectedPeers:40,tracker:u(238),upload:!1},i={version:2},a={expiration:3e5,count:60,safeMaxCount:300},S={retries:5,retryDelay:100,defaultBwThreshold:2e5,connectTimeoutMilliseconds:1e4,readTimeoutMilliseconds:3e3,minRequestSizeForBwEstimateKB:100},_={totalDataInterval:6e4},O={callTimeoutMilliseconds:500,timeBetweenCallsMilliseconds:1e3,timeBetweenBurstsMilliseconds:5e3},ae={lastMeasurementWeight:.5,maximumRelativeDeltaForTrial:.2,minimumDurationSinceLastUsedForTrialMilliseconds:3e4}},9393:(K,V,d)=>{var g=d(7086),u=d(7680),R={getPosition:function(){return null},getGivenBreaks:function(){return null},getExpectedBreaks:function(){return null},getExpectedPattern:function(){return null},getBreaksTime:function(){return null},getGivenAds:function(){return null},getExpectedAds:function(){return null},getIsVisible:function(){return!0},getAudioEnabled:function(){return null},getIsSkippable:function(){return null},getIsFullscreen:function(){return null},getCampaign:function(){return null},getCreativeId:function(){return null},getProvider:function(){return null},getAdInsertionType:function(){return null},fireClick:function(T){typeof T=="string"&&(T={url:T}),this.emit(g.Event.CLICK,{params:T})},fireQuartile:function(T){this.flags.isStarted&&typeof T=="number"&&T>this.flags.lastQuartileSent&&T<4&&(this.flags.lastQuartileSent++,this.emit(g.Event.QUARTILE,{params:{quartile:T}}))},startChronoView:function(){if(this.getIsVisible()&&this.plugin.backgroundDetector&&!this.plugin.backgroundDetector.isInBackground){var T=this.chronos.viewedMax;T.length!==0&&T[T.length-1].stopTime===0||(T.push(new u),T[T.length-1].start())}},stopChronoView:function(){var T=this.chronos.viewedMax;T[0]&&T.length>0&&T[T.length-1].stopTime===0&&T[T.length-1].stop()},fireManifest:function(T,c){var m={params:T};typeof T=="string"&&(m={params:{errorType:T,errorMessage:c}}),this.emit(g.Event.MANIFEST,m)},fireSkip:function(T){T===void 0&&(T={}),T.skipped=!0,this.fireStop(T)},fireBreakStart:function(T){this.fireAdBreakStart(T)},fireBreakStop:function(T){this.fireAdBreakStop(T)},fireAdBreakStart:function(T){this.emit(g.Event.PODSTART,{params:T})},fireAdBreakStop:function(T){this.emit(g.Event.PODSTOP,{params:T})}};K.exports=R},594:(K,V,d)=>{var g=d(7086);let{default:u}=d(7276),{AnalyticsTag:R}=d(2784);var T={getPlayrate:function(){return this.flags.isPaused?0:1},getFramesPerSecond:function(){},getDroppedFrames:function(){},getThroughput:function(){},getRendition:function(){},getTitle2:function(){},getIsLive:function(){},getCdnTraffic:function(){},getP2PTraffic:function(){},getUploadTraffic:function(){},getIsP2PEnabled:function(){},getSegmentDuration:function(){},getHouseholdId:function(){},getLatency:function(){},getPacketLoss:function(){},getPacketSent:function(){},getMetrics:function(){},getAudioCodec:function(){},getVideoCodec:function(){},getURLToParse:function(){},fireSeekBegin:function(c,m,h){if(this._discardFalseBuffers(),!(this.getVideo()&&this.getVideo().getIsLive()&&this.plugin.options["content.isLive.noSeek"])&&this.flags.isJoined&&!this.flags.isSeeking){if(this.flags.isBuffering){if(m===!1)return;u.notice(R,"Converting current buffer to seek"),this.chronos.seek=this.chronos.buffer.clone(),this.chronos.buffer.reset(),this.flags.isBuffering=!1}else this.chronos.seek.start();try{this.fireEventsStruct.seek=[],h?this.fireEventsStruct.seek.push(h):this.fireEventsStruct.seek.push("undefinedEvent")}catch(f){}this.flags.isSeeking=!0,this.emit(g.Event.SEEK_BEGIN,{params:c})}},fireSeekEnd:function(c,m){if(!(this.getVideo()&&this.getVideo().getIsLive()&&this.plugin.options["content.isLive.noSeek"])&&this.flags.isJoined&&this.flags.isSeeking){try{m?this.fireEventsStruct.seek.push(m):this.fireEventsStruct.seek.push("undefinedEvent")}catch(h){}(c=c||{}).triggeredEvents=this.fireEventsStruct.seek,this.cancelSeek(),this.emit(g.Event.SEEK_END,{params:c});try{this.chronos.pause.getDeltaTime(!1)>0&&this.chronos.pause.resume()}catch(h){}}},cancelSeek:function(c){this.flags.isJoined&&this.flags.isSeeking&&(this.flags.isSeeking=!1,this.chronos.seek.stop(),this.monitor&&this.monitor.skipNextTick())},fireEvent:function(c,m,h,f){if(c==="data")this.emit(g.Event.DATA_OBJECT,{params:f});else{var P=f||{};P.name=c||"",P.dimensions=m||{},P.values=h||{},this.emit(g.Event.VIDEO_EVENT,{params:P})}},storeNewRendition:function(c){this.getVideo().triggerUpdateRendition(c)}};K.exports=T},5292:(K,V,d)=>{var g=d(1593);let{default:u}=d(7276);var R=d(2507),T=d(9835),c=d(5200),m=d(7255),h=d(3381),f=d(8490),P=d(7086),G=d(6777);let{AnalyticsTag:D}=d(2784),{default:v}=d(9065),{default:y}=d(61);var F=g.extend({constructor:function(b,M,H,s,i,a){this._key=b,this._setAdapter=!1,this._npawVideo=M,this._loadedAdapterImplementation=!1,this.flags=new m,this.chronos=new c,this._adapterClasses={},this.fireEventsStruct={},this.fireEventsStruct.buffer=[],this.fireEventsStruct.seek=[],this.monitor=null,this.plugin=H,this.player&&this.unregisterListeners(),this.player=null,this._isAdsAdapter=null,this.log=u,this.log.loadLevelFromUrl(),this.npaw=d(6014),this.setPlayer(i);let S=typeof a!="object",_,O=S?JSON.parse(a):void 0;if(this._adapterName=S?this.getAdapterName(O):this.getAdapterNameFromClass(a),S&&this.plugin&&this.plugin.canOverwriteAdapters()&&(_=this._getAdapterFromTemplates(this._adapterName),_&&u.notice(D,"Overwrite Adapter: "+this._adapterName)),S&&!_)if(a)try{_=O}catch(ae){u.warn(D,"Problem parsing adapter json code (to object conversion)")}else _=this._getAdapterFromTemplates(this._adapterName);this.tag=this.player,S&&_?(this.evalAdapterJson(_,!1),this.registerListeners()):!S&&a&&(this.loadAdapterClasses(a,!1),this.registerListeners()),this.plugin.options.enableExtraMetricCollection&&this._npawVideo.fetchLocation(),u.notice(D,"Adapter "+this.getVersion()+" with Lib "+T+" is ready.")},_updatePlayer:function(b){this.player&&this.unregisterListeners(),this.player=null,this.setPlayer(b),this.tag=this.player,this.registerListeners()},isSetAdapter:function(){return this._setAdapter},getVideo:function(){return this._npawVideo},getPlugin:function(){return this.plugin},getNpawUtils:function(){return this.plugin.utils},getNpawReference:function(){return this.npaw},getLog:function(){return this.log},isStarted:function(){return!!this.flags&&this.flags.isStarted},getAdapterClass:function(b){var M=this._adapterClasses;return M[b]?M[b]:null},getAdapterName:function(b){if(b&&b["adapter,getVersion"])try{return window.Function(b["adapter,getVersion"])()}catch(M){}return"undefined"},getAdapterNameFromClass:function(b){if(b&&b.getVersion)try{return b.getVersion()}catch(M){}return"undefined"},getAdapterClasses:function(){return this._adapterClasses},updateAdapterTemplates:function(b){if(this.plugin.canOverwriteAdapters()){var M=this._getAdapterFromTemplates(this._adapterName,b);M&&(this.evalAdapterJson(M,!0),this.registerListeners())}},_getAdapterFromTemplates:function(b,M){var H=null;M||(M=this.plugin.adapterTemplates);try{b&&M&&M[b.toLowerCase()]&&(H=JSON.parse(M[b.toLowerCase()]))}catch(s){u.warn(D,"Adapter "+b+" not found on repository")}return H},evalAdapterJson:function(b,M){M=M||!1;var H=0,s=0,i="";try{for(var a in b){var S=a.split(","),_=S.shift(),O=S.shift();i=O;var ae=null;if(S&&S.length>=1){var he=S;ae=window.Function(he,b[a])}else ae=window.Function(b[a]);ae&&(_.toLowerCase()==="adapter"?(this[O]=ae,H++):_.indexOf(".adapter")>0?(_=_.replace(".adapter",""),this.getAdapterClasses()[_]||(this.getAdapterClasses()[_]=new F(this._key,this._npawVideo,this.getPlugin(),null,this.player,null,null,{})),this.getAdapterClasses()[_][O]=ae,s++):(this.getAdapterClasses()[_]||(this.getAdapterClasses()[_]={},this.getAdapterClasses()[_].constructor=function(){},this.getAdapterClasses()[_].plugin=this.plugin,this.getAdapterClasses()[_].getNpawUtils=function(){return this.plugin.utils}),this.getAdapterClasses()[_][O]=ae,s++))}this._loadedAdapterImplementation=!0,this._adapterEvaluatedCode=b;try{this.adapterHash=G(typeof b=="string"?b.trim():JSON.stringify(b).trim())}catch(Ae){this.adapterHash="Undefined"}u.notice(D,"["+this.getAdapterKey()+"] Loaded adapter ("+this.getVersion()+") (Hash "+this.adapterHash+") implementation from JSON; From templates: "+M+"; Integrated adapter methods: "+H+", external methods: "+s)}catch(Ae){u.error(D,"Can't be evaluated adapter json correctly; From templates: "+M+", Last method evaluated: "+i)}},loadAdapterClasses:function(b,M){M=M||!1;let H=0,s=0,i="",a=Object.getPrototypeOf(b);try{let S="",_=new Map;for(;a!==Object.prototype;)Object.getOwnPropertyNames(a).forEach(O=>{typeof a[O]!="function"||O==="constructor"||_.has(O)||_.set(O,a[O])}),a=Object.getPrototypeOf(a);if(_.forEach((O,ae)=>{this[ae]=O,S+=O.toString(),H++}),i="Adapter Class",b.adsAdapters!==void 0)for(let O of Object.keys(b.adsAdapters))this.getAdapterClasses()[O]=new F(this._key,this._npawVideo,this.getPlugin(),null,this.player,new b.adsAdapters[O]),i="Ads Adapter -> "+O;if(b.additionalContexts!==void 0){for(let O of Object.keys(b.additionalContexts)){this.getAdapterClasses()[O]||(this.getAdapterClasses()[O]={},this.getAdapterClasses()[O].constructor=function(){},this.getAdapterClasses()[O].plugin=this.plugin,this.getAdapterClasses()[O].getNpawUtils=function(){return this.plugin.utils});let ae=new b.additionalContexts[O],he=Object.getPrototypeOf(ae),Ae=Object.getOwnPropertyNames(he).filter(ye=>typeof ae[ye]=="function"&&ye!=="constructor");for(let ye of Ae)this.getAdapterClasses()[O][ye]=ae[ye],s++}i="Additional Contexts"}this._loadedAdapterImplementation=!0;try{this.adapterHash=G(S.trim())}catch(O){this.adapterHash="Undefined"}u.notice(D,"["+this.getAdapterKey()+"] Loaded adapter ("+this.getVersion()+") (Hash "+this.adapterHash+") implementation from class; From templates: "+M+"; Integrated adapter methods: "+H+", external methods: "+s)}catch(S){u.error(D,"Can't be evaluated adapter class correctly; From templates: "+M+", Last method evaluated: "+i)}},getAdapterKey:function(){return this._key},setPlayer:function(b){typeof b=="string"&&typeof document!="undefined"?this.player=document.getElementById(b):this.player=b},registerListeners:function(){},unregisterListeners:function(){},dispose:function(){try{this.stopMonitor(),this.stopReadyStateMonitor(),this.unregisterListeners(),this.player=null,this.tag=null}catch(b){u.error(D,"Can't process dispose for video "+this._key)}},monitorPlayhead:function(b,M,H){this.stopMonitor();var s=0;b&&(s|=h.Type.BUFFER),M&&(s|=h.Type.SEEK),this.monitor&&this.monitor._timer.isRunning?this.monitor.skipNextTick():this.monitor=new h(this,s,H)},stopMonitor:function(){this.monitor&&this.monitor.stop()},monitorReadyState:function(b){this.stopReadyStateMonitor(),this.stateMonitor=new f(this,b)},startReadyStateMonitor:function(){this.stateMonitor&&this.stateMonitor.start()},stopReadyStateMonitor:function(){this.stateMonitor&&this.stateMonitor.stop()},checkReadyState:function(b,M){try{this.plugin&&this.plugin.getReadyStateMonitorEnabled()&&b&&(b>3&&!this.flags.isSeeking?this.flags.isBuffering?this.fireBufferEnd({},M+"-readyState"):this.flags.isJoined||this.fireJoin({},M+"-readyState"):b<4&&!this.flags.isBuffering&&!this.flags.isPaused&&this.fireBufferBegin({},!1,M+"-readyState",!0))}catch(H){u.error(D,"Can't check readyState property correctly")}},getPlayhead:function(){return null},getDuration:function(){return null},getBitrate:function(){return null},getTotalBytes:function(){return null},getTitle:function(){return null},getResource:function(){return null},getPlayerVersion:function(){return null},getPlayerName:function(){return null},getVersion:function(){return T+"-generic-js"},getVideoObject:function(){return null},getLastUsedCdn:function(){return v.getInstance().getCommonVariable(y.Products.BALANCER,y.BalancerVariables.LAST_USED_CDN)||void 0},checkExistsPlayer:function(){return!0},checkExistsObjectOnPage:function(b){return R.elementIsInPage(b)},fireInit:function(b,M){if(this._npawVideo&&this._npawVideo.controlPlayerExists()&&!this.checkExistsPlayer())return u.warn(D,"Cannot fire init event because player not exists on the document"),null;this.adapterHash&&((b=b||{}).pluginHash=this.adapterHash),this._npawVideo&&this._npawVideo.fireInit(b,M)},fireStart:function(b,M){return this._npawVideo&&this._npawVideo.controlPlayerExists()&&!this.checkExistsPlayer()?(u.warn(D,"Cannot fire start event because player not exists on the document"),null):this.plugin&&this.plugin.backgroundDetector&&this.plugin.backgroundDetector.canBlockStartCalls()?null:void(this.flags.isStarted||(this.flags.isStarted=!0,this.chronos.total.start(),this.chronos.join.start(),M&&((b=b||{}).triggeredEvents=[M]),this.adapterHash&&((b=b||{}).pluginHash=this.adapterHash),this.startReadyStateMonitor(),this.emit(P.Event.START,{params:b}),this.plugin._logSetAdapterEvent(this._adapterEvaluatedCode)))},fireJoin:function(b,M){this.flags.isJoined||this.flags.isStarted||this._isAds()||!this._npawVideo||!this._npawVideo.isInitiated||this.fireStart(),this.flags.isStarted&&!this.flags.isJoined&&(this.flags.isStarted=!0,this.monitor&&this.monitor.start(),this.flags.isJoined=!0,this.chronos.join.stop(),M&&((b=b||{}).triggeredEvents=[M]),this.emit(P.Event.JOIN,{params:b}))},firePause:function(b,M){this._discardFalseBuffers(),this.flags.isBuffering&&this.fireBufferEnd(null,"firePauseCall"),this.flags.isJoined&&!this.flags.isPaused&&(this.flags.isPaused=!0,this.chronos.pause.start(),M&&((b=b||{}).triggeredEvents=[M]),this.emit(P.Event.PAUSE,{params:b}))},fireResume:function(b,M){if(this._discardFalseBuffers(),this.flags.isJoined&&this.flags.isPaused){this.flags.isPaused=!1;try{this._npawVideo.ignorePauseSmallEvents()&&this.chronos.pause.getDeltaTime(!1)<=50?this.chronos.pause.reset():this.chronos.pause.stop()}catch(H){this.chronos.pause.stop()}this.monitor&&this.monitor.skipNextTick(),M&&((b=b||{}).triggeredEvents=[M]),this.emit(P.Event.RESUME,{params:b})}},fireBufferBegin:function(b,M,H,s){if(s=s||!1,this.flags.isJoined&&!this.flags.isBuffering){if(this.flags.isSeeking){if(!M)return;u.notice(D,"Converting current buffer to seek"),this.chronos.buffer=this.chronos.seek.clone(),this.chronos.seek.reset(),this.flags.isSeeking=!1}else this.chronos.buffer.start();try{this.fireEventsStruct.buffer=[],H?this.fireEventsStruct.buffer.push(H):this.fireEventsStruct.buffer.push("undefinedEvent")}catch(i){}this.flags.isBuffering=!0,this.flags.isVideoStateBuffering=s,this.emit(P.Event.BUFFER_BEGIN,{params:b})}},fireBufferEnd:function(b,M){if(this.flags.isJoined&&this.flags.isBuffering){try{M?this.fireEventsStruct.buffer.push(M):this.fireEventsStruct.buffer.push("undefinedEvent")}catch(H){}(b=b||{}).triggeredEvents=this.fireEventsStruct.buffer,this.cancelBuffer(),this.emit(P.Event.BUFFER_END,{params:b});try{this.chronos.pause.getDeltaTime(!1)>0&&this.chronos.pause.resume()}catch(H){}}},_discardFalseBuffers:function(){try{this.flags.isBuffering&&this.flags.isVideoStateBuffering&&this._getDeltaBufferTime()<=100&&this.cancelBuffer()}catch(b){}},cancelBuffer:function(b){this.flags.isJoined&&this.flags.isBuffering&&(this.flags.isBuffering=!1,this.flags.isVideoStateBuffering=!1,this.chronos.buffer.stop(),this.monitor&&this.monitor.skipNextTick())},_getDeltaBufferTime:function(){return this.chronos&&this.chronos.buffer?this.chronos.buffer.getDeltaTime(!1):0},fireStop:function(b,M){try{if((this._isAds()||this._npawVideo._isStopReady())&&(this._isAds()&&this.flags.isStarted||!this._isAds()&&(this.flags.isStarted||this._npawVideo.isInitiated))){if(this.stopMonitor(),this.stopReadyStateMonitor(),this._isAds()&&(b=b||{},this.flags.isPaused)){let H=this.chronos.pause.getDeltaTime();b.adPauseDuration=H}this.flags.reset(),this.chronos.total.stop(),this.chronos.join.reset(),this.chronos.pause.stop(),this.chronos.buffer.stop(),this.chronos.seek.stop(),M&&((b=b||{}).triggeredEvents=[M]),this.emit(P.Event.STOP,{params:b}),this.chronos.pause.reset(),this.chronos.buffer.reset(),this.chronos.seek.reset(),this.chronos.viewedMax.splice(0,this.chronos.viewedMax.length)}}catch(H){u.warn(D,"Issue firing Stop event")}},firePlayerLog:function(b,M){if(this._npawVideo){var H={logs:M,logAction:b,logType:"playerEvent"};this._npawVideo.firePlayerLog(H)}},setIsAds:function(b){this._isAdsAdapter=b},_isAds:function(){return this._isAdsAdapter},fireCasted:function(b,M){b||(b={}),b.casted=!0,this.fireStop(b,M)},fireError:function(b,M,H,s,i,a){let S=R.buildErrorParams(b,M,H);S.code&&delete S.code,i&&(S=S||{},S.triggeredEvents=[i]);let _=this._npawVideo?this._npawVideo.options:{};S.errorCode!==void 0&&_["errors.ignore"]&&_["errors.ignore"].indexOf(S.errorCode.toString())>-1||(((a=a||!1)||S.errorCode!==void 0&&_["errors.fatal"]&&_["errors.fatal"].indexOf(S.errorCode.toString())>-1)&&this.flags.isJoined&&(S=S||{},S.errorType="fatal"),this.emit(P.Event.ERROR,{params:S}))},fireFatalError:function(b,M,H,s,i){this.fireError(b,M,H,s,i,!0)},isLegacyBufferBehaviourEnabled:function(){return(this._npawVideo?this._npawVideo.options:{}).enableLegacyBufferBehaviour||!1}},{Event:P.Event});R.assign(F.prototype,d(9393)),R.assign(F.prototype,d(594)),K.exports=F},5200:(K,V,d)=>{var g=d(3948),u=d(7680),R=g.extend({constructor:function(){this.reset()},reset:function(){this.join=new u,this.seek=new u,this.pause=new u,this.buffer=new u,this.total=new u,this.viewedMax=[]}});K.exports=R},7255:(K,V,d)=>{var g=d(3948).extend({constructor:function(){this.reset()},reset:function(){this.isStarted=!1,this.isJoined=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isVideoStateBuffering=!1,this.isEnded=!1,this.isStopped=!1,this.lastQuartileSent=0,this.isAdPaused=!1}});K.exports=g},3381:(K,V,d)=>{var g=d(3948),u=d(4954),R=d(7680),T=g.extend({constructor:function(c,m,h){this._adapter=c,this._seekEnabled=m&T.Type.SEEK,this._bufferEnabled=m&T.Type.BUFFER,h=h||800,this._chrono=new R,this._lastPlayhead=0,h>0&&(this._timer=new u(this.progress.bind(this),h))},start:function(){this.stop(),this.canBeUsed()&&this._timer.start()},stop:function(){this._lastPlayhead=0,this._timer&&this._timer.stop()},skipNextTick:function(){this._lastPlayhead=0},progress:function(){var c=this._chrono.stop();this._chrono.start();var m=c*T.kBUFFER_THRESHOLD_RATIO,h=c*T.kSEEK_THRESHOLD_RATIO;this._adapter.getPlayrate&&this._adapter.getPlayrate()&&this._adapter.getPlayrate()!==1&&(m*=this._adapter.getPlayrate(),h*=this._adapter.getPlayrate());var f=this._getPlayhead(),P=1e3*Math.abs(this._lastPlayhead-f);P<m?this._bufferEnabled&&this._lastPlayhead>0&&!this._adapter.flags.isPaused&&!this._adapter.flags.isSeeking&&this._adapter.fireBufferBegin(null,!1,"playheadMonitor"):P>h?this._seekEnabled&&this._lastPlayhead>0&&this._adapter.fireSeekBegin(null,!1,"playheadMonitor"):(this._seekEnabled&&this._adapter.fireSeekEnd(null,"playheadMonitor"),this._bufferEnabled&&this._adapter.fireBufferEnd(null,"playheadMonitor")),this._lastPlayhead=f},canBeUsed:function(){let c=this._adapter.getVideo(),m=this._adapter.getPlugin();return!(!m||!m.getPlayheadMonitorEnabled()||!this._seekEnabled&&!this._bufferEnabled||c&&c.getIsLive()&&m.options["content.isLive.noMonitor"])},_getPlayhead:function(){return this._adapter.getPlayhead()}},{Type:{NONE:0,BUFFER:1,SEEK:2},kBUFFER_THRESHOLD_RATIO:.5,kSEEK_THRESHOLD_RATIO:2});K.exports=T},8490:(K,V,d)=>{var g=d(3948);let{default:u}=d(7276),{AnalyticsTag:R}=d(2784);var T=g.extend({constructor:function(c,m){this._adapter=c,this._videoElement=c.getVideoObject(),this._startedStateCheck=!1,this._intervalCheckId=null,this._intervalMilliseconds=m||300},start:function(){var c=this._adapter.plugin;c&&c.getReadyStateMonitorEnabled()&&this._videoElement&&!this._startedStateCheck&&(this._intervalCheckId=setInterval(this.checkStateProperty.bind(this),this._intervalMilliseconds),this._startedStateCheck=!0)},stop:function(){try{this._startedStateCheck&&this._intervalCheckId&&clearInterval(this._intervalCheckId),this._intervalCheckId=null,this._startedStateCheck=!1}catch(c){u.error(R,"Produced error stopping the network monitor")}},checkStateProperty:function(c){try{this._videoElement&&this._adapter&&this._videoElement.readyState&&(this._videoElement.readyState>3&&!this._adapter.flags.isSeeking?this._adapter.flags.isBuffering?this.fireBufferEnd({},"stateMonitor"):this._adapter.flags.isJoined||this.fireJoin({},"stateMonitor"):this._videoElement.readyState<4&&!this._adapter.flags.isBuffering&&this.fireBufferBegin({},!1,"stateMonitor",!0))}catch(m){}}});K.exports=T},7680:(K,V,d)=>{var g=d(3948).extend({constructor:function(){this.reset()},reset:function(){this.startTime=0,this.stopTime=0,this.pauseTime=0,this.offset=0},getDeltaTime:function(u){var R=-1,T=new Date().getTime();if(this.startTime){u&&!this.stopTime&&(this.stopTime=T);var c=this.pauseTime?T-this.pauseTime:0,m=this.stopTime?this.stopTime:T;R=this.offset-c+(m-this.startTime)}return R},start:function(){this.startTime=new Date().getTime(),this.stopTime=0,this.offset=0},stop:function(){return this.pauseTime&&this.resume(),this.stopTime=new Date().getTime(),this.startTime?this.offset+(this.stopTime-this.startTime):-1},pause:function(){this.pauseTime=new Date().getTime()},resume:function(){this.offset-=new Date().getTime()-this.pauseTime,this.pauseTime=0},clone:function(){var u=new g;return u.startTime=this.startTime,u.stopTime=this.stopTime,u.offset=this.offset,u}});K.exports=g},3821:(K,V,d)=>{var g=d(3948);let{default:u,LogLevel:R}=d(7276);var T=d(2507);let{AnalyticsTag:c}=d(2784);var m=g.extend({constructor:function(h,f,P,G,D){this.videoKey=D,this.xhr=this.createXHR(),this.host=h||"",this.service=f||"",this.params=P||{},this.options=T.assign({},m.defaultOptions,G),this.retries=0,this.sendPostRequest=!1,this.preparedPostRequest=!1,this.options.cache||this.params.timemark||this.setParam("timemark",new Date().getTime())},createXHR:function(){var h={};try{h=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(f){u.error(c,f)}return h},getXHR:function(){return this.xhr},getResponse:function(){return this.xhr.response},getResponseText:function(){return this.xhr.responseText},getResponseHeaders:function(){return this.xhr.getAllResponseHeaders()},getUrl:function(){return this.host+this.service+this.getParamString()},getVideoKey:function(){return this.videoKey},on:function(h,f,P){return this.xhr.addEventListener?this.xhr.addEventListener(h,f.bind(this,this,P)):h===m.Event.SUCCESS&&(this.xhr.onreadystatechange=function(){this.xhr.readyState===4&&f.bind(this,this,P)}.bind(this)),this},off:function(h,f){return this.xhr.removeEventListener(h,f),this},getParamString:function(){try{var h="?";for(var f in this.params){var P=this.params[f];if(P!==null&&typeof P=="object"){var G=JSON.stringify(P);G!=="{}"&&(h+=encodeURIComponent(f)+"="+encodeURIComponent(G)+"&")}else P!=null&&P!==""&&(h+=encodeURIComponent(f)+"="+encodeURIComponent(P)+"&")}return h.slice(0,-1)}catch(D){return u.error(c,D),""}},getParam:function(h){return this.params[h]},setParam:function(h,f){return this.params[h]=f,this},setBody:function(h){this.body=h},setPostRequest:function(h){this.sendPostRequest=h},getParamsForPostMessages:function(){var h={};try{var f=this.getParam("timemark"),P=this.getParam("code"),G=this.getParam("sessionRoot"),D=this.getParam("sessionId");f&&(h.timemark=f),P&&(h.code=P),G&&(h.sessionRoot=G),D&&(h.sessionId=D)}catch(v){u.error(c,v)}return h},send:function(){try{try{this.sendPostRequest&&!this.preparedPostRequest&&(this.options.method="POST",this.body=JSON.stringify(this.params),this.params=this.getParamsForPostMessages(),this.preparedPostRequest=!0)}catch(P){}if(this.xhr.open(this.options.method,this.getUrl(),!0),this.options.requestHeaders)for(var h in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(h)&&this.xhr.setRequestHeader(h,this.options.requestHeaders[h]);for(var f in this.options.retryAfter>0&&this.options.maxRetries>0&&this.retries===0&&this.on(m.Event.ERROR,function(){if(this.retries>=this.options.maxRetries)u.error(c,'Aborting failed request "'+this.service+'". Max retries reached.');else{u.warn(c,'YBRequest "'+this.service+'" failed. Retry '+(this.retries+1)+" of "+this.options.maxRetries+" in "+this.options.retryAfter+"ms.");try{setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter)}catch(P){typeof atv!="undefined"?atv.setTimeout(function(){this.retries+=1,this.send()}.bind(this),this.options.retryAfter):u.error(c,P)}}}.bind(this)),u.logLevel<=R.VERBOSE&&u.verbose(c,"XHR Req: "+this.getUrl()),m._globalListeners)m._globalListeners[f].forEach(function(P){this.on(f,P)}.bind(this));return this.xhr.send(this.body)}catch(P){u.error(c,P)}}},{Event:{SUCCESS:"load",LOAD:"load",ERROR:"error",ABORT:"abort"},defaultOptions:{method:"GET",requestHeaders:{},maxRetries:3,retryAfter:5e3,cache:!1},_globalListeners:{},onEvery:function(h,f){m._globalListeners[h]=m._globalListeners[h]||[],m._globalListeners[h].push(f)},offEvery:function(h,f){if(m._globalListeners[h]){var P=m._globalListeners[h].indexOf(f);P!==-1&&m._globalListeners[h].splice(P,1)}}});K.exports=m},1151:(K,V,d)=>{var g=d(2503),u=d(3168),R=d(3908),T=d(8187),c=d(3831),m=d(4387),h=d(1657),f=d(3782);let{AnalyticsTag:P}=d(2784),{default:G}=d(7276);var D=g.extend({constructor:function(v){D.__super__.constructor.apply(this,arguments),this.plugin=v,this._realResource=void 0,this._transportFormat=void 0,this._initResource=void 0,this._cdnName=void 0,this._cdnNodeHost=void 0,this._cdnNodeTypeString=void 0,this._cdnNodeType=void 0,this._responses={},this._isBusy=!1,this.transformName="Resource"},getResource:function(){return this._realResource},_getInitialCdnResource:function(){return this._realResource||this._initResource},getTransportFormat:function(){return this._transportFormat},getCdnName:function(){return this._cdnName},getNodeHost:function(){return this._cdnNodeHost},getNodeTypeString:function(){return this._cdnNodeTypeString},getNodeType:function(){return this._cdnNodeType},init:function(v){v?this._isBusy||(this._isBusy=!0,this._initResource=v,this._parseManifestEnabled=this.plugin.isParseManifest(),this._cdnEnabled=this.plugin.isParseCdnNode(),this._cdnList=this.plugin.getParseCdnNodeList().slice(),R.setBalancerHeaderName(this.plugin.getParseCdnNodeNameHeader(),this.plugin.getParseNodeHeader()),this._setTimeout(),this._parseManifestEnabled?this._isFinalUrl(this._initResource)?(this._realResource=this._initResource,this.done()):this.parseManifest():this._parseCDN()):this.done()},_isFinalUrl:function(v){let y=[".ts",".mp4",".m4s",".cmfv"];v=v||"";for(let F in y){let b=y[F];if(v.lastIndexOf(b)===v.length-b.length)return!0}return!1},_setTimeout:function(){let v=()=>{this._isBusy&&(this.done(),G.warn(P,"ResourceTransform has exceded the maximum execution time (3s) and will be aborted."))};try{this._parseTimeout=setTimeout(v,3e3)}catch(y){typeof atv!="undefined"?this._parseTimeout=atv.setTimeout(v,3e3):G.error(P,y)}},parseManifest:function(v,y){let F=this.plugin.options["parse.manifest.auth"],b=[new h(F),new c(F),new u(F)];this._parseManifest(b,v,y||this._initResource)},_parseManifest:function(v,y,F,b){if(v.length>0){let M=v[0];M.shouldExecute(y)?(M.on(m.Event.DONE,()=>{this._parseManifest(v.slice(1,v.length),M.getLastManifest(),M.getResource(),M.getTransportFormat()||b)}),M.parse(F,y)):this._parseManifest(v.slice(1,v.length),y,F,b)}else this._transportFormat=b,this._realResource=F,this._parseCDN()},_parseCDN:function(){if(this.plugin.isCdnSwitch())this.switchDetector=new T(this.plugin),this.switchDetector.on(T.Events.DONE,v=>{this._cdnName=v.data,this.done()}),this.switchDetector.on(T.Events.ERROR,()=>{this.done()}),this.switchDetector.init();else if(this._cdnEnabled&&this._cdnList.length>0){let v=this._cdnList.shift(),y=R.create(v);y?(y.on(R.Event.DONE,()=>{this._responses=y.getResponses(),this._cdnName=y.getParsedCdnName(),this._cdnNodeHost=y.getParsedNodeHost(),this._cdnNodeTypeString=y.getParsedNodeTypeString(),this._cdnNodeType=y.getParsedNodeType(),this.getNodeHost()?this.done():this._parseCDN()}),y.parse(this._getInitialCdnResource(),this._responses)):this._parseCDN()}else this.done()},parse:function(v){if(v.service===f.Service.START){let y=this.plugin.requestBuilder.lastSent;y.parsedResource=v.params.parsedResource=this.getResource()||v.params.parsedResource,y.transportFormat=v.params.transportFormat=this.getTransportFormat()||v.params.transportFormat,this._cdnEnabled&&(y.cdn=v.params.cdn=v.params.cdn||this.getCdnName(),y.nodeHost=v.params.nodeHost=this.getNodeHost()||v.params.nodeHost,y.nodeType=v.params.nodeType=this.getNodeType()||v.params.nodeType,y.nodeTypeString=v.params.nodeTypeString=this.getNodeTypeString()||v.params.nodeTypeString)}}});K.exports=D},8187:(K,V,d)=>{var g=d(1593),u=d(3821);let{AnalyticsTag:R}=d(2784),{default:T}=d(7276);var c=g.extend({constructor:function(m){this.plugin=m,this.headerName="x-cdn"},init:function(){var m=null;this.plugin&&(m=this.plugin.getAdapter()&&this.plugin.getAdapter().getURLToParse()?this.plugin.getAdapter().getURLToParse():this.plugin.getResource()),this.plugin&&this.plugin.getAdapter()&&this.plugin.getAdapter().flags.isStarted&&this._request(m)},done:function(m){this.emit(c.Events.DONE,m)},error:function(){this.emit(c.Events.ERROR)},_successfulRequest:function(m){setTimeout(this.init.bind(this),1e3*parseInt(this.plugin.options["parse.cdnTTL"]));var h=m.getResponseHeaders().split(`
`),f=null;for(var P in h){var G=h[P],D=G.indexOf(this.headerName);D>-1&&(f=G.substring(D+this.headerName.length+1,G.length-1).replace(" ",""))}this.done(f)},_failedRequest:function(){setTimeout(this.init.bind(this),1e3*parseInt(this.plugin.options["parse.cdnTTL"])),T.warn(R,"CDN switch detection request failed"),this.error()},_request:function(m){var h=new u(m,null,null,{method:"HEAD",cache:!0});h.on(u.Event.SUCCESS,this._successfulRequest.bind(this)),h.on(u.Event.ERROR,this._failedRequest.bind(this)),h.send()}},{Events:{DONE:"done",ERROR:"error"}});K.exports=c},3908:(K,V,d)=>{var g=d(1593),u=d(2507);d(3821);let{AnalyticsTag:R}=d(2784),{default:T}=d(7276);var c=g.extend({constructor:function(m){this._options=u.assign({cdnName:null,parsers:[],requestMethod:"HEAD",requestHeaders:{},parseType:function(){return 0}},m),this._responses={}},done:function(){this.emit(c.Event.DONE)},addParser:function(m){return this._options.parsers.push(m),this},setCdnName:function(m){return this._options.cdnName=m,this},setRequestMethod:function(m){return this._options.requestMethod=m,this},setRequestHeader:function(m,h){return this._options.requestHeaders[m]=h,this},setParseType:function(m){return this._options.parseType=m,this},getParsedCdnName:function(){return this._cdnName},getParsedNodeHost:function(){return this._cdnNodeHost},getParsedNodeTypeString:function(){return this._cdnNodeTypeString},getParsedNodeType:function(){return this._cdnNodeType},getResponses:function(){return this._responses},parse:function(m,h){this._responses=h||{};var f=JSON.stringify(this._options.requestHeaders);this._responses[f]?this._parseResponse(this._responses[f]):this._requestResponse(m)},_requestResponse:function(m){var h=JSON.stringify(this._options.requestHeaders),f=h!=="{}";let P=new XMLHttpRequest;P.open(this._options.requestMethod,m);for(let G in this._options.requestHeaders)Object.prototype.hasOwnProperty(this._options.requestHeaders,G)&&P.setRequestHeader(G,this._options.requestHeaders[G]);P.onreadystatechange=()=>{P.readyState===4&&(P.status>=200&&P.status<400?(this._responses[h]=P.getAllResponseHeaders(),this._parseResponse(this._responses[h])):f?(this._options.requestHeaders={},this._requestResponse(m)):this.done())},P.send()},_parseResponse:function(m){this._options.parsers.forEach(function(h){if(typeof h.headerName=="string")this._parseHeaderResponse(m,h,h.headerName);else if(Array.isArray(h.headerName))for(var f=0,P=h.headerName.length;f<P;f++){var G=h.headerName[f];typeof G=="string"&&this._parseHeaderResponse(m,h,G)}}.bind(this)),this.done()},_parseHeaderResponse:function(m,h,f){f&&(f=f?f.toLowerCase():"",m.split(`
`).forEach(function(P){var G=P.indexOf(":");G!==-1&&P.slice(0,G).toLowerCase()===f&&this._executeParser(h,P.slice(G+1))}.bind(this)))},_executeParser:function(m,h){try{var f=m.regex.exec(h.trim());if(f!==null)switch(this._options.cdnName&&(this._cdnName=this._options.cdnName),m.element){case c.ElementType.HOST:this._cdnNodeHost=f[1];break;case c.ElementType.TYPE:this._cdnNodeTypeString=f[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case c.ElementType.HOST_AND_TYPE:this._cdnNodeHost=f[1],this._cdnNodeTypeString=f[2],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString);break;case c.ElementType.TYPE_AND_HOST:this._cdnNodeTypeString=f[1],this._cdnNodeType=this._options.parseType(this._cdnNodeTypeString),this._cdnNodeHost=f[2];break;case c.ElementType.NAME:this._cdnName=f[1].toUpperCase()}}catch(P){T.warn(R,"CDN parsing for "+this._options.cdnName+" could not parse header value "+h)}},shouldExecute:function(){return!0}},{Event:{DONE:"done"},ElementType:{HOST:"host",TYPE:"type",HOST_AND_TYPE:"host+type",TYPE_AND_HOST:"type+host",NAME:"name"},_cdnConfigs:{},setBalancerHeaderName:function(m,h){c._cdnConfigs.Balancer.parsers[0].headerName=m,c._cdnConfigs.Balancer.parsers[1].headerName=h},create:function(m){if(c._cdnConfigs[m])return new c(c._cdnConfigs[m]);T.warn(R,"Tried to create an unexisting CdnParser named "+m)},add:function(m,h){c._cdnConfigs[m]=h}});c.add("Level3",d(3713)),c.add("Cloudfront",d(7286)),c.add("Akamai",d(5298)),c.add("Highwinds",d(2047)),c.add("Fastly",d(563)),c.add("Telefonica",d(5040)),c.add("Amazon",d(2370)),c.add("Edgecast",d(7660)),c.add("Balancer",d(2580)),c.add("NosOtt",d(4335)),K.exports=c},5298:K=>{K.exports={cdnName:"AKAMAI",parsers:[{element:"type+host",headerName:"X-Cache",regex:/(.+)\sfrom.+AkamaiGHost\/(.+)\).+/},{element:"host",headerName:"akamai-mon-iucid-del",regex:/(.*)/},{element:"type",headerName:"akamai-cache-status",regex:/(.+)\sfrom\schild/}],requestHeaders:{Pragma:"akamai-x-cache-on"},parseType:function(V){var d=V.toLowerCase();return d.indexOf("hit")!==-1?1:d.indexOf("miss")!==-1?2:0}}},2370:K=>{K.exports={cdnName:"AMAZON",parsers:[{element:"host",headerName:"x-amz-cf-pop",regex:/(.+)/},{element:"type",headerName:"x-cache",regex:/(.+)\sfrom.+/}],parseType:function(V){return V.toLowerCase().indexOf("hit")!==-1?1:V.toLowerCase().indexOf("miss")!==-1?2:0}}},2580:K=>{K.exports={parsers:[{element:"name",headerName:null,regex:/(.+)/},{element:"host",headerName:null,regex:/(.+)/}]}},7286:K=>{K.exports={cdnName:"CLOUDFRT",parsers:[{element:"host",headerName:"X-Amz-Cf-Id",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(\S+)\s.+/}],parseType:function(V){switch(V){case"Hit":return 1;case"Miss":return 2;default:return 0}}}},7660:K=>{K.exports={cdnName:"EDGECAST",parsers:[{element:"host",headerName:"Server",regex:/\((.+)\/.+\)/},{element:"type",headerName:"X-Cache",regex:/(.+)/}],parseType:function(V){return V==="HIT"?1:2}}},563:K=>{K.exports={cdnName:"FASTLY",parsers:[{element:"host",headerName:"X-Served-By",regex:/([^,\s]+)$/},{element:"type",headerName:"X-Cache",regex:/([^,\s]+)$/}],parseType:function(V){switch(V){case"HIT":return 1;case"MISS":return 2;default:return 0}}}},2047:K=>{K.exports={cdnName:"HIGHNEGR",parsers:[{element:"host+type",headerName:"X-HW",regex:/.+,[0-9]+\.(.+)\.(.+)/}],parseType:function(V){switch(V){case"c":case"x":return 1;default:return 2}}}},3713:K=>{K.exports={cdnName:"LEVEL3",parsers:[{element:"host+type",headerName:"X-WR-Diag",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"X-WR-Diag":"host"},parseType:function(V){if(V){if(V.indexOf("TCP_HIT")===0||V.indexOf("TCP_MEM_HIT")===0||V.indexOf("TCP_IMS_HIT")===0)return 1;if(V.indexOf("TCP_MISS")===0)return 2}return 0}}},4335:K=>{K.exports={cdnName:"NOSOTT",parsers:[{element:"host",headerName:"X-NOS-Server",regex:/(.+)/},{element:"type",headerName:"X-Cache",regex:/(.*)/}],parseType:function(V){switch(V){case"Hit":return 1;case"Miss":return 2;default:return 0}}}},5040:K=>{K.exports={cdnName:"TELEFO",parsers:[{element:"host+type",headerName:"x-tcdn",regex:/Host:(.+)\sType:(.+)/}],requestHeaders:{"x-tcdn":"host"},parseType:function(V){if(V){if(V.indexOf("p")!==-1||V.indexOf("c")!==-1)return 1;if(V.indexOf("i")!==-1||V.indexOf("m")!==-1)return 2}return 0}}},3831:(K,V,d)=>{var g=d(3821),u=d(4387),R=d(7939);let{AnalyticsTag:T}=d(2784),{default:c}=d(7276);var m=u.extend({parse:function(h,f){if(f)this.parseLocation(f,h);else{var P=new g(h,null,null,{cache:!0,requestHeaders:this._headers});P.on(g.Event.SUCCESS,function(G){this.parseLocation(G,h)}.bind(this)),P.on(g.Event.ERROR,function(G){this.done()}.bind(this)),P.send()}},parseLocation:function(h,f){this.iterations--;var P=new RegExp(/<Location>([\s\S]+)<\/Location>/);try{this._lastManifest=h;var G=h.getResponseText(),D=P.exec(G);if(D&&D[1])var v=this._htmlDecode(D[1].replace(`
`,""));v&&v!==f&&this.iterations>0?this.parse(v):this.parseFinalResource(G,f)}catch(y){c.warn(T,"Dash parse failed"),this.done()}},_htmlDecode:function(h){if(typeof document!="undefined"&&typeof document.createElement=="function"){var f=document.createElement("textarea");return f.innerHTML=h,f.childNodes&&f.childNodes.length?f.childNodes[0].nodeValue:h}return h},parseFinalResource:function(h,f){var P=new RegExp(/<BaseURL>[\r\n]*(.*?)[\r\n]*<\/BaseURL>/),G=new RegExp(/<SegmentURL[\s\S]*media="([^"]+)/),D=new RegExp(/<SegmentTemplate[\s\S]*media="([^"]+)/),v=null;try{v=P.exec(h)||D.exec(h)||G.exec(h),this._getManifestMetadata(h),v&&v[1]&&this._isFullUrl(v[1])?v[1].indexOf('"')>0?this._realResource=v[1].substr(0,v[1].indexOf('"')).replace(`
`,""):this._realResource=v[1].replace(`
`,""):this._realResource=f}catch(y){c.warn(T,"Dash manifest parse failed")}this.done()},_getManifestMetadata:function(h){try{var f=new RegExp(/<AdaptationSet[\s\S]*mimeType="video\/([^"]+)/).exec(h),P=null;switch(f[1]){case"mp4":case"m4s":P=R.MP4;break;case"mp2t":P=R.MPEG2;break;case"cmfv":P=R.CMF}this._transportFormat=P}catch(G){c.warn(T,"Couldnt find the transport format")}},_isFullUrl:function(h){return h.indexOf("http")!==-1},shouldExecute:function(h){var f=!0;return h&&(f=h.getResponseText().indexOf("<MPD")!==-1),f}});K.exports=m},3168:(K,V,d)=>{var g=d(3821),u=d(4387),R=d(7939);let{AnalyticsTag:T}=d(2784),{default:c}=d(7276);var m=u.extend({parse:function(h,f,P){P=P||"";var G=null;try{G=/((\S*?)(\.m3u8|\.m3u|\.ts|\.m4s|\.mp4|\.cmfv|\.m4a)((\?|;)\S*|\n|\r|$))/i.exec(h.replaceAll(",URI=",`
`).replaceAll('"',"").replaceAll(",",`
`))}catch(M){c.warn(T,"Parse HLS Regex failed",M),this.done()}if(G!==null){var D=G[1].trim(),v="",y=P.lastIndexOf("/");if(D.indexOf("http")!==0&&y!==-1){if(D[0]==="/"&&D[1]!=="/"){var F=P.indexOf("/")+1;F+=P.substr(F,P.length).indexOf("/")+1,F+=P.substr(F,P.length).indexOf("/"),D=P.slice(0,F)+D}else D=P.slice(0,y)+"/"+D;v=P.slice(0,y)+"/"}if(G[3]===".m3u8"||G[3]===".m3u")if(f)this._parseWithManifest(f,v,G);else{var b=new g(D,null,null,{cache:!0,requestHeaders:this._headers});b.on(g.Event.SUCCESS,function(M){this._parseWithManifest(M,v,G)}.bind(this)),b.on(g.Event.ERROR,function(M){this.done()}.bind(this)),b.send()}else{switch(G[3]){case".mp4":case".m4s":case".m4a":this._transportFormat=R.MP4;break;case".ts":this._transportFormat=R.MPEG2;break;case".cmfv":this._transportFormat=R.CMF}this._realResource=D,this.done()}}else this.done()},_parseWithManifest:function(h,f,P){this._lastManifest=h,this.parse(h.getResponseText(),null,f+P[2])},shouldExecute:function(h){var f=!0;return h&&(f=h.getResponseText().indexOf("#EXTM3U")!==-1),f}});K.exports=m},1657:(K,V,d)=>{var g=d(3821),u=d(4387).extend({parse:function(R,T){if(T)this._parseWithManifest(T);else{this._realResource=R;var c=new g(R,null,null,{cache:!0,requestHeaders:this._headers});c.on(g.Event.SUCCESS,function(m){this._parseWithManifest(m)}.bind(this)),c.on(g.Event.ERROR,function(m){this.done()}.bind(this)),c.send()}},_parseWithManifest:function(R){this._lastManifest=R;var T=R.getResponseHeaders(),c=!1;R&&R.xhr&&R.xhr.responseURL&&R.xhr.responseURL!==this._realResource?(this._realResource=R.xhr.responseURL,this.parse(this._realResource),c=!0):T.split(`
`).forEach(function(m){m.startsWith("Location:")&&(this._realResource=m.slice(10),this.parse(this._realResource),c=!0)}.bind(this)),c||this.done()}});K.exports=u},4387:(K,V,d)=>{let g=d(1593).extend({constructor:function(u){this._realResource=void 0,this._lastManifest=void 0,this._transportFormat=void 0,this.iterations=3,this._headers=u},done:function(){this.iterations=3,this.emit(g.Event.DONE)},parse:function(u,R){},getResource:function(){return this._realResource},getTransportFormat:function(){return this._transportFormat},getLastManifest:function(){return this._lastManifest},shouldExecute:function(u){return!0}},{Event:{DONE:"done"}});K.exports=g},2503:(K,V,d)=>{var g=d(1593).extend({constructor:function(){this._isBusy=!0,this._sendRequest=!0,this.transformName="Transform"},parse:function(u){},isBlocking:function(u){return this._isBusy},done:function(){this._isBusy=!1,this.emit(g.Event.DONE)},hasToSend:function(u){return this._sendRequest},getState:function(){return this._sendRequest?this._isBusy?this.STATE_BLOCKED:this.STATE_NO_BLOCKED:this.STATE_OFFLINE}},{STATE_OFFLINE:2,STATE_BLOCKED:1,STATE_NO_BLOCKED:0,Event:{DONE:"done"}});K.exports=g},3782:(K,V,d)=>{let g=d(703),u=d(7086),R={AdPosition:g,ManifestError:d(8932),RequestMethod:d(9637),Service:d(7062),WillSendEvent:d(3003),WillSendLog:d(825),AdInsertionType:d(1083),Adapter:u,Metadata:d(8424)};K.exports=R},1083:K=>{K.exports={ClientSide:"csai",ServerSide:"ssai"}},703:K=>{K.exports={Preroll:"pre",Midroll:"mid",Postroll:"post"}},7086:(K,V,d)=>{var g={Event:d(2477)};K.exports=g},2477:K=>{K.exports={INIT:"init",START:"start",JOIN:"join",JOIN_TIME:"joinTime",DATA_OBJECT:"data",PAUSE:"pause",RESUME:"resume",SEEK_BEGIN:"seek-begin",SEEK_END:"seek-end",BUFFER_BEGIN:"buffer-begin",BUFFER_END:"buffer-end",ERROR:"error",STOP:"stop",CLICK:"click",MANIFEST:"manifest",PODSTART:"break-start",PODSTOP:"break-stop",QUARTILE:"quartile",VIDEO_EVENT:"video-event"}},8932:K=>{K.exports={NO_RESPONSE:"NO_RESPONSE",EMPTY:"EMPTY_RESPONSE",WRONG:"WRONG_RESPONSE"}},8424:K=>{K.exports={REQUIRED_METADATA_TIMEOUT:1e4}},9637:K=>{K.exports={GET:"GET",POST:"POST"}},7062:K=>{K.exports={DATA:"/data",ADAPTERS:"/adapters",CONFIGURATION:"/configuration",APP_ANALYTICS_PLUGIN_LOGS:"/infinity/session/pluginLogs",VIDEO_PLUGIN_LOGS:"/infinity/video/pluginLogs",INIT:"/init",START:"/start",JOIN:"/joinTime",DATA_OBJECT:"/data",PAUSE:"/pause",RESUME:"/resume",SEEK:"/seek",BUFFER:"/bufferUnderrun",ERROR:"/error",STOP:"/stop",PING:"/ping",CDN:"/cdn",VIDEO_EVENT:"/infinity/video/event",AD_INIT:"/adInit",AD_START:"/adStart",AD_JOIN:"/adJoin",AD_PAUSE:"/adPause",AD_RESUME:"/adResume",AD_BUFFER:"/adBufferUnderrun",AD_STOP:"/adStop",AD_CLICK:"/adClick",AD_ERROR:"/adError",AD_MANIFEST:"/adManifest",AD_POD_START:"/adBreakStart",AD_POD_STOP:"/adBreakStop",AD_QUARTILE:"/adQuartile",EVENT:"/infinity/session/event",SESSION_START:"/infinity/session/start",SESSION_STOP:"/infinity/session/stop",NAV:"/infinity/session/nav",BEAT:"/infinity/session/beat",OFFLINE_EVENTS:"/offlineEvents"}},8472:K=>{K.exports={HDS:"HDS",HLS:"HLS",MSS:"MSS",DASH:"DASH",RTMP:"RTMP",RTP:"RTP",RTSP:"RTSP",DVB:"DVB",DVBC:"DVB-C",DVBT:"DVB-T",DVBT2:"DVB-T2",MULTICAST:"MULTICAST"}},7939:K=>{K.exports={MP4:"MP4",MPEG2:"TS",CMF:"CMF"}},3003:K=>{K.exports={WILL_SEND_INIT:"will-send-init",WILL_SEND_START:"will-send-start",WILL_SEND_JOIN:"will-send-join",WILL_SEND_PAUSE:"will-send-pause",WILL_SEND_RESUME:"will-send-resume",WILL_SEND_SEEK:"will-send-seek",WILL_SEND_DATA_OBJECT:"will-send-data",WILL_SEND_BUFFER:"will-send-buffer",WILL_SEND_ERROR:"will-send-error",WILL_SEND_FATAL_ERROR:"will-send-fatal-error",WILL_SEND_STOP:"will-send-stop",WILL_SEND_PING:"will-send-ping",WILL_SEND_VIDEO_EVENT:"will-send-video-event",WILL_SEND_AD_START:"will-send-ad-start",WILL_SEND_AD_JOIN:"will-send-ad-join",WILL_SEND_AD_PAUSE:"will-send-ad-pause",WILL_SEND_AD_RESUME:"will-send-ad-resume",WILL_SEND_AD_BUFFER:"will-send-ad-buffer",WILL_SEND_AD_STOP:"will-send-ad-stop",WILL_SEND_AD_CLICK:"will-send-ad-click",WILL_SEND_AD_ERROR:"will-send-ad-error",WILL_SEND_AD_MANIFEST:"will-send-ad-manifest",WILL_SEND_AD_POD_START:"will-send-ad-break-start",WILL_SEND_AD_POD_STOP:"will-send-ad-break-stop",WILL_SEND_AD_QUARTILE:"will-send-ad-quartile",WILL_SEND_SESSION_START:"will-send-session-start",WILL_SEND_SESSION_STOP:"will-send-session-stop",WILL_SEND_NAV:"will-send-nav",WILL_SEND_BEAT:"will-send-beat",WILL_SEND_EVENT:"will-send-event",WILL_SEND_OFFLINE_EVENTS:"will-send-offline-events"}},825:K=>{K.exports={WILL_SEND_LOG_PLUGIN_INIT:"will-send-log-plugin-init",WILL_SEND_LOG_PLUGIN_SET_OPTIONS:"will-send-log-plugin-set-options",WILL_SEND_LOG_PLUGIN_RECEIVE_DATA:"will-send-log-plugin-receive-data",WILL_SEND_LOG_INFINITY_BEGIN:"will-send-log-infinity-begin",WILL_SEND_LOG_INFINITY_START:"will-send-log-infinity-start",WILL_SEND_LOG_INFINITY_EVENT:"will-send-log-infinity-event",WILL_SEND_LOG_INFINITY_NAV:"will-send-log-infinity-nav",WILL_SEND_LOG_INFINITY_NEW_SESSION:"will-send-log-infinity-new-session"}},9773:(K,V,d)=>{var g=d(3948).extend({constructor:function(u){this.plugin=u,this.isInBackground=!1,this.listenerReference=this._visibilityListener.bind(this),this._reset()},startDetection:function(){this.isBackgroundDetectorStarted||typeof document=="undefined"||(this.isBackgroundDetectorStarted=!0,document.addEventListener("visibilitychange",this.listenerReference))},stopDetection:function(){this.isBackgroundDetectorStarted&&typeof document!="undefined"&&(document.removeEventListener("visibilitychange",this.listenerReference),this._reset())},_reset:function(){this.isBackgroundDetectorStarted=!1},_visibilityListener:function(u){if(typeof document!="undefined"){var R=this._getSettings();document.visibilityState==="hidden"?this._toBackground(R):document.visibilityState==="visible"&&this._toForeground(R)}},_toBackground:function(u){this.isInBackground=!0;try{if(this.plugin&&this.plugin.videos)for(var R=0;R<this.plugin.videos.getVideoKeys().length;R++){var T=this.plugin.videos.getVideoKeys()[R],c=this.plugin.videos.getAdsAdapter(T);c&&c.stopChronoView()}}catch(h){}try{if(typeof u=="string"){switch(u){case"stop":this._fireStop();break;case"pause":this._firePause()}if(this.plugin.appAnalytics.appAnalyticsStarted){this.lastBeatTime=new Date().getTime();var m=this.plugin.appAnalytics._beat.chrono.startTime?this.lastBeatTime-this.plugin.appAnalytics._beat.chrono.startTime:0;this.plugin.appAnalytics._sendBeat(m),this.plugin.appAnalytics._beat.stop()}}}catch(h){}},_toForeground:function(u){this.isInBackground=!1;try{if(this.plugin&&this.plugin.videos)for(var R=0;R<this.plugin.videos.getVideoKeys().length;R++){var T=this.plugin.videos.getVideoKeys()[R],c=this.plugin.videos.getAdsAdapter(T);c&&c.startChronoView()}}catch(h){}try{if(typeof u=="string"&&u&&this.plugin.appAnalytics.appAnalyticsStarted){var m=new Date().getTime();m-this.lastBeatTime<this.plugin.appAnalytics.sessionExpire?(this.plugin.appAnalytics._sendBeat(m-this.lastBeatTime),this.plugin.appAnalytics._beat.start()):this.plugin.appAnalytics.newSession()}}catch(h){}},_getSettings:function(){return typeof this.plugin.options["background.settings"]=="string"&&this.plugin.options["background.settings"]?this.plugin.options["background.settings"]:this.plugin.deviceDetector.isSmartTV()?this.plugin.options["background.settings.tv"]:this.plugin.deviceDetector.isDesktop()?this.plugin.options["background.settings.desktop"]:this.plugin.deviceDetector.isAndroid()?this.plugin.options["background.settings.android"]:this.plugin.deviceDetector.isIphone()?this.plugin.options["background.settings.iOS"]:this.plugin.deviceDetector.isPlayStation()?this.plugin.options["background.settings.playstation"]:void 0},_firePause:function(){this._fireX("firePause")},_fireStop:function(){this._fireX("fireStop")},_fireX:function(u){try{if(this.plugin&&this.plugin.videos)for(var R=0;R<this.plugin.videos.getVideoKeys().length;R++){var T=this.plugin.videos.getVideoKeys()[R];this.adsAdapter=this.plugin.videos.getAdsAdapter(T),this.adsAdapter&&this.adsAdapter[u]({},"backgroundDetector"),this.contentAdapter=this.plugin.videos.getAdapter(T),this.contentAdapter&&this.contentAdapter[u]({},"backgroundDetector")}}catch(c){}},canBlockStartCalls:function(){return this.isInBackground&&this.plugin.options["background.enabled"]===!0&&this._getSettings()}});K.exports=g},2635:(K,V,d)=>{var g=d(3948).extend({constructor:function(){typeof navigator!="undefined"&&navigator.userAgent&&(this._isSmartTVDevice=navigator.userAgent.toLowerCase().match(/smarttv/)||navigator.userAgent.toLowerCase().match(/smart-tv/)||navigator.userAgent.toLowerCase().match(/appletv/)||navigator.userAgent.toLowerCase().match(/apple tv/),this._isPlaystationDevice=navigator.userAgent.match(/PlayStation/)!==null,this._isIphoneDevice=navigator.userAgent.match(/iPhone|iPad|iPod/i)!==null,this._isAndroidDevice=navigator.userAgent.match(/Android/)!==null,this._isSmartphoneDevice=!this._isSmartTVDevice&&!this._isPlaystationDevice&&(this._isIphoneDevice||this._isAndroidDevice),this._isDesktopDevice=!this._isSmartphoneDevice&&!this._isSmartTVDevice&&!this._isPlaystationDevice)},isIphone:function(){return this._isIphoneDevice},isAndroid:function(){return this._isAndroidDevice},isSmartphone:function(){return this._isSmartphoneDevice},isDesktop:function(){return this._isDesktopDevice},isSmartTV:function(){return this._isSmartTVDevice},isPlayStation:function(){return this._isPlaystationDevice}});K.exports=g},6424:(K,V,d)=>{var g=d(3948).extend({constructor:function(u,R){this.plugin=u,this.video=R,this.listenerReference=this._changeListener.bind(this),this.loadReference=this._loadListener.bind(this),this.isEnabled=!1,this.pageHeight=0,this.maxHeight=0,this.startDetection()},startDetection:function(){this.isEnabled||typeof window=="undefined"||typeof window.addEventListener!="function"||(window.addEventListener("scroll",this.listenerReference),window.addEventListener("resize",this.listenerReference),window.addEventListener("load",this.loadReference),this.isEnabled=!0)},stopDetection:function(){this.isEnabled&&typeof window!="undefined"&&typeof window.removeEventListener=="function"&&(window.removeEventListener("scroll",this.listenerReference),window.removeEventListener("resize",this.listenerReference),window.removeEventListener("load",this.loadReference),this.isEnabled=!1)},getScrollDepth:function(){var u=null;return this.maxHeight&&this.pageHeight&&(u=Math.min(Math.trunc(this.maxHeight/this.pageHeight*100),100)),u},_loadListener:function(){if(typeof document!="undefined"){var u=document.documentElement;u&&(this.pageHeight=Math.round(u.scrollHeight,u.clientHeight,u.offsetHeight),this.maxHeight=window.innerHeight,this._updateCompletionRate())}},_changeListener:function(){if(this.pageHeight){var u=this.maxHeight;this.maxHeight=Math.max(this.maxHeight,window.pageYOffset+window.innerHeight),u!==this.maxHeight&&this._updateCompletionRate()}var R=this.video.getAdsAdapter();R&&R.flags.isStarted&&(R.getIsVisible()?R.startChronoView():R.stopChronoView())},_updateCompletionRate:function(){setTimeout(function(){this.plugin.storage.setSession("pageScrollDepth",this.getScrollDepth())}.bind(this),3e3)}});K.exports=g},245:(K,V,d)=>{var g=d(3948).extend({constructor:function(u){this.plugin=u},getAllData:function(){var u=this.getNonRandomData();return u.timestamp=this.getTimestamp(),u},getNonRandomData:function(){var u={};return u.userAgent=this.getUserAgent(),u.threads=this.getVirtualCores(),u.language=this.getLanguage(),u.langList=this.getAvailableLanguages(),u.resolution=this.getResolution(),u.colorDepth=this.getColorDepth(),u.deviceMemory=this.getMemory(),u.touchscreen=this.getTouchscreen(),u.localStorage=this.getLocalStorage(),u.sessionStorage=this.getSessionStorage(),u.cookiesAvailable=this.getCookiesAvailable(),u.flashAvailable=this.getHasFlash(),u.timeZone=this.getTimeZone(),u.plugins=this.getPluginList(),u},getUserAgent:function(){return this._getNavigatorValue("userAgent")},getVirtualCores:function(){return this._getNavigatorValue("hardwareConcurrency")},getLanguage:function(){return this._getNavigatorValue("language")},getAvailableLanguages:function(){return this._getNavigatorValue("languages")},getResolution:function(){var u=null;try{this._getNavigatorValue("screen")&&(u=navigator.screen.width.toString()+navigator.screen.height.toString())}catch(R){}return u},getColorDepth:function(){var u=null;try{this._getNavigatorValue("screen")&&(u=navigator.screen.colorDepth)}catch(R){}return u},getMemory:function(){return this._getNavigatorValue("deviceMemory")},getTouchscreen:function(){return this._getNavigatorValue("maxTouchPoints")||!1},getLocalStorage:function(){var u=!1;try{u=typeof localStorage!="undefined"}catch(R){}return u},getSessionStorage:function(){var u=!1;try{u=typeof sessionStorage!="undefined"}catch(R){}return u},getCookiesAvailable:function(){return this._getNavigatorValue("cookieEnabled")||!1},getHasFlash:function(){var u=!1;try{var R=this._getNavigatorValue("plugins");u=R&&typeof R["Shockwave Flash"]=="object"||typeof window!="undefined"&&window.ActiveXObject&&new ActiveXObject("ShockwaveFlash.ShockwaveFlash")!==!1}catch(T){}return u},getPluginList:function(){var u=null;try{var R=this._getNavigatorValue("plugins");if(R&&R.length!==0){for(var T="",c=0;c<navigator.plugins.length;c++)T+=navigator.plugins[c].description+" "+navigator.plugins[c].filename+" "+navigator.plugins[c].name+" ";u=T}}catch(m){}return u},getTimeZone:function(){var u=null;try{u=new Date().getTimezoneOffset().toString()}catch(R){}return u},getTimestamp:function(){return new Date().getTime()},_navigatorCheck:function(){return typeof navigator!="undefined"},_getNavigatorValue:function(u){var R=null;try{this._navigatorCheck()&&(R=navigator[u])}catch(T){}return R}});K.exports=g},5804:(K,V,d)=>{var g=d(245),u=d(3948),R=d(6777);let{default:T}=d(9065);var c=u.extend({constructor:function(){this.dataExtractor=new g,this.key=this.getPreviousKey()},generateHashKey:function(){if(!this.key){var m=this.dataExtractor.getAllData();this.key=this._hashFunction(m),T.getInstance().getCoreStorage().setLocal("npawDeviceUUID",this.key)}},getKey:function(){return this.key||this.generateHashKey(),this.key},_hashFunction:function(m){var h=m;return typeof m!="string"&&(h=JSON.stringify(m)),R(h)},_reset:function(){this.key=void 0},getPreviousKey:function(){return T.getInstance().getCoreStorage().getLocal("npawDeviceUUID")}});K.exports=c},6777:K=>{K.exports=function(V){function d(H,s){return H<<s|H>>>32-s}function g(H,s){var i,a,S,_,O;return S=2147483648&H,_=2147483648&s,O=(1073741823&H)+(1073741823&s),(i=1073741824&H)&(a=1073741824&s)?2147483648^O^S^_:i|a?1073741824&O?3221225472^O^S^_:1073741824^O^S^_:O^S^_}function u(H,s,i,a,S,_,O){return H=g(H,g(g(function(ae,he,Ae){return ae&he|~ae&Ae}(s,i,a),S),O)),g(d(H,_),s)}function R(H,s,i,a,S,_,O){return H=g(H,g(g(function(ae,he,Ae){return ae&Ae|he&~Ae}(s,i,a),S),O)),g(d(H,_),s)}function T(H,s,i,a,S,_,O){return H=g(H,g(g(function(ae,he,Ae){return ae^he^Ae}(s,i,a),S),O)),g(d(H,_),s)}function c(H,s,i,a,S,_,O){return H=g(H,g(g(function(ae,he,Ae){return he^(ae|~Ae)}(s,i,a),S),O)),g(d(H,_),s)}function m(H){var s,i="",a="";for(s=0;s<=3;s++)i+=(a="0"+(H>>>8*s&255).toString(16)).substr(a.length-2,2);return i}var h,f,P,G,D,v,y,F,b,M=Array();for(M=function(H){for(var s,i=H.length,a=i+8,S=16*((a-a%64)/64+1),_=Array(S-1),O=0,ae=0;ae<i;)O=ae%4*8,_[s=(ae-ae%4)/4]=_[s]|H.charCodeAt(ae)<<O,ae++;return O=ae%4*8,_[s=(ae-ae%4)/4]=_[s]|128<<O,_[S-2]=i<<3,_[S-1]=i>>>29,_}(V=function(H){H=H.replace(/rn/g,"n");for(var s="",i=0;i<H.length;i++){var a=H.charCodeAt(i);a<128?s+=String.fromCharCode(a):a>127&&a<2048?(s+=String.fromCharCode(a>>6|192),s+=String.fromCharCode(63&a|128)):(s+=String.fromCharCode(a>>12|224),s+=String.fromCharCode(a>>6&63|128),s+=String.fromCharCode(63&a|128))}return s}(V)),v=1732584193,y=4023233417,F=2562383102,b=271733878,h=0;h<M.length;h+=16)f=v,P=y,G=F,D=b,v=u(v,y,F,b,M[h+0],7,3614090360),b=u(b,v,y,F,M[h+1],12,3905402710),F=u(F,b,v,y,M[h+2],17,606105819),y=u(y,F,b,v,M[h+3],22,3250441966),v=u(v,y,F,b,M[h+4],7,4118548399),b=u(b,v,y,F,M[h+5],12,1200080426),F=u(F,b,v,y,M[h+6],17,2821735955),y=u(y,F,b,v,M[h+7],22,4249261313),v=u(v,y,F,b,M[h+8],7,1770035416),b=u(b,v,y,F,M[h+9],12,2336552879),F=u(F,b,v,y,M[h+10],17,4294925233),y=u(y,F,b,v,M[h+11],22,2304563134),v=u(v,y,F,b,M[h+12],7,1804603682),b=u(b,v,y,F,M[h+13],12,4254626195),F=u(F,b,v,y,M[h+14],17,2792965006),v=R(v,y=u(y,F,b,v,M[h+15],22,1236535329),F,b,M[h+1],5,4129170786),b=R(b,v,y,F,M[h+6],9,3225465664),F=R(F,b,v,y,M[h+11],14,643717713),y=R(y,F,b,v,M[h+0],20,3921069994),v=R(v,y,F,b,M[h+5],5,3593408605),b=R(b,v,y,F,M[h+10],9,38016083),F=R(F,b,v,y,M[h+15],14,3634488961),y=R(y,F,b,v,M[h+4],20,3889429448),v=R(v,y,F,b,M[h+9],5,568446438),b=R(b,v,y,F,M[h+14],9,3275163606),F=R(F,b,v,y,M[h+3],14,4107603335),y=R(y,F,b,v,M[h+8],20,1163531501),v=R(v,y,F,b,M[h+13],5,2850285829),b=R(b,v,y,F,M[h+2],9,4243563512),F=R(F,b,v,y,M[h+7],14,1735328473),v=T(v,y=R(y,F,b,v,M[h+12],20,2368359562),F,b,M[h+5],4,4294588738),b=T(b,v,y,F,M[h+8],11,2272392833),F=T(F,b,v,y,M[h+11],16,1839030562),y=T(y,F,b,v,M[h+14],23,4259657740),v=T(v,y,F,b,M[h+1],4,2763975236),b=T(b,v,y,F,M[h+4],11,1272893353),F=T(F,b,v,y,M[h+7],16,4139469664),y=T(y,F,b,v,M[h+10],23,3200236656),v=T(v,y,F,b,M[h+13],4,681279174),b=T(b,v,y,F,M[h+0],11,3936430074),F=T(F,b,v,y,M[h+3],16,3572445317),y=T(y,F,b,v,M[h+6],23,76029189),v=T(v,y,F,b,M[h+9],4,3654602809),b=T(b,v,y,F,M[h+12],11,3873151461),F=T(F,b,v,y,M[h+15],16,530742520),v=c(v,y=T(y,F,b,v,M[h+2],23,3299628645),F,b,M[h+0],6,4096336452),b=c(b,v,y,F,M[h+7],10,1126891415),F=c(F,b,v,y,M[h+14],15,2878612391),y=c(y,F,b,v,M[h+5],21,4237533241),v=c(v,y,F,b,M[h+12],6,1700485571),b=c(b,v,y,F,M[h+3],10,2399980690),F=c(F,b,v,y,M[h+10],15,4293915773),y=c(y,F,b,v,M[h+1],21,2240044497),v=c(v,y,F,b,M[h+8],6,1873313359),b=c(b,v,y,F,M[h+15],10,4264355552),F=c(F,b,v,y,M[h+6],15,2734768916),y=c(y,F,b,v,M[h+13],21,1309151649),v=c(v,y,F,b,M[h+4],6,4149444226),b=c(b,v,y,F,M[h+11],10,3174756917),F=c(F,b,v,y,M[h+2],15,718787259),y=c(y,F,b,v,M[h+9],21,3951481745),v=g(v,f),y=g(y,P),F=g(F,G),b=g(b,D);return(m(v)+m(y)+m(F)+m(b)).toLowerCase()}},1593:(K,V,d)=>{var g=d(3948),u=d(2467),R=g.extend({on:function(T,c){if(this._listeners=this._listeners||{},typeof c=="function")return this._listeners[T]=this._listeners[T]||[],this._listeners[T].push(c),this},off:function(T,c){if(this._listeners=this._listeners||{},this._listeners[T]){var m=this._listeners[T].indexOf(c);m!==-1&&this._listeners[T].splice(m,1)}return this},emit:function(T,c){return this._listeners=this._listeners||{},c=c||{},u(this._listeners[T])&&this._listeners[T].forEach(this._eachCallback.bind(this,T,c)),u(this._listeners["*"])&&this._listeners["*"].forEach(this._eachCallback.bind(this,T,c)),this},_eachCallback:function(T,c,m){typeof m=="function"&&m({type:T,data:c,target:this})}});K.exports=R},4173:K=>{K.exports=function(V){if(V==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(V),g=1;g<arguments.length;g++){var u=arguments[g];if(u!=null)for(var R in u)u.hasOwnProperty(R)&&(d[R]=u[R])}return d}},9600:K=>{var V=function(){};K.exports=function(d){if(arguments.length>1)throw Error("Second argument not supported");if(d===null)throw Error("Cannot set a null [[Prototype]]");if(typeof d!="object")throw TypeError("Argument must be an object");return V.prototype=d,new V}},2467:K=>{K.exports=function(V){return Object.prototype.toString.call(V)==="[object Array]"}},2101:(K,V,d)=>{var g=d(3948),u=d(9474),R=g.extend({constructor:function(T){if(this.appAnalytics=T.appAnalytics,this.timeObject=void 0,this.playerSetup=void 0,this.myTimesObject={},this.perfObject=void 0,typeof window!="undefined"&&typeof window.addEventListener=="function"&&(window.addEventListener("load",this._windowLoaded.bind(this)),window.performance&&window.performance.timing)){try{typeof window.performance.getEntriesByType=="function"&&(this.perfObject=window.performance)}catch(c){}this.timeObject=window.performance.timing}try{if(typeof PerformanceObserver=="function"){let c=new PerformanceObserver((m,h)=>{let f=m.getEntries();this.myTimesObject.largestContentfulPaint=f[f.length-1].renderTime});PerformanceObserver.supportedEntryTypes.indexOf("largest-contentful-paint")>-1&&c.observe({entryTypes:["largest-contentful-paint"]})}}catch(c){}},_windowLoaded:function(){this.myTimesObject.onLoad=new Date().getTime(),this._getEnoughFPS(),setTimeout(this._fireLoadTimesEvent.bind(this),1e3)},_fireLoadTimesEvent:function(){this._getLastMetrics(),this.appAnalytics&&this.appAnalytics.fireEvent("loadTimes",{},this._getAllValues())},_getAllValues:function(){let T={PageLoadTime:this.getPageLoadTime(),DNSTime:this.getDnsTime(),TCPTime:this.getTcpTime(),HandshakeTime:this.getHandshakeTime(),DomReadyTime:this.getDomReadyTime(),BackendTime:this.getBackendTime(),FrontendTime:this.getFrontendTime(),VisualReady:this.getTimeToVisuallyReady(),TimeToInteractive:this.getTimeToInteractive(),JsTime:this.getJSTime(),CssTime:this.getCSSTime(),ImageTime:this.getImageTime(),FontTime:this.getFontTime(),AvgReqLatency:this.getAvgReqLatency(),MaxReqLatency:this.getMaxReqLatency(),FirstPaint:this.getFirstPaint(),FirstContentfulPaint:this.getFirstContentfulPaint(),LargestContentfulPaint:this.getLargestContentfulPaint(),SpeedIndex:this.getSpeedIndex()};for(let c in T)T[c]===null||T[c]===void 0||T[c]<0?delete T[c]:T[c]=Math.round(T[c]);return T},getPageLoadTime:function(){let T;return this.timeObject&&(T=this.timeObject.loadEventEnd-this.timeObject.navigationStart),T},getPlayerStartupTime:function(){let T;return this.timeObject&&this.playerSetup&&(T=this.playerSetup-this.timeObject.navigationStart),T},getDnsTime:function(){let T;return this.timeObject&&(T=this.timeObject.domainLookupEnd-this.timeObject.domainLookupStart),T},getTcpTime:function(){let T;return this.timeObject&&(T=this.timeObject.connectEnd-this.timeObject.connectStart),T},getHandshakeTime:function(){let T;return this.timeObject&&this.timeObject.secureConnectionStart&&(T=this.timeObject.connectEnd-this.timeObject.secureConnectionStart),T},getDomReadyTime:function(){let T;return this.timeObject&&(T=this.timeObject.domComplete-this.timeObject.navigationStart),T},getBackendTime:function(){let T;return this.timeObject&&(T=this.timeObject.responseStart-this.timeObject.navigationStart),T},getFrontendTime:function(){let T;return this.timeObject&&(T=this.myTimesObject.onLoad-this.timeObject.responseStart),T},getTimeToVisuallyReady:function(){let T=this.myTimesObject.firstPaint||0;return this.timeObject?Math.max(T,this.timeObject.domContentLoadedEventEnd-this.timeObject.navigationStart||0):T||void 0},getTimeToInteractive:function(){if(this.myTimesObject.fps&&this.getTimeToVisuallyReady())return Math.max(this.myTimesObject.fps,this.getTimeToVisuallyReady());setTimeout(()=>{this.getTimeToInteractive()},500)},getJSTime:function(){return this._getXTime("script")},getCSSTime:function(){return this._getXTime("css")},getImageTime:function(){return this._getXTime("img")},getFontTime:function(){return this._getXTime("css",[".woff",".otf",".ttf"])},getAvgReqLatency:function(){try{if(this.perfObject&&typeof this.perfObject.getEntriesByType=="function"){let c=0,m=0,h=this.perfObject.getEntriesByType("resource");for(var T in h)h[T].requestStart&&h[T].responseStart&&(m+=h[T].responseStart-h[T].requestStart),c++;return m/c}}catch(c){}},getFirstPaint:function(){return this.myTimesObject?this.myTimesObject.firstPaint:void 0},getFirstContentfulPaint:function(){return this.myTimesObject?this.myTimesObject.firstContentfulPaint:void 0},getLargestContentfulPaint:function(){return this.myTimesObject?this.myTimesObject.largestContentfulPaint:void 0},getMaxReqLatency:function(){try{if(this.perfObject&&typeof this.perfObject.getEntriesByType=="function"){let T=this.perfObject.getEntriesByType("resource"),c=0;for(let m in T)T[m].requestStart&&T[m].responseStart&&(c=Math.max(c,T[m].responseStart-T[m].requestStart));return c}}catch(T){}},getSpeedIndex:function(){let T;if(typeof window!="undefined"&&window.performance&&typeof window.performance.getEntriesByType=="function")try{T=u()}catch(c){}return T},_getXTime:function(T,c){let m=0;try{if(this.perfObject&&typeof this.perfObject.getEntriesByType=="function"){let f=this.perfObject.getEntriesByType("resource");for(let P in f)if(f[P].initiatorType===T)if(c){let G=!1;for(var h in c)f[P].name.indexOf(c[h]>0)&&(G=!0);G&&(m+=f[P].duration)}else m+=f[P].duration}}catch(f){}return Math.round(m)||void 0},_getLastMetrics:function(){let T,c;try{if(this.perfObject&&typeof this.perfObject.getEntriesByType=="function"){let m=this.perfObject.getEntriesByType("paint");for(let h in m)m[h].name==="first-paint"?T=m[h].startTime:m[h].name==="first-contentful-paint"&&(c=m[h].startTime)}}catch(m){}!T&&this.timeObject&&(T=this.timeObject.msFirstPaint-this.timeObject.navigationStart),this.myTimesObject.firstPaint=T,this.myTimesObject.firstContentfulPaint=c,this.getTimeToInteractive()},_getEnoughFPS:function(){if(!this.timeObject||typeof window=="undefined")return!0;{let T=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(){};this.preFPS=new Date().getTime(),T(()=>{let c=new Date().getTime();c<this.preFPS+50?this.myTimesObject.fps=c-this.timeObject.navigationStart:setTimeout(()=>this._getEnoughFPS(),50)})}},setPlayerSetupTime:function(){this.playerSetup=this.playerSetup||new Date().getTime()}});K.exports=R},2995:(K,V,d)=>{var g=d(3948).extend({getCdnTraffic:function(){let u;if(typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.cdn)u=CdnBalancerStats.cdn.totalDownloadedBytes;else if(typeof Streamroot!="undefined")u=this._getStreamrootPeerObject("cdn",!1)||this._getStreamrootInstanceObject("cdnDownload");else if(typeof peer5!="undefined"&&peer5.getStats)u=peer5.getStats().totalHttpDownloaded;else if(typeof teltoo!="undefined"&&teltoo.getStats){var R=teltoo.getStats();u=R.totalReceivedBytes-R.p2pReceivedBytes}return u},getMultiCdnInfo:function(){let u;if(typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.cdn&&CdnBalancerStats.cdn.cdns){let R=CdnBalancerStats.p2p;u={P2P:{downloaded_bytes:R.downloadedBytes,uploaded_bytes:R.uploadedBytes,downloaded_chunks:R.downloadedSegments,uploaded_chunks:R.uploadedSegments,errors:R.failedRequests?R.failedRequests.total:0,missed_downloaded_chunks:R.failedRequests?R.failedRequests.absent:0,timeout_errors:R.failedRequests?R.failedRequests.timeout:0,other_errors:R.failedRequests?R.failedRequests.error:0,late_uploaded_chunks:R.discardedUploadedSegments,late_uploaded_bytes:R.discardedUploadedBytes,late_downloaded_bytes:R.discardedDownloadedBytes,time:R.downloadMillis,active_peers:R.activePeers,peers:R.totalPeers}},CdnBalancerStats.cdn.cdns.forEach(function(T){u[T.name]={downloaded_bytes:T.bytes,downloaded_chunks:T.chunks,errors:T.failures,time:T.downloadMillis}})}return u},getSegmentDuration:function(){if(typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.segmentDuration)return CdnBalancerStats.segmentDuration},getBalancerResponseId:function(){if(typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.cdn)return CdnBalancerStats.cdn.responseUUID},getP2PTraffic:function(){let u;return typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.p2p?u=CdnBalancerStats.p2p.downloadedBytes:typeof Streamroot!="undefined"?u=this._getStreamrootPeerObject("p2p",!0)||this._getStreamrootInstanceObject("dnaDownload"):typeof peer5!="undefined"&&peer5.getStats?u=peer5.getStats().totalP2PDownloaded:typeof teltoo!="undefined"&&teltoo.getStats&&(u=teltoo.getStats().p2pReceivedBytes),u},getUploadTraffic:function(){let u;return typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.p2p?u=CdnBalancerStats.p2p.uploadedBytes:typeof Streamroot!="undefined"?u=this._getStreamrootPeerObject("upload",!0)||this._getStreamrootInstanceObject("dnaUpload"):typeof peer5!="undefined"&&peer5.getStats&&(u=peer5.getStats().totalP2PUploaded),u},getIsP2PEnabled:function(){let u=!1;if(typeof CdnBalancerStats!="undefined"&&CdnBalancerStats.p2p)u=CdnBalancerStats.p2p.downloadEnabled;else if(typeof Streamroot!="undefined")if(Streamroot.p2pAvailable&&Streamroot.peerAgents)for(var R in Streamroot.peerAgents)u=u||Streamroot.peerAgents[R].isP2PEnabled;else Streamroot.instances&&Streamroot.instances.forEach(function(T){u=u||T.dnaDownloadEnabled||T.dnaUploadEnabled});else typeof peer5!="undefined"&&peer5.isEnabled?u=peer5.isEnabled():typeof teltoo!="undefined"&&(u=!0);return u},_getStreamrootPeerObject:function(u,R){let T="";if(Streamroot.p2pAvailable&&Streamroot.peerAgents)for(let c in Streamroot.peerAgents){let m=Streamroot.peerAgents[c];!m.stats||R&&!m.isP2PEnabled||(T+=m.stats[u])}return T.length>0?T:void 0},_getStreamrootInstanceObject:function(u){let R="";return Streamroot.instances&&Streamroot.instances.forEach(function(T){T.stats&&T.stats.currentContent&&(R+=T.stats.currentContent[u])}),R.length>0?R:void 0}});K.exports=g},9474:K=>{var V=function(d){var g,u,R=(d=d||window).document,T=function(P){var G=!1;if(P.getBoundingClientRect){var D=P.getBoundingClientRect();(G={top:Math.max(D.top,0),left:Math.max(D.left,0),bottom:Math.min(D.bottom,d.innerHeight||R.documentElement.clientHeight),right:Math.min(D.right,d.innerWidth||R.documentElement.clientWidth)}).bottom<=G.top||G.right<=G.left?G=!1:G.area=(G.bottom-G.top)*(G.right-G.left)}return G},c=function(P,G){if(G){var D=T(P);D&&m.push({url:G,area:D.area,rect:D})}},m=[],h=[];try{var f=d.performance.timing.navigationStart;(function(){for(var P=R.getElementsByTagName("*"),G=/url\(.*(http.*)\)/gi,D=0;D<P.length;D++){var v=P[D],y=d.getComputedStyle(v);if(v.tagName==="IMG"&&c(v,v.src),y["background-image"]){G.lastIndex=0;var F=G.exec(y["background-image"]);F&&F.length>1&&c(v,F[1].replace('"',""))}if(v.tagName==="IFRAME")try{var b=T(v);if(b){var M=V(v.contentWindow);M&&m.push({tm:M,area:b.area,rect:b})}}catch(H){}}})(),function(){for(var P={},G=d.performance.getEntriesByType("resource"),D=0;D<G.length;D++)P[G[D].name]=G[D].responseEnd;for(var v=0;v<m.length;v++)"tm"in m[v]||(m[v].tm=P[m[v].url]!==void 0?P[m[v].url]:0)}(),function(){"msFirstPaint"in d.performance.timing&&(g=d.performance.timing.msFirstPaint-f);for(var P=d.performance.getEntriesByType("paint"),G=0;G<P.length;G++)P[G].name==="first-paint"&&(g=P[G].startTime);if(g===void 0||g<0||g>12e4){g=d.performance.timing.responseStart-f;for(var D={},v=R.getElementsByTagName("head")[0].children,y=0;y<v.length;y++){var F=v[y];F.tagName==="SCRIPT"&&F.src&&!F.async&&(D[F.src]=!0),F.tagName==="LINK"&&F.rel==="stylesheet"&&F.href&&(D[F.href]=!0)}for(var b=d.performance.getEntriesByType("resource"),M=!1,H=0;H<b.length;H++)if(M||!D[b[H].name]||b[H].initiatorType!=="script"&&b[H].initiatorType!=="link")M=!0;else{var s=b[H].responseEnd;(g===void 0||s>g)&&(g=s)}}g=Math.max(g,0)}(),function(){for(var P={0:0},G=0,D=0;D<m.length;D++){var v=g;"tm"in m[D]&&m[D].tm>g&&(v=m[D].tm),P[v]===void 0&&(P[v]=0),P[v]+=m[D].area,G+=m[D].area}var y=Math.max(R.documentElement.clientWidth,d.innerWidth||0)*Math.max(R.documentElement.clientHeight,d.innerHeight||0);if(y>0&&(y=.1*Math.max(y-G,0),P[g]===void 0&&(P[g]=0),P[g]+=y,G+=y),G){for(var F in P)P.hasOwnProperty(F)&&h.push({tm:F,area:P[F]});h.sort(function(H,s){return H.tm-s.tm});for(var b=0,M=0;M<h.length;M++)b+=h[M].area,h[M].progress=b/G}}(),function(){if(h.length){u=0;for(var P=0,G=0,D=0;D<h.length;D++){var v=h[D].tm-P;v>0&&G<1&&(u+=(1-G)*v),P=h[D].tm,G=h[D].progress}}else u=g}()}catch(P){}return u};K.exports=V},6014:(K,V,d)=>{var g=u,u={noConflict:function(){return u=g,this}};u.VERSION=d(9835),u.polyfills=d(4607),u.polyfills(),u.Object=d(3948),u.Emitter=d(1593);let{default:R}=d(7276);u.Log=R,u.Log.loadLevelFromUrl(),u.Util=d(2507),u.HybridNetwork=d(2995),u.Chrono=d(7680),u.Timer=d(4954),u.Constants=d(3782),u.Transform=d(2503),u.ResourceTransform=d(1151),u.CdnParser=d(3908),u.HlsParser=d(3168),u.DashParser=d(3831),u.LocationheaderParser=d(1657),u.Options=d(7061),u.Plugin=d(1527),u.Storage=d(470),u.RequestBuilder=d(2071),u.PlayheadMonitor=d(3381),u.Adapter=d(5292),u.adapters={},u.BackgroundDetector=d(9773),u.DeviceDetector=d(2635),u.UUIDGenerator=d(5804),u.registerAdapter=function(T,c){this.adapters[T]=c}.bind(u),u.unregisterAdapter=function(T){this.adapters[T]=null}.bind(u),K.exports=u},3948:(K,V,d)=>{var g=d(4173),u=d(9600),R=function(){};R.prototype={constructor:function(){}},R.extend=function(T,c){var m,h=this;return m=T&&T.hasOwnProperty("constructor")?T.constructor:function(){return h.apply(this,arguments)},g(m,h,c),m.prototype=u(h.prototype),T&&g(m.prototype,T),m.prototype.constructor=m,m.__super__=h.prototype,m},K.exports=R},3398:(K,V,d)=>{var g=d(3948);let{default:u}=d(7276),{AnalyticsTag:R}=d(2784);var T=g.extend({exists:function(c){return T.Dictionary.hasOwnProperty(c)},getNewName:function(c){var m=T.Dictionary[c];return u.warn(R,'The option "'+c+'" is deprecated, use "'+m+'" instead'),m}},{Dictionary:{httpSecure:"app.https",username:"user.name",anonymousUser:"user.anonymousId",obfuscateIp:"user.obfuscateIp",userType:"user.type","content.title2":"content.program","background.settings.iphone":"background.settings.iOS","parse.hls":"parse.manifest","parse.dash":"parse.manifest","parse.locationHeader":"parse.manifest","extraparam.1":"content.customDimension.1","extraparam.2":"content.customDimension.2","extraparam.3":"content.customDimension.3","extraparam.4":"content.customDimension.4","extraparam.5":"content.customDimension.5","extraparam.6":"content.customDimension.6","extraparam.7":"content.customDimension.7","extraparam.8":"content.customDimension.8","extraparam.9":"content.customDimension.9","extraparam.10":"content.customDimension.10","extraparam.11":"content.customDimension.11","extraparam.12":"content.customDimension.12","extraparam.13":"content.customDimension.13","extraparam.14":"content.customDimension.14","extraparam.15":"content.customDimension.15","extraparam.16":"content.customDimension.16","extraparam.17":"content.customDimension.17","extraparam.18":"content.customDimension.18","extraparam.19":"content.customDimension.19","extraparam.20":"content.customDimension.20","ad.extraparam.1":"ad.customDimension.1","ad.extraparam.2":"ad.customDimension.2","ad.extraparam.3":"ad.customDimension.3","ad.extraparam.4":"ad.customDimension.4","ad.extraparam.5":"ad.customDimension.5","ad.extraparam.6":"ad.customDimension.6","ad.extraparam.7":"ad.customDimension.7","ad.extraparam.8":"ad.customDimension.8","ad.extraparam.9":"ad.customDimension.9","ad.extraparam.10":"ad.customDimension.10"}});K.exports=T},3455:(K,V,d)=>{var g=d(3948),u=d(470),R=g.extend({constructor:function(){this.storage=new u("npawOffline",!0),this.actualView=null,this.viewList=[],this.givenIds=[],this._getOldViewList()},_newView:function(){var T=this._getValidId();this.storage.setLocal(T,""),this.viewList.push(T),this.storage.setLocal("views",this.viewList),this.actualView=T},addEvent:function(T,c){if(T==="/start"&&this._newView(),T==="/init"||!this.actualView)return null;var m='{"request":"'+T.slice(1)+'",';for(var h in m+='"unixtime":'+Date.now()+",",c){if(c[h]===void 0)break;m+='"'+h+'":',h==="code"?m+='"CODE_PLACEHOLDER",':h==="sessionId"?m+='"SESSION_PLACEHOLDER",':h==="sessionRoot"?m+='"ROOT_PLACEHOLDER",':typeof c[h]=="string"?m+='"'+c[h]+'",':typeof c[h]=="object"?m+='"'+JSON.stringify(c[h]).replace(/"/g,'\\"')+'",':m+=c[h]+","}m=m.slice(0,-1),m+="}";var f=this.storage.getLocal(this.actualView);f!==""&&(f+=","),this.storage.setLocal(this.actualView,f+m)},getView:function(){if(this.viewList.length>this.givenIds.length)for(var T=0;;){var c=this.viewList[T];if(this.givenIds.indexOf(c)<0)return this.givenIds.push(c),["["+this.storage.getLocal(c)+"]",c];T++}return[null,null]},removeView:function(T){this.storage.removeLocal(T);var c=this.viewList.indexOf(T);c!==-1&&this.viewList.splice(c,1),(c=this.givenIds.indexOf(T))!==-1&&this.givenIds.splice(c,1),this.storage.setLocal("views",this.viewList.toString()),T===this.actualView&&(this.actualView=null)},_getOldViewList:function(){var T="";this.storage.getLocal("views")?T=this.storage.getLocal("views"):this.storage.setLocal("views",""),T===""?this.viewList=[]:typeof T.split=="function"&&(this.viewList=T.split(","))},_getValidId:function(){var T=Math.floor(1e8*Math.random()).toString();return this.viewList.indexOf(T)>=0?this._getValidId():T},sent:function(){this.givenIds=[]}});K.exports=R},7061:(K,V,d)=>{let g=d(3948),u=d(3398),{default:R}=d(7276),T=d(7939),c=d(8472),m=d(9637),{AnalyticsTag:h}=d(2784);var f=g.extend({constructor:function(P){this.enabled=!0,this.authToken=void 0,this.authType="Bearer",this.preventZombieViews=!0,this.offline=!1,this.referer=void 0,this.referral=void 0,this.disableCookies=!0,this.forceCookies=!1,this.disableStorage=!1,this["user.email"]=void 0,this["user.type"]=void 0,this["user.name"]=void 0,this["user.obfuscateIp"]=!1,this["user.anonymousId"]=void 0,this["user.privacyProtocol"]=void 0,this["parse.manifest"]=!1,this["parse.manifest.auth"]={},this["parse.cdnNameHeader"]=["x-cdn-forward"],this["parse.cdnNodeHeader"]="",this["parse.cdnNode"]=!1,this["parse.cdnNode.list"]=["Akamai","Amazon","Cloudfront","Level3","Fastly","Highwinds","Telefonica","Edgecast","NosOtt"],this["parse.fdsResponseHost"]=void 0,this["parse.cdnSwitchHeader"]=!1,this["parse.cdnTTL"]=60,this["network.ip"]=void 0,this["network.isp"]=void 0,this["network.connectionType"]=void 0,this["device.id"]=void 0,this["device.code"]=void 0,this["device.model"]=void 0,this["device.brand"]=void 0,this["device.type"]=void 0,this["device.name"]=void 0,this["device.osName"]=void 0,this["device.osVersion"]=void 0,this["device.browserName"]=void 0,this["device.browserVersion"]=void 0,this["device.browserType"]=void 0,this["device.browserEngine"]=void 0,this["device.EDID"]=void 0,this["device.isAnonymous"]=!1,this["content.transactionCode"]=void 0,this["content.resource"]=void 0,this["content.isLive"]=void 0,this["content.isLive.noSeek"]=!1,this["content.isLive.noMonitor"]=!1,this["content.title"]=void 0,this["content.program"]=void 0,this["content.duration"]=void 0,this["content.fps"]=void 0,this["content.segmentDuration"]=void 0,this["content.bitrate"]=void 0,this["content.totalBytes"]=void 0,this["content.sendTotalBytes"]=!1,this["content.throughput"]=void 0,this["content.rendition"]=void 0,this["content.cdn"]=void 0,this["content.cdnNode"]=void 0,this["content.cdnType"]=void 0,this["content.metadata"]={},this["content.metrics"]={},this["content.streamingProtocol"]=void 0,this["content.transportFormat"]=void 0,this["content.package"]=void 0,this["content.saga"]=void 0,this["content.tvShow"]=void 0,this["content.season"]=void 0,this["content.episodeTitle"]=void 0,this["content.channel"]=void 0,this["content.id"]=void 0,this["content.imdbId"]=void 0,this["content.gracenoteId"]=void 0,this["content.type"]=void 0,this["content.genre"]=void 0,this["content.language"]=void 0,this["content.autodetect.language"]=!0,this["content.subtitles"]=void 0,this["content.autodetect.subtitles"]=!0,this["content.contractedResolution"]=void 0,this["content.cost"]=void 0,this["content.price"]=void 0,this["content.playbackType"]=void 0,this["content.drm"]=void 0,this["content.encoding.videoCodec"]=void 0,this["content.encoding.audioCodec"]=void 0,this["content.encoding.codecSettings"]=void 0,this["content.encoding.codecProfile"]=void 0,this["content.encoding.containerFormat"]=void 0,this["ad.metadata"]={},this["ad.campaign"]=void 0,this["ad.creativeId"]=void 0,this["ad.provider"]=void 0,this["ad.resource"]=void 0,this["ad.title"]=void 0,this["ad.duration"]=void 0,this["ad.expectedPattern"]=void 0,this["ad.givenAds"]=void 0,this["ad.breaksTime"]=void 0,this["ad.expectedBreaks"]=void 0,this["ad.givenBreaks"]=void 0,this["ad.ignore"]=!1,this["ad.blockerDetected"]=void 0,this["ad.postRollTimeout"]=1e3,this["app.name"]=void 0,this["app.releaseVersion"]=void 0,this["app.https"]=!0,this["background.enabled"]=!0,this["background.settings"]=void 0,this["background.settings.android"]="stop",this["background.settings.iOS"]="stop",this["background.settings.desktop"]=void 0,this["background.settings.tv"]="stop",this["background.settings.playstation"]="stop",this["smartswitch.configCode"]=void 0,this["smartswitch.groupCode"]=void 0,this["smartswitch.contractCode"]=void 0,this["content.customDimensions"]={},this["content.customDimension.1"]=void 0,this["content.customDimension.2"]=void 0,this["content.customDimension.3"]=void 0,this["content.customDimension.4"]=void 0,this["content.customDimension.5"]=void 0,this["content.customDimension.6"]=void 0,this["content.customDimension.7"]=void 0,this["content.customDimension.8"]=void 0,this["content.customDimension.9"]=void 0,this["content.customDimension.10"]=void 0,this["content.customDimension.11"]=void 0,this["content.customDimension.12"]=void 0,this["content.customDimension.13"]=void 0,this["content.customDimension.14"]=void 0,this["content.customDimension.15"]=void 0,this["content.customDimension.16"]=void 0,this["content.customDimension.17"]=void 0,this["content.customDimension.18"]=void 0,this["content.customDimension.19"]=void 0,this["content.customDimension.20"]=void 0,this["ad.customDimension.1"]=void 0,this["ad.customDimension.2"]=void 0,this["ad.customDimension.3"]=void 0,this["ad.customDimension.4"]=void 0,this["ad.customDimension.5"]=void 0,this["ad.customDimension.6"]=void 0,this["ad.customDimension.7"]=void 0,this["ad.customDimension.8"]=void 0,this["ad.customDimension.9"]=void 0,this["ad.customDimension.10"]=void 0,this.forceInit=!1,this["session.metrics"]={},this["session.context"]=!1,this["errors.fatal"]=[],this["errors.nonFatal"]=[],this["errors.ignore"]=[],this["pause.ignoreSmallEvents"]=!0,this["check.playerExists"]=!0,this["check.appAnalytics.autoBegin"]=!1,this["check.appAnalytics.enabled"]=!0,this["debug.playerLogs.enabled"]=!1,this["debug.pluginLogs.enabled"]=!1,this["check.videoAnalytics.enabled"]=!0,this["lma.refresh.configuration.enabled"]=!1,this["lma.refresh.configuration.seconds"]=300,this.linkedViewId=void 0,this.waitForMetadata=!1,this.pendingMetadata=[],this.method=m.GET,this["playhead.monitor"]=!0,this["readyState.monitor"]=!0,this["adapters.overwrite"]=!1,this["adapters.templates"]={},this["adapters.properties"]={},this.enableExtraMetricCollection=!1,this.renditionQueryInterval=250,this.enableLegacyBufferBehaviour=!1,this.setOptions(P)},setOptions:function(P,G){let D,v=!1;if(G===void 0&&(G=this,v=!0,D=new u),P!==void 0)for(var y in P){let F,b=!1;v&&(this.hasOwnProperty(y)||(D.exists(y)?(F=D.getNewName(y),b=!0):typeof P[y]!="function"&&R.warn(h,'The option "'+y+'" does not exist, so it cannot be set'))),typeof G[y]!="object"||G[y]===void 0||Array.isArray(G[y])||y!=="parse.cdnNode.list"?b?G[F]=P[y]:G[y]=P[y]:this.setOptions(P[y],G[y])}},setExtraParams:function(P){if(typeof P=="object"&&P.length){for(P.length>=20&&(P=P.slice(0,20));P.length<20;)P.push(void 0);P.forEach((G,D)=>{this["content.customDimension."+(D+1).toString()]=G})}},setCustomDimensions:function(){f.prototype.setExtraParams.apply(this,arguments)},setAdExtraParams:function(P){if(typeof P=="object"&&P.length){for(P.length>=10&&(P=P.slice(0,10));P.length<10;)P.push(void 0);P.forEach((G,D)=>{this["ad.customDimension."+(D+1).toString()]=G})}},setAdCustomDimensions:function(){f.prototype.setAdExtraParams.apply(this,arguments)},setEnableLegacyBufferBehaviour:function(){f.prototype.setEnableLegacyBufferBehaviour.apply(this,arguments)}},{StreamingProtocol:c,TransportFormat:T,RequestMethod:m});K.exports=f},1527:(K,V,d)=>{var g=d(1593),u=d(3782),R=d(2507);let{default:T}=d(7276);var c=d(5651);let{default:m}=d(6075);var h=d(7061),f=d(470),P=(d(3455),d(2071)),G=d(1151),D=d(2101),v=d(9773),y=d(2635),F=d(5804);let{default:b}=d(3555),{Method:M,AnalyticsTag:H}=d(2784),{default:s}=d(9065),{default:i}=d(61),{default:a}=d(1577);var S=g.extend({constructor:function(_,O,ae,he){if(S.instance)return O&&(T.notice(H,"Set Options for already existing instance"),S.instance.setOptions(O),S.instance.storage.updateStorageOptions(S.instance.options.disableCookies,S.instance.options.forceCookies,S.instance.options.disableStorage)),ae&&(T.notice(H,"Set Adapter for already existing instance"),S.instance.setAdapter(ae)),T.warn(H,"Only a single plugin instance can be created on npaw context"),S.instance;this.options=new h(O),this.storage=new f(null,this.options.disableCookies,this.options.forceCookies,this.options.disableStorage),this.utils=d(2507),this.uuidGenerator=new F,this.videos=new c(this),this.analyticsRequestHandler=new m(this),this.adapterTemplates={},this.appAnalytics=_,this.requestBuilder=new P,this.resourceTransform=new G(this),this.lastEventTime=null,this.browserLoadTimes=new D(this),this.deviceDetector=new y,this.backgroundDetector=new v(this),this.options["background.enabled"]&&this.backgroundDetector.startDetection(),ae&&this.setAdapter(ae),this._logInitPluginEvent(O),navigator&&navigator.userAgentData&&navigator.userAgentData.platform==="Windows"&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then(Ae=>{navigator.userAgentData.platform==="Windows"&&(this.majorPlatformVersion=parseInt(Ae.platformVersion.split(".")[0]))}),S.instance=this},addOnWillSendRequestListener(_){this.analyticsRequestHandler.onWillSendVideoRequestListeners.push(_)},removeOnWillSendRequestListener(_){this.analyticsRequestHandler.onWillSendVideoRequestListeners=this.analyticsRequestHandler.onWillSendVideoRequestListeners.filter(O=>O!==_)},destroy:function(){this.videos.removeAllAdapters(),this.videos.videos={}},_setAdapterTemplates:function(_){this.adapterTemplates=_},_receiveConfiguration:function(_){try{if(_.target.response.configurationOptions){var O=_.target.response.configurationOptions;this.options.setOptions(O,this.options),this.videos.updateAllOptions(O)}this.isRefreshLMAConfigurationEnabled()&&this.fastDataTransform&&this.fastDataTransform._createConfigurationInterval()}catch(ae){}},_reset:function(_){this.videos.resetVideo(_)},setOptions:function(_){if(this._logSetOptionsEvent(_),_){typeof _["parse.manifest"]=="boolean"&&_["parse.manifest"]&&(_.waitForMetadata=!0,_.pendingMetadata||(_.pendingMetadata=[]),_.pendingMetadata.push("parsedResource")),this.options.setOptions(_),this.storage.updateStorageOptions(this.options.disableCookies,this.options.forceCookies,this.options.disableStorage);for(let O of this.videos.getVideoKeys())this.setVideoOptions(_,O);typeof _["background.enabled"]=="boolean"&&(_["background.enabled"]?this.backgroundDetector.startDetection():this.backgroundDetector.stopDetection())}s.getInstance().registerCommonVariable(i.Products.VIDEO_ANALYTICS,i.AnalyticsVariables.METHOD_OPTION,a.methodFromString(_.method))},setVideoOptions:function(_,O){O=O||"default",_&&O&&this.videos.existsVideo(O)&&Object.keys(_).length>0&&this.videos.getVideo(O).setVideoOptions(_)},disable:function(){this.setOptions({enabled:!1})},enable:function(){this.setOptions({enabled:!0})},getPingTime:function(){return s.getInstance().getFastDataService().getPingTime()},_logInitPluginEvent:function(_){var O={logs:_,logAction:"initPlugin",logType:"pluginMethod"};this._sendPluginLogs(O,this.isMethodPostEnabled())},_logSetAdapterEvent:function(_){var O={adapter:_,logAction:"setAdapter",logType:"pluginMethod"};this._sendPluginLogs(O,this.isMethodPostEnabled())},_logSetOptionsEvent:function(_){var O={logs:_,logAction:"setOptions",logType:"pluginMethod"};this._sendPluginLogs(O,this.isMethodPostEnabled())},_logReceiveDataEvent:function(_){var O="";_.data&&_.data.target&&_.data.target.response&&_.data.target.response.msg&&(O=JSON.parse(_.data.target.response.msg));var ae={logs:O,logAction:"receiveData",logType:"internalMethod"};this._sendPluginLogs(ae,this.isMethodPostEnabled())},_sendPluginLogs:function(_,O){if(O=O||!1,this.isPluginLogsEnabled()&&(_&&_.logType&&_.logAction&&T.notice(H,"PluginLog "+_.logType+": Action "+_.logAction),this.analyticsRequestHandler&&(_=this.requestBuilder.buildParams(_,u.Service.VIDEO_PLUGIN_LOGS,this))!==null)){var ae=O?M.POST:M.GET;let he=new b(u.Service.VIDEO_PLUGIN_LOGS,_,"",ae);this.analyticsRequestHandler.sendRequest(he)}}},{Event:u.WillSendEvent});R.assign(S.prototype,d(9516)),R.assign(S.prototype,d(5901)),R.assign(S.prototype,d(1705)),R.assign(S.prototype,d(6083)),R.assign(S.prototype,d(6874)),S.instance=null,K.exports=S},9516:(K,V,d)=>{let{default:g}=d(7276);var u=d(5292),R=d(1516);let{default:T}=d(6933),{AnalyticsTag:c}=d(2784);var m={registerAdapter:function(h,f,P,G){if(!f)return void g.error(c,"Register Adapter needs an adapter to initialize");if(P=P||{},G=G||"default",this.videos.existsVideo(G))P=P||{},this.videos.getVideo(G).mergeOptions(P),this.setAdapter(new u(G,this.videos.getVideo(G),this,this.adapterTemplates,h,f),G);else{var D=new R(G,this,this.options,null,null);this.getNextViewIndex(D),P=P||{},D.setVideoOptions(P),this.videos.setVideo(D);var v=new u(G,D,this,this.adapterTemplates,h,f);this.setAdapter(v,G)}T.getInstance().registeredPlayer(!0);let y=P["content.resource"];!y&&this.videos.existsAdapter(G)&&(y=this.videos.getAdapter(G).getURLToParse(),y||(y=this.videos.getAdapter(G).getResource())),this.resourceTransform.init(y)},setAdapter:function(h,f){if(f=f||"default",this.browserLoadTimes&&this.browserLoadTimes.setPlayerSetupTime(),h.isSetAdapter())g.warn(c,"Adapters can only be added to a single plugin");else{var P=this.getAdapter(f);P&&(h.flags=P.flags,h.chronos=P.chronos,h.fireEventsStruct=P.fireEventsStruct),this.removeAdapter(f),this.videos.setAdapter(h,f)}},getAdapter:function(h){return h=h||"default",this.videos.getAdapter(h)},removeAdapter:function(h){h=h||"default",this.videos.existsVideo(h)&&this.videos.removeAdapter(this.contentAdapterListeners,h)},getNextViewIndex:function(h){h.nextView();let f=!0;for(;f;){let P=!1;for(let G of this.videos.getVideoKeys().filter(D=>D!==h.getVideoKey()))if(h.getViewCode()===this.videos.getVideo(G).getViewCode()){P=!0;break}P&&h.nextView(),f=P}}};K.exports=m},5901:(K,V,d)=>{var g=d(5292),u=d(1516);let{default:R}=d(6933);var T={registerAdsAdapter:function(c,m,h,f){if(m)if(f=f||"default",this.videos.existsVideo(f))this.videos.getVideo(f).mergeOptions(h),this.setAdsAdapter(new g(f,this.videos.getVideo(f),this,this.adapterTemplates,c,m),f);else{var P=new u(f,this,this.options,null,null);P.mergeOptions(h),this.videos.setVideo(P);var G=new g(f,P,this,this.adapterTemplates,c,m);this.setAdsAdapter(G,f)}else Log.error(AnalyticsTag,"Register Ads Adapter needs an adapter to initialize")},updateAdsAdapter:function(c,m){m=m||"default",c&&(videoObj=this.videos.getVideo(m),videoObj&&videoObj.getAdapter()&&(adsAdapter=videoObj.getAdapter().getAdapterClass(c),adsAdapter&&videoObj.setAdsAdapter(adsAdapter,this,!0)))},getAdsAdapter:function(c){return c=c||"default",this.videos.getVideo(c).getAdsAdapter()},setAdsAdapter:function(c,m){m=m||"default",this.videos.getVideo(m).setAdsAdapter(c,this),R.getInstance().registeredAdsPlayer(!0)},removeAdsAdapter:function(c){c=c||"default",this.videos.existsVideo(c)&&this.videos.getVideo(c).removeAdsAdapter()}};K.exports=T},1705:(K,V,d)=>{var g=d(9835),u=d(2507),R=d(9637);let{default:T}=d(9065),{default:c}=d(61);var m={getAccountCode:function(){return T.getInstance().getFastDataService().getAccountCode()},getUsername:function(h){return this._getGenericOptionsValue("user.name",h)},getPluginVersion:function(){return T.getPluginVersion()},getRequestNumber:function(){return Math.random()},getUserType:function(h){return this._getGenericOptionsValue("user.type",h)},getAnonymousUser:function(h){return this._getGenericOptionsValue("user.anonymousId",h)},getReferer:function(){let h=this.options.referer||"";return!h&&typeof window!="undefined"&&window.location&&(h=window.location.href),h},getReferral:function(){let h=this.options.referral||"";return h||typeof document=="undefined"||(h=document.referrer),h},getLanguage:function(){let h;return typeof navigator!="undefined"&&(h=navigator.language),h},getScreenResolution:function(){let h;try{if(window&&window.screen){let f=window.devicePixelRatio||1;h=window.screen.width*f+"x"+window.screen.height*f}}catch(f){}return h},getDeviceInfo:function(h){let f={};return this.getDeviceCode(h)&&(f.deviceCode=this.getDeviceCode(h)),this.getModel(h)&&(f.model=this.getModel(h)),this.getBrand(h)&&(f.brand=this.getBrand(h)),this.getDeviceType(h)&&(f.deviceType=this.getDeviceType(h)),this.getDeviceName(h)&&(f.deviceName=this.getDeviceName(h)),this.getOsName(h)&&(f.osName=this.getOsName(h)),this.getOsVersion(h)&&(f.osVersion=this.getOsVersion(h)),this.getBrowserName(h)&&(f.browserName=this.getBrowserName(h)),this.getBrowserVersion(h)&&(f.browserVersion=this.getBrowserVersion(h)),this.getBrowserType(h)&&(f.browserType=this.getBrowserType(h)),this.getBrowserEngine(h)&&(f.browserEngine=this.getBrowserEngine(h)),f!=={}?f:void 0},getDeviceCode:function(h){return this._getGenericOptionsValue("device.code",h)},getModel:function(h){return this._getGenericOptionsValue("device.model",h)},getBrand:function(h){return this._getGenericOptionsValue("device.brand",h)},getDeviceType:function(h){return this._getGenericOptionsValue("device.type",h)},getDeviceName:function(h){return this._getGenericOptionsValue("device.name",h)},getOsName:function(h){return this._getGenericOptionsValue("device.osName",h)},getOsVersion:function(h){let f=this._getGenericOptionsValue("device.osVersion",h);return f===void 0&&navigator&&navigator.userAgentData&&this.majorPlatformVersion&&navigator.userAgentData.platform==="Windows"&&this.majorPlatformVersion>=13&&(f="11"),f},getBrowserName:function(h){return this._getGenericOptionsValue("device.browserName",h)},getBrowserVersion:function(h){return this._getGenericOptionsValue("device.browserVersion",h)},getBrowserType:function(h){return this._getGenericOptionsValue("device.browserType",h)},getBrowserEngine:function(h){return this._getGenericOptionsValue("device.browserEngine",h)},getIsBlocked:function(h){return this._getGenericOptionsValue("ad.blockerDetected",h)},isMethodPostEnabled:function(){return this.options.method&&this.options.method.toUpperCase()===R.POST},getDeviceUUID:function(h){let f;return!h["device.isAnonymous"]&&h["device.id"]?h["device.id"]:(this.options["device.isAnonymous"]||(f=this.options["device.id"]||this.uuidGenerator.getKey()),f)},getLibVersion:function(){return g},getAppName:function(h){return this._getGenericOptionsValue("app.name",h)},getAppReleaseVersion:function(h){return this._getGenericOptionsValue("app.releaseVersion",h)},getIp:function(h){return this._getGenericOptionsValue("network.ip",h)},getIsp:function(h){return this._getGenericOptionsValue("network.isp",h)},getConnectionType:function(h){return this._getGenericOptionsValue("network.connectionType",h)},getEDID:function(h){let f=this._getGenericOptionsValue("device.EDID",h);return f?f.toString():void 0},getObfuscateIp:function(h){return this._getGenericOptionsValue("user.obfuscateIp",h)},getPrivacyProtocol:function(h){let f=this._getGenericOptionsValue("user.privacyProtocol",h);return typeof f=="string"&&(f=f.toLowerCase()),f==="optin"||f==="optout"?f:void 0},getCustomDimensions:function(h){let f=this._getGenericOptionsValue("content.customDimensions",h);return typeof f=="object"?f:void 0},getExtraparam1:function(h){return this._getGenericOptionsValue("content.customDimension.1",h)},getExtraparam2:function(h){return this._getGenericOptionsValue("content.customDimension.2",h)},getExtraparam3:function(h){return this._getGenericOptionsValue("content.customDimension.3",h)},getExtraparam4:function(h){return this._getGenericOptionsValue("content.customDimension.4",h)},getExtraparam5:function(h){return this._getGenericOptionsValue("content.customDimension.5",h)},getExtraparam6:function(h){return this._getGenericOptionsValue("content.customDimension.6",h)},getExtraparam7:function(h){return this._getGenericOptionsValue("content.customDimension.7",h)},getExtraparam8:function(h){return this._getGenericOptionsValue("content.customDimension.8",h)},getExtraparam9:function(h){return this._getGenericOptionsValue("content.customDimension.9",h)},getExtraparam10:function(h){return this._getGenericOptionsValue("content.customDimension.10",h)},getExtraparam11:function(h){return this._getGenericOptionsValue("content.customDimension.11",h)},getExtraparam12:function(h){return this._getGenericOptionsValue("content.customDimension.12",h)},getExtraparam13:function(h){return this._getGenericOptionsValue("content.customDimension.13",h)},getExtraparam14:function(h){return this._getGenericOptionsValue("content.customDimension.14",h)},getExtraparam15:function(h){return this._getGenericOptionsValue("content.customDimension.15",h)},getExtraparam16:function(h){return this._getGenericOptionsValue("content.customDimension.16",h)},getExtraparam17:function(h){return this._getGenericOptionsValue("content.customDimension.17",h)},getExtraparam18:function(h){return this._getGenericOptionsValue("content.customDimension.18",h)},getExtraparam19:function(h){return this._getGenericOptionsValue("content.customDimension.19",h)},getExtraparam20:function(h){return this._getGenericOptionsValue("content.customDimension.20",h)},isParseManifest:function(h){return this._getGenericOptionsValue("parse.manifest",h)},isParseCdnNode:function(h){return this._getGenericOptionsValue("parse.cdnNode",h)},isCdnSwitch:function(h){return this._getGenericOptionsValue("parse.cdnSwitchHeader",h)},getParseCdnNodeList:function(h){return this._getGenericOptionsValue("parse.cdnNode.list",h)},getParseCdnNodeNameHeader:function(h){return this._getGenericOptionsValue("parse.cdnNameHeader",h)},getParseNodeHeader:function(h){return this._getGenericOptionsValue("parse.cdnNodeHeader",h)},canOverwriteAdapters:function(h){return u.parseBoolean(this._getGenericOptionsValue("adapters.overwrite",h))},getAdaptersProperties:function(h){return this._getGenericOptionsValue("adapters.properties",h)},getNetworkConnectionType:function(){if(!this.options.enableExtraMetricCollection||!navigator||!navigator.connection)return;let h=navigator.connection.type;return["wimax"].includes(h)?void 0:h},getNetworkCellType:function(){if(this.options.enableExtraMetricCollection&&navigator&&navigator.connection)return this.getNetworkConnectionType()&&this.getNetworkConnectionType()!=="wifi"?navigator.connection.effectiveType:"none"},getNetworkSignalStrength:function(){},getCpuUsed:function(){},getMemoryUsed:function(){if(this.options.enableExtraMetricCollection&&performance&&performance.memory)return performance.memory.usedJSHeapSize/1024/1024},getCacheStorageUsed:function(){if(!this.options.enableExtraMetricCollection)return;let h=0;if(typeof localStorage!="undefined"&&localStorage)for(let f in localStorage)localStorage.hasOwnProperty(f)&&(h+=2*(localStorage[f].length+f.length));if(typeof sessionStorage!="undefined"&&sessionStorage)for(let f in sessionStorage)sessionStorage.hasOwnProperty(f)&&(h+=2*(sessionStorage[f].length+f.length));return h!=0?h:void 0},getTransferredTraffic:function(){if(this.options.enableExtraMetricCollection)return T.getInstance().getCommonVariable(c.Products.BALANCER,c.BalancerVariables.BALANCER_TRAFFIC)},getImprovedBandwidth:function(){if(this.options.enableExtraMetricCollection)return T.getInstance().getCommonVariable(c.Products.BALANCER,c.BalancerVariables.BALANCER_BITRATE)},isAppAnalyticsAutoBegin:function(h){return u.parseBoolean(this._getGenericOptionsValue("check.appAnalytics.autoBegin",h))},isAppAnalyticsEnabled:function(h){return u.parseBoolean(this._getGenericOptionsValue("check.appAnalytics.enabled",h))},isVideoAnalyticsEnabled:function(h){return u.parseBoolean(this._getGenericOptionsValue("check.videoAnalytics.enabled",h))},isRefreshLMAConfigurationEnabled:function(h){return u.parseBoolean(this._getGenericOptionsValue("lma.refresh.configuration.enabled",h))},isPluginLogsEnabled:function(h){return u.parseBoolean(this._getGenericOptionsValue("debug.pluginLogs.enabled",h))},isPlayerLogsEnabled:function(h){return u.parseBoolean(this._getGenericOptionsValue("debug.playerLogs.enabled",h))},refreshLMAConfigurationSeconds:function(h){return this._getGenericOptionsValue("lma.refresh.configuration.seconds",h)},getPlayheadMonitorEnabled:function(h){return this._getGenericOptionsValue("playhead.monitor",h)},getReadyStateMonitorEnabled:function(h){return this._getGenericOptionsValue("readyState.monitor",h)},getPageName:function(){return this.options["content.title"]},_getGenericOptionsValue:function(h,f){return f&&f[h]?f[h]:this.options[h]}};K.exports=m},6083:K=>{K.exports={fireInit:function(V,d,g){g=g||"default",this.videos.getVideo(g).fireInit(V,d)},fireError:function(V,d,g,u,R,T){T=T||"default",this.videos.getVideo(T).fireError(V,d,g,u,R)},fireFatalError:function(V,d,g,u,R,T){T=T||"default",this.videos.getVideo(T).fireFatalError(V,d,g,u,R)},fireStop:function(V,d,g){g=g||"default",this.videos.getVideo(g).fireStop(V,d)},fireOfflineEvents:function(V,d){d=d||"default",this.videos.getVideo(d).fireOfflineEvents(V)}}},6874:(K,V,d)=>{var g=d(2507);let{default:u}=d(9065);var R={getFastDataConfig:function(){return this.fastDataTransform.response.msg},getHost:function(){let T=u.getInstance().getOptions().getFastDataHost();return this.fastDataTransform&&this.fastDataTransform.response&&this.fastDataTransform.response.host&&(T=this.fastDataTransform.response.host),g.addProtocol(g.stripProtocol(T),this.options["app.https"])},getFastDataHost:function(){return g.addProtocol(g.stripProtocol(u.getInstance().getOptions().getFastDataHost()),this.options["app.https"])},getSession:function(){var T=u.getInstance().getCoreStorage().getStorages("session");if(T==="undefined"&&(T=void 0),!T){var c=this.getStoredData();if(c)try{T=JSON.parse(c).q.c}catch(m){}}return T},getStorageHost:function(){let T=null,c=this.getStoredData();if(c)try{T=JSON.parse(c).q.h}catch(m){}return T&&g.addProtocol(T,this.options["app.https"])},getStoredData:function(){return u.getInstance().getCoreStorage().getStorages("data")},getDataTime:function(){return u.getInstance().getCoreStorage().getStorages("dataTime")},setStoredData:function(T){this.storage.setStorages("data",T)},setSession:function(T){this.storage.setStorages("session",T)},setDataTime:function(T){this.storage.setStorages("dataTime",T)}};K.exports=R},2071:(K,V,d)=>{var g=d(3948);let{default:u}=d(7276),{AnalyticsTag:R}=d(2784);var T=["accountCode","username","anonymousUser","rendition","deviceInfo","player","title","title2","live","segmentDuration","mediaDuration","mediaResource","parsedResource","transactionCode","properties","cdn","profile","bucket","playerVersion","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","dimensions","playerStartupTime","obfuscateIp","privacyProtocol","p2pEnabled","pluginVersion","pluginInfo","isp","connectionType","ip","referer","userType","streamingProtocol","transportFormat","householdId","adsBlocked","adsExpected","deviceUUID","smartswitchConfigCode","smartswitchGroupCode","smartswitchContractCode","libVersion","nodeHost","nodeType","appName","appReleaseVersion","package","saga","tvshow","season","titleEpisode","channel","imdbID","gracenoteID","contentType","genre","contentLanguage","subtitles","cost","price","playbackType","email","drm","videoCodec","audioCodec","codecSettings","codecProfile","containerFormat","contentId","contractedResolution","linkedViewId","edid","cdnBalancerResponseUUID","accur_geo_location","network_type","network_cell_type","network_signal_strengh","cpu_used","mem_used","cache_used"],c=["player","playhead","adTitle","position","adDuration","adCampaign","adCreativeId","adProvider","adResource","adPlayerVersion","adProperties","adAdapterVersion","adInsertionType","extraparam1","extraparam2","extraparam3","extraparam4","extraparam5","extraparam6","extraparam7","extraparam8","extraparam9","extraparam10","fullscreen","audio","skippable","adNumber","adNumberInBreak","breakNumber"],m=g.extend({constructor:function(){this.lastSent={}},fetchParams:function(h,f,P,G,D){h=h||{},f=f||[];for(let v=0;v<f.length;v++){let y=f[v];if(h[y])continue;let F=m.getters[y],b=!1;for(let M in G)if(G[M]&&G[M][F]){let H=G[M][F](D);H===void 0||P&&this.lastSent[y]===H||(h[y]=H,this.lastSent[y]=H),b=!0;break}b||u.warn(R,"Trying to call undefined getter "+y+":"+F)}return h},getGetters:function(){return m.getters},getRequiredMetadataParams:function(){return["live","rendition"]},buildBody:function(h,f){return this.fetchParams(void 0,m.bodyParams[h],!1,f)},buildParams:function(h,f,P,G){return h=h||{},this.fetchParams(h,m.params[f],!1,P,G),this.fetchParams(h,m.differentParams[f],!0,P,G),h},getChangedEntities:function(h){return this.fetchParams({},m.differentParams.entities,!0,h)}},{params:{"/data":["system","pluginVersion","requestNumber","username"],"/adapters":["system","pluginVersion","requestNumber"],"/configuration":["system","pluginVersion","requestNumber","appName","appReleaseVersion"],"/infinity/session/pluginLogs":["logAction","logType"],"/infinity/video/pluginLogs":["logAction","logType"],"/init":T,"/start":T,"/joinTime":["joinDuration","playhead","bitrate"],"/pause":["playhead","accountCode","pluginVersion"],"/resume":["pauseDuration","playhead","accountCode","pluginVersion"],"/seek":["seekDuration","playhead","accountCode","pluginVersion"],"/bufferUnderrun":["bufferDuration","playhead","accountCode","pluginVersion"],"/error":["player","playhead"].concat(T),"/stop":["accur_geo_location","bitrate","totalBytes","playhead","pauseDuration","metrics","cdnDownloadedTraffic","multiCdnInfo","p2pDownloadedTraffic","uploadTraffic","profile","bucket","accountCode","pluginVersion"],"/infinity/video/event":[],"/adInit":c,"/adStart":c,"/adJoin":["playhead","position","adJoinDuration","adPlayhead","adNumber","adNumberInBreak","breakNumber"],"/adPause":["playhead","position","adPlayhead","adNumber","adNumberInBreak","breakNumber"],"/adResume":["playhead","position","adPlayhead","adPauseDuration","adNumber","adNumberInBreak","breakNumber"],"/adBufferUnderrun":["playhead","position","adPlayhead","adBufferDuration","adNumber","adNumberInBreak","breakNumber"],"/adStop":["playhead","position","adPlayhead","adTotalDuration","adViewedDuration","adViewability","adNumber","adNumberInBreak","breakNumber"],"/adClick":["playhead","position","adPlayhead","adNumber","adNumberInBreak","breakNumber"],"/adError":["adPlayhead"].concat(c),"/adManifest":["givenBreaks","expectedBreaks","expectedPattern","breaksTime"],"/adBreakStart":["position","givenAds","expectedAds","breakNumber","adInsertionType"],"/adBreakStop":["position","breakNumber"],"/adQuartile":["position","adViewedDuration","adViewability","adNumber","adNumberInBreak","breakNumber"],"/ping":["real_traffic","improved_bandwidth_estimation","network_type","network_cell_type","network_signal_strengh","cpu_used","mem_used","cache_used","accountCode","pluginVersion","droppedFrames","playrate","cdnDownloadedTraffic","multiCdnInfo","p2pDownloadedTraffic","uploadTraffic","latency","packetLoss","packetSent","metrics","totalBytes","segmentDuration"],"/infinity/session/start":["accountCode","username","userType","anonymousUser","route","page","referer","referral","screenResolution","language","deviceInfo","adsBlocked","deviceUUID","libVersion","appName","appReleaseVersion","isp","connectionType","ip","obfuscateIp","privacyProtocol","dimensions","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","edid"],"/infinity/session/stop":["sessionMetrics"],"/infinity/session/nav":["route","page","scrollDepth"],"/infinity/session/beat":["sessionMetrics"],"/infinity/session/event":["accountCode"],"/offlineEvents":{}},bodyParams:{"/offlineEvents":["viewJson"]},differentParams:{entities:["pluginInfo","rendition","title","title2","param1","param2","param3","param4","param5","param6","param7","param8","param9","param10","param11","param12","param13","param14","param15","param16","param17","param18","param19","param20","cdn","nodeHost","nodeType","nodeTypeString","subtitles","contentLanguage","contentId","accur_geo_location"]},getters:{requestNumber:"getRequestNumber",playhead:"getPlayhead",playrate:"getPlayrate",fps:"getFramesPerSecond",segmentDuration:"getSegmentDuration",droppedFrames:"getDroppedFrames",mediaDuration:"getDuration",bitrate:"getBitrate",totalBytes:"getTotalBytes",throughput:"getThroughput",rendition:"getRendition",title:"getTitle",title2:"getTitle2",live:"getIsLive",mediaResource:"getResource",parsedResource:"getParsedResource",transactionCode:"getTransactionCode",properties:"getMetadata",playerVersion:"getPlayerVersion",player:"getPlayerName",cdn:"getCdn",profile:"getProfileName",bucket:"getBucketName",pluginVersion:"getPluginVersion",libVersion:"getLibVersion",userType:"getUserType",streamingProtocol:"getStreamingProtocol",transportFormat:"getTransportFormat",obfuscateIp:"getObfuscateIp",privacyProtocol:"getPrivacyProtocol",householdId:"getHouseholdId",latency:"getLatency",packetLoss:"getPacketLoss",packetSent:"getPacketSent",metrics:"getVideoMetrics",dimensions:"getCustomDimensions",accur_geo_location:"getAccurateGeoLocation",network_type:"getNetworkConnectionType",network_cell_type:"getNetworkCellType",network_signal_strengh:"getNetworkSignalStrength",cpu_used:"getCpuUsed",mem_used:"getMemoryUsed",cache_used:"getCacheStorageUsed",real_traffic:"getTransferredTraffic",improved_bandwidth_estimation:"getImprovedBandwidth",param1:"getExtraparam1",param2:"getExtraparam2",param3:"getExtraparam3",param4:"getExtraparam4",param5:"getExtraparam5",param6:"getExtraparam6",param7:"getExtraparam7",param8:"getExtraparam8",param9:"getExtraparam9",param10:"getExtraparam10",param11:"getExtraparam11",param12:"getExtraparam12",param13:"getExtraparam13",param14:"getExtraparam14",param15:"getExtraparam15",param16:"getExtraparam16",param17:"getExtraparam17",param18:"getExtraparam18",param19:"getExtraparam19",param20:"getExtraparam20",extraparam1:"getAdExtraparam1",extraparam2:"getAdExtraparam2",extraparam3:"getAdExtraparam3",extraparam4:"getAdExtraparam4",extraparam5:"getAdExtraparam5",extraparam6:"getAdExtraparam6",extraparam7:"getAdExtraparam7",extraparam8:"getAdExtraparam8",extraparam9:"getAdExtraparam9",extraparam10:"getAdExtraparam10",position:"getAdPosition",adNumber:"getAdNumber",adNumberInBreak:"getAdNumberInBreak",breakNumber:"getBreakNumber",adPlayhead:"getAdPlayhead",adDuration:"getAdDuration",adCampaign:"getAdCampaign",adCreativeId:"getAdCreativeId",adBitrate:"getAdBitrate",adTitle:"getAdTitle",adResource:"getAdResource",adPlayerVersion:"getAdPlayerVersion",adProperties:"getAdMetadata",adAdapterVersion:"getAdAdapterVersion",givenBreaks:"getGivenBreaks",expectedBreaks:"getExpectedBreaks",expectedPattern:"getExpectedPattern",breaksTime:"getBreaksTime",givenAds:"getGivenAds",expectedAds:"getExpectedAds",adsExpected:"getAdsExpected",adViewedDuration:"getAdViewedDuration",adViewability:"getAdViewability",fullscreen:"getIsFullscreen",audio:"getAudioEnabled",skippable:"getIsSkippable",adProvider:"getAdProvider",adInsertionType:"getAdInsertionType",pluginInfo:"getPluginInfo",isp:"getIsp",connectionType:"getConnectionType",ip:"getIp",deviceInfo:"getDeviceInfo",edid:"getEDID",system:"getAccountCode",accountCode:"getAccountCode",username:"getUsername",anonymousUser:"getAnonymousUser",joinDuration:"getJoinDuration",bufferDuration:"getBufferDuration",seekDuration:"getSeekDuration",pauseDuration:"getPauseDuration",adJoinDuration:"getAdJoinDuration",adBufferDuration:"getAdBufferDuration",adPauseDuration:"getAdPauseDuration",adTotalDuration:"getAdTotalDuration",referer:"getReferer",referral:"getReferral",language:"getLanguage",screenResolution:"getScreenResolution",nodeHost:"getNodeHost",nodeType:"getNodeType",nodeTypeString:"getNodeTypeString",route:"getReferer",page:"getPageName",playerStartupTime:"getPlayerStartupTime",pageLoadTime:"getPageLoadTime",cdnDownloadedTraffic:"getCdnTraffic",multiCdnInfo:"getMultiCdnInfo",p2pDownloadedTraffic:"getP2PTraffic",p2pEnabled:"getIsP2PEnabled",uploadTraffic:"getUploadTraffic",cdnBalancerResponseUUID:"getBalancerResponseId",viewJson:"getOfflineView",deviceUUID:"getDeviceUUID",sessionMetrics:"getSessionMetrics",scrollDepth:"getScrollDepth",adsBlocked:"getIsBlocked",linkedViewId:"getLinkedViewId",smartswitchConfigCode:"getSmartswitchConfigCode",smartswitchGroupCode:"getSmartswitchGroupCode",smartswitchContractCode:"getSmartswitchContractCode",appName:"getAppName",appReleaseVersion:"getAppReleaseVersion",package:"getPackage",saga:"getSaga",tvshow:"getTvShow",season:"getSeason",titleEpisode:"getEpisodeTitle",channel:"getChannel",drm:"getDRM",videoCodec:"getVideoCodec",audioCodec:"getAudioCodec",codecSettings:"getCodecSettings",codecProfile:"getCodecProfile",containerFormat:"getContainerFormat",contentId:"getID",imdbID:"getImdbId",gracenoteID:"getGracenoteID",contentType:"getType",genre:"getGenre",contentLanguage:"getVideoLanguage",subtitles:"getSubtitles",contractedResolution:"getContractedResolution",cost:"getCost",price:"getPrice",playbackType:"getPlaybackType",email:"getEmail"}});K.exports=m},470:(K,V,d)=>{var g=d(3948);let{default:u}=d(7276),{AnalyticsTag:R}=d(2784);var T=g.extend({constructor:function(c,m,h,f){this.prefix=c||"npaw",this.disableCookies=m,this.forceCookies=h,this.disabled=f},updateStorageOptions:function(c,m,h){this.disableCookies=c,this.forceCookies=m,this.disabled=h},isEnabled:function(){if(this.disabled)return!1;var c=!0;if(!this.forceCookies)try{localStorage.setItem(this.prefix+".test","true"),localStorage.removeItem(this.prefix+".test")}catch(m){c=!1}return c},setLocal:function(c,m){if(this.disabled)return null;var h=null;try{!this.forceCookies&&(typeof localStorage!="undefined"&&localStorage||this.disableCookies)?typeof localStorage!="undefined"&&localStorage&&(h=localStorage.setItem(this.prefix+"."+c,m)):h=this._setCookie(this.prefix+".local."+c,m)}catch(f){u.error(R,"Npaw App Analytics needs localStorage or cookies, not supported by your browser.")}return h},getLocal:function(c){return this.disabled?null:this._localGetRemove("getItem","_getCookie",c)},removeLocal:function(c){return this.disabled?null:this._localGetRemove("removeItem","_removeCookie",c)},_localGetRemove:function(c,m,h){var f=null;try{!this.forceCookies&&(typeof localStorage!="undefined"&&localStorage||this.disableCookies)?typeof localStorage!="undefined"&&localStorage&&(f=localStorage[c](this.prefix+"."+h)):f=this[m](this.prefix+".local."+h)}catch(P){u.error(R,"Npaw App Analytics needs localStorage or cookies, not supported by your browser.")}return f},setSession:function(c,m){if(this.disabled)return null;var h=null;try{h=!this.forceCookies&&(typeof sessionStorage!="undefined"&&sessionStorage||this.disableCookies)?sessionStorage.setItem(this.prefix+"."+c,m):this._setCookie(this.prefix+".session."+c,m)}catch(f){u.error(R,"Npaw App Analytics needs sessionStorage or cookies, not supported by your browser.")}return h},getSession:function(c){return this.disabled?null:this._sessionGetRemove("getItem","_getCookie",c)},removeSession:function(c){return this.disabled?null:this._sessionGetRemove("removeItem","_removeCookie",c)},_sessionGetRemove:function(c,m,h){var f=null;try{f=!this.forceCookies&&(typeof sessionStorage!="undefined"&&sessionStorage||this.disableCookies)?sessionStorage[c](this.prefix+"."+h):this[m](this.prefix+".session."+h)}catch(P){u.error(R,"Npaw App Analytics needs sessionStorage or cookies, not supported by your browser.")}return f},getStorages:function(c){return this.disabled?null:this.getSession(c)||this.getLocal(c)},setStorages:function(c,m){if(this.disabled)return null;this.setSession(c,m),this.setLocal(c,m)},removeStorages:function(c){if(this.disabled)return null;this.removeSession(c),this.removeLocal(c)},_setCookie:function(c,m){if(typeof document!="undefined"){var h=";";typeof location!="undefined"&&(h+="domain="+location.host.split(".").reverse().splice(0,2).reverse().join(".")+";path=/;"),document.cookie=c+"="+m+h}},_getCookie:function(c){if(typeof document!="undefined")for(var m=c+"=",h=decodeURIComponent(document.cookie).split(";"),f=0;f<h.length;f++){for(var P=h[f];P.charAt(0)===" ";)P=P.substring(1);if(P.indexOf(m)===0)return P.substring(m.length,P.length)}return null},_removeCookie:function(c){this._setCookie(c,"")}});K.exports=T},4607:K=>{K.exports=function(){Function.prototype.bind=Function.prototype.bind||function(V){var d=Array.prototype.slice,g=this,u=d.call(arguments,1);function R(){var T=g.prototype&&this instanceof g;return g.apply(!T&&V||this,u.concat(d.call(arguments)))}return R.prototype=g.prototype,R},Array.prototype.forEach=Array.prototype.forEach||function(V,d){if(typeof V!="function")throw new TypeError(V+" is not a function!");for(var g=this.length,u=0;u<g;u++)V.call(d,this[u],u,this)},Math.trunc=Math.trunc||function(V){return isNaN(V)?NaN:V>0?Math.floor(V):Math.ceil(V)}}},4954:(K,V,d)=>{var g=d(3948),u=d(7680),R=g.extend({constructor:function(T,c){this.callback=T,this.interval=c||5e3,this.isRunning=!1,this._timer=null,this.chrono=new u},start:function(){this.isRunning||(this.isRunning=!0,this._setTick())},stop:function(){if(this.isRunning=!1,this._timer)try{clearTimeout(this._timer),this._timer=null}catch(T){typeof atv!="undefined"&&(atv.clearTimeout(this._timer),this._timer=null)}},_setTick:function(){if(this.isRunning){this.chrono.start();try{this._timer=setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval)}catch(T){typeof atv!="undefined"&&(this._timer=atv.setTimeout(function(){this.callback(this.chrono.stop()),this._setTick()}.bind(this),this.interval))}}}});K.exports=R},2507:(K,V,d)=>{let{default:g,LogLevel:u}=d(7276),{AnalyticsTag:R}=d(2784);var T={stripProtocol:function(c){var m=c;try{m=c.replace(/^(.*?:\/\/|\/\/)/i,"")}catch(h){g.warn(R,h)}return m},parseBoolean:function(c){return typeof c=="string"||c instanceof String?c.toLowerCase()==="true":!!c},elementIsInPage:function(c){try{return c!==document.body&&document.body.contains(c)}catch(m){g.warn(R,m)}return!0},addProtocol:function(c,m){var h="http://localhost/";try{h="http://"+c,m||typeof window!="undefined"&&window.location.protocol.indexOf("https")===0?h="https://"+c:typeof window!="undefined"&&window.location.protocol.indexOf("http")===0&&(h="//"+c)}catch(f){g.warn(R,f)}return h},parseNumber:function(c,m){return!isNaN(c)&&c>=0&&c!==1/0&&c!==-1/0&&c!=null?c:m},logAllEvents:function(c,m,h){try{if(g.logLevel<=u.DEBUG){h=h||function(G){g.debug(R,"Event: "+G.type)};var f=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart"];m&&(m[0]===null?(m.shift(),f=m):f=f.concat(m));for(var P=0;P<f.length;P++)typeof c=="function"?c.call(window,f[P],h):c.on?c.on(f[P],h):c.addEventListener&&c.addEventListener(f[P],h)}}catch(G){g.error(R,G)}},buildRenditionString:function(c,m,h){arguments.length===1&&(h=c,c=null,m=null);var f=null;return c&&m&&(f=c+"x"+m),typeof h=="number"&&!isNaN(h)&&h>=1&&(f?f+="@":f="",f+=h<1e3?Math.round(h)+"bps":h<1e6?(h=Math.round(h/1e3))+"Kbps":(h=Math.round(h/1e4)/100)+"Mbps"),f},buildErrorParams:function(c,m,h){var f={};return typeof c=="object"&&c!==null?f=c:(f.errorCode=c||"FAILURE",f.msg=m||f.errorCode,f.errorMetadata=h),f},calculateAdViewability:function(c,m){var h=!0;if(typeof window!="undefined"&&c&&typeof c.getBoundingClientRect=="function"){var f=c.getBoundingClientRect();if(f.top>=window.innerHeight||f.bottom<=0||f.right<=0||f.left>=window.innerWidth)h=!1;else{var P=Math.trunc(f.height*f.width),G=f.top>0?f.top:0,D=f.bottom>window.innerHeight?window.innerHeight:f.bottom,v=f.left>0?f.left:0;h=((f.right>window.innerWidth?window.innerWidth:f.right)-v)*(D-G)*100>P*(m||50)}}return h},getMetricsFrom:function(c,m){var h=c||m;for(var f in h)if(typeof h[f]!="object"||!h[f].value){var P={};P.value=h[f],h[f]=P}return h},assign:d(4173),isArray:d(2467)};K.exports=T},9835:(K,V,d)=>{let g="7.2.34"+(d(9907).env.NWF||"");K.exports=g},1516:(K,V,d)=>{var g=d(1593),u=d(7680),R=d(7061);let{default:T}=d(7276);var c=d(3782),m=d(2507);let{default:h}=d(1577);var f=d(5292),P=d(2071),G=d(2995),D=d(6424);let{default:v}=d(6933),{default:y}=d(9065),{default:F}=d(3555),{default:b}=d(61),{Method:M,AnalyticsTag:H}=d(2784);var s=g.extend({constructor:function(i,a,S,_){this._key=i,this.plugin=a,this.isInitiated=!1,this.isAdsManifestSent=!1,this.playedPostrolls=0,this.isBreakStarted=!1,this.initChrono=new u,this.options=new R(S),this._adNumber=0,this._adNumberInBreak=0,this.requestBuilder=new P,this.hybridNetwork=new G,this.resizeScrollDetector=new D(a,this),this._adapter=null,this._adsAdapter=null,_&&this.setAdapter(_,a),this._pluginLogsQueue=[],this.lastEventTime=null,this.lastKnownLocation=void 0,this.isFetchingLocation=!1,this.sendingPings=!1,this._startPings()},mergeOptions:function(i){i&&this.options.setOptions(i,this.options)},setVideoOptions:function(i){i&&this.options.setOptions(i)},getVideoKey:function(){return this._key},nextView:function(){return this._viewIndex=new Date().getTime(),this._viewCode=y.getInstance().getFastDataSessionToken(),y.getInstance().registerCommonVariable(b.Products.VIDEO_ANALYTICS,b.AnalyticsVariables.VIEW_CODE,this._viewIndex),this.getViewCode()},getViewCode:function(){let i=y.getInstance().getFastDataSessionToken();return i.length===0||this._viewCode&&this._viewCode===i||(this._viewCode=i),this._viewCode+(this._viewIndex?`_${this._viewIndex}`:"")},setAdapter:function(i,a){for(var S in this.plugin=a,this._adapter=i,this._adapter.setIsAds(!1),this._adapter._setAdapter=!0,this.contentAdapterListeners={},this.contentAdapterListeners[f.Event.START]=this._startListener.bind(this),this.contentAdapterListeners[f.Event.JOIN]=this._joinListener.bind(this),this.contentAdapterListeners[f.Event.DATA_OBJECT]=this._advancedDataListener.bind(this),this.contentAdapterListeners[f.Event.PAUSE]=this._pauseListener.bind(this),this.contentAdapterListeners[f.Event.RESUME]=this._resumeListener.bind(this),this.contentAdapterListeners[f.Event.SEEK_BEGIN]=this._seekBufferBeginListener.bind(this),this.contentAdapterListeners[f.Event.SEEK_END]=this._seekEndListener.bind(this),this.contentAdapterListeners[f.Event.BUFFER_BEGIN]=this._seekBufferBeginListener.bind(this),this.contentAdapterListeners[f.Event.BUFFER_END]=this._bufferEndListener.bind(this),this.contentAdapterListeners[f.Event.ERROR]=this._errorListener.bind(this),this.contentAdapterListeners[f.Event.STOP]=this._stopListener.bind(this),this.contentAdapterListeners[f.Event.VIDEO_EVENT]=this._videoEventListener.bind(this),this.contentAdapterListeners)this._adapter.on(S,this.contentAdapterListeners[S]);this.options.enableExtraMetricCollection&&this.shouldStartRenditionTimer()},getAdapter:function(){return this._adapter},removeAdapter:function(){try{if(this._adapter){if(this._adapter.dispose(),this.contentAdapterListeners){for(var i in this.contentAdapterListeners)this._adapter.off(i,this.contentAdapterListeners[i]);delete this.contentAdapterListeners}this._adapter=null}}catch(a){T.error(H,"Is not possible to remove adapter for video: "+this._key)}},getAdsAdapter:function(){return this._adsAdapter},fetchLocation:function(){if(this.isFetchingLocation=!0,navigator&&navigator.geolocation){let i={enableHighAccuracy:!0,timeout:1e4};this.lastKnownLocation=void 0,navigator.geolocation.getCurrentPosition(a=>{this.lastKnownLocation={latitude:a.coords.latitude,longitude:a.coords.longitude},this.isFetchingLocation=!1},a=>{this.isFetchingLocation=!1},i)}else this.lastKnownLocation=void 0,this.isFetchingLocation=!1},shouldStartRenditionTimer:function(){if(!this._adapter.getAdapterClass("detectQualityChange")&&!this.renditionInterval){let i=this.options.renditionQueryInterval<100?100:this.options.renditionQueryInterval;this.renditionInterval=setInterval(()=>{let a=this._adapter.getRendition();a&&this.triggerUpdateRendition(a)},i||250)}},triggerUpdateRendition:function(i){this.lastObservedRendition?this.lastObservedRendition!=i&&(this.lastObservedRendition=i):this.lastObservedRendition=i},fireInit:function(i,a){this.isInitiated||(!this.getAdapter()||this.getAdapter()&&!this.getAdapter().flags.isStarted)&&(this._viewIndex||this.plugin.getNextViewIndex(this),this._startPings(),this.initChrono.start(),this.isInitiated=!0,i=i||{},a&&(i.triggeredEvents=[a]),this._send(c.WillSendEvent.WILL_SEND_INIT,c.Service.INIT,i),this._adSavedError(),this._adSavedManifest(),T.notice(H,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+c.Service.INIT+", title/res: "+(i.title||i.mediaResource)+(i.triggeredEvents?", eventsTriggered: "+i.triggeredEvents:"")))},fireError:function(i,a,S,_,O,ae){this.fireInit();var he=m.buildErrorParams(i,a,S);he.code&&delete he.code,O&&(he.triggeredEvents=[O]);try{(ae=ae||!1)&&this._adapter&&this._adapter.flags&&this._adapter.flags.isJoined&&((he=he||{}).errorType="fatal")}catch(Ae){}this._send(c.WillSendEvent.WILL_SEND_ERROR,c.Service.ERROR,he),this._adSavedError(),this._adSavedManifest(),T.notice(H,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+c.Service.ERROR+", errorType: "+he.errorType+", errorCode: "+he.errorCode+(he.triggeredEvents?", eventsTriggered: "+he.triggeredEvents:"")),he.errorType==="fatal"&&this.fireStop()},fireFatalError:function(i,a,S,_,O){this.fireError(i,a,S,_,O,!0)},fireStop:function(i,a){if(this.isInitiated||this.isStarted){this._adapter&&(this._adapter.flags.isStopped=!0,this._adapter.monitor&&this._adapter.monitor.stop()),this._adsAdapter&&this.isBreakStarted&&(this._adsAdapter.fireStop(),this._adsAdapter.fireAdBreakStop()),i=i||{},a&&(i.triggeredEvents=[a]),v.getInstance().setTriedSendingNQSStats(!0),this._send(c.WillSendEvent.WILL_SEND_STOP,c.Service.STOP,i,void 0,void 0,()=>{v.getInstance().addNQSRequest(c.Service.STOP)});var S=this._adapter?this._adapter.chronos:null;S&&(S.total.stop(),S.join.reset(),S.pause.reset(),S.buffer.reset(),S.seek.reset()),this.lastKnownLocation=void 0,this.observedRenditions=[],this.renditionInterval&&(clearInterval(this.renditionInterval),this.renditionInterval=void 0),T.notice(H,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+c.Service.STOP+" at "+i.playhead+"s"+(i.triggeredEvents?", eventsTriggered: "+i.triggeredEvents:"")),this._reset()}},fireOfflineEvents:function(i){this.options&&!this.options.offline?this.isInitiated||this._adapter&&this._adapter.flags.isStarted||this._adsAdapter&&this._adsAdapter.flags.isStarted?T.error(H,"Adapters have to be stopped"):(this._offlineParams=i,y.getInstance().getFastDataService().getAccountCode()&&y.getInstance().getFastDataSessionToken()?this._generateAndSendOffline():this.offlineReference=this._generateAndSendOffline.bind(this)):T.error(H,"To send offline events, offline option must be disabled")},_generateAndSendOffline:function(){if(this.options.disableStorage)return null;let i=this._offlineParams;for(;;){var a=this.requestBuilder.buildBody(c.Service.OFFLINE_EVENTS,[this,this.plugin]).viewJson;if(a[0]===null)break;var S=this.plugin.getNextViewIndex(this),_=a[0].replace(/CODE_PLACEHOLDER/g,S.toString()).replace(/,"sessionId":"SESSION_PLACEHOLDER"/g,"").replace(/,"sessionRoot":"ROOT_PLACEHOLDER"/g,"");this._send(c.WillSendEvent.WILL_SEND_OFFLINE_EVENTS,c.Service.OFFLINE_EVENTS,i,_,"POST",function(O,ae){this.plugin.offlineStorage.removeView(ae.offlineId)}.bind(this),{offlineId:a[1]})}this.plugin.offlineStorage.sent(),this._offlineParams=null},_reset:function(){try{this._stopPings(),this._adapter&&this._adapter.flags.reset(),this._viewIndex=void 0,this.isInitiated=!1,this.isStarted=!1,this.startDelayed=!1,this.isAdsManifestSent=!1,this.initChrono.reset(),this._totalPrerollsTime=0,this.requestBuilder.lastSent.breakNumber=0,this.requestBuilder.lastSent.adNumber=0,this._savedAdManifest=null,this._savedAdError=null,this.playedPostrolls=0,this.isBreakStarted=!1,this._adNumber=0,this._adNumberInBreak=0}catch(i){}},_send:function(i,a,S,_,O,ae,he){let Ae=h.methodFromString(O),ye=new Date().getTime();this.options.preventZombieViews&&this.lastEventTime&&ye>this.lastEventTime+6e5&&this.plugin.getNextViewIndex(this),this.lastEventTime=a===c.Service.STOP?null:ye;let we=new F(a,S,this.getVideoKey(),Ae,void 0,ae);this.plugin.resourceTransform.parse(we),S=this.requestBuilder.buildParams(S,a,[this,this.plugin],this.options),this.getIsLive()===!0&&(S.mediaDuration=this.options["content.duration"],S.playhead=void 0),we.setParams(S),_&&we.setBody(_),we.setMethod(Ae),this.plugin.isMethodPostEnabled()&&we.setMethod(M.POST);let xe={params:we.getParams(),plugin:this,adapter:this.getAdapter(),adsAdapter:this.getAdsAdapter()};this.emit(i,xe),this.plugin.analyticsRequestHandler&&(S!==null||O!==void 0)&&this.options.enabled&&(this.plugin.lastServiceSent=a,this.plugin.analyticsRequestHandler.sendRequest(we))},firePlayerLog:function(i){try{if(this.plugin.isPlayerLogsEnabled())if(this._adapter&&!this._adapter.isStarted())i.timemark=new Date().getTime(),this._pluginLogsQueue.push(i);else{for(;this._pluginLogsQueue.length>0;){var a=this._pluginLogsQueue.shift();this._sendPlayerLog(a)}this._sendPlayerLog(i)}}catch(S){}},_sendPlayerLog:function(i){try{i&&i.logType&&i.logAction&&T.notice(H,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") PlayerLog "+i.logType+": Action "+i.logAction),this.plugin._comm&&i&&(i=this.requestBuilder.buildParams(i,c.Service.VIDEO_PLUGIN_LOGS,this,this.options))!==null&&this._send(null,c.Service.VIDEO_PLUGIN_LOGS,i)}catch(a){}}});m.assign(s.prototype,d(8037)),m.assign(s.prototype,d(5710)),m.assign(s.prototype,d(7355)),m.assign(s.prototype,d(5031)),K.exports=s},8037:(K,V,d)=>{var g=d(3782),u=d(2507),R=d(5292);let{AnalyticsTag:T}=d(2784),{default:c}=d(7276),{default:m}=d(6933);var h={getAdsAdapter:function(){return this._adsAdapter},setAdsAdapter:function(f,P,G){if(G=G||!1,f.isSetAdapter())c.warn(T,"Adapters can only be added to a single plugin");else try{for(var D in this.removeAdsAdapter(),this.plugin=P,this._adsAdapter=f,this._adsAdapter.setIsAds(!0),this.adsAdapterListeners={},this.adsAdapterListeners[R.Event.START]=this._adStartListener.bind(this),this.adsAdapterListeners[R.Event.JOIN]=this._adJoinListener.bind(this),this.adsAdapterListeners[R.Event.DATA_OBJECT]=this._adAdvancedDataListener.bind(this),this.adsAdapterListeners[R.Event.PAUSE]=this._adPauseListener.bind(this),this.adsAdapterListeners[R.Event.RESUME]=this._adResumeListener.bind(this),this.adsAdapterListeners[R.Event.BUFFER_BEGIN]=this._adBufferBeginListener.bind(this),this.adsAdapterListeners[R.Event.BUFFER_END]=this._adBufferEndListener.bind(this),this.adsAdapterListeners[R.Event.STOP]=this._adStopListener.bind(this),this.adsAdapterListeners[R.Event.ERROR]=this._adErrorListener.bind(this),this.adsAdapterListeners[R.Event.CLICK]=this._adClickListener.bind(this),this.adsAdapterListeners[R.Event.MANIFEST]=this._adManifestListener.bind(this),this.adsAdapterListeners[R.Event.PODSTART]=this._adBreakStartListener.bind(this),this.adsAdapterListeners[R.Event.PODSTOP]=this._adBreakStopListener.bind(this),this.adsAdapterListeners[R.Event.QUARTILE]=this._adQuartileListener.bind(this),this.adsAdapterListeners)this._adsAdapter.on(D,this.adsAdapterListeners[D]);G&&(c.notice(T,"Registering listeners for registered AdsAdapter"),this._adsAdapter.registerListeners())}catch(v){c.warn(T,"Problem during setAdsAdapter process")}},removeAdsAdapter:function(){if(this._adsAdapter){if(this._adsAdapter.dispose(),this.adsAdapterListeners){for(var f in this.adsAdapterListeners)this._adsAdapter.off(f,this.adsAdapterListeners[f]);delete this.adsAdapterListeners}this.resizeScrollDetector.stopDetection(),this._adsAdapter=void 0}},_adStartListener:function(f){this._adapter?(this._adapter.fireBufferEnd(null,"adStartListener"),this._adapter.fireSeekEnd(null,"adStartListener"),this.isInitiated||this._adapter.flags.isStarted||this._adapter.fireStart(),this._adapter.flags.isPaused&&this._adapter.chronos.pause.reset()):this.fireInit(),this._adsAdapter&&(this._adsAdapter.chronos.viewedMax=[]);let P=f.data.params||{};P.adNumber=this.getNewAdNumber(),(this.getAdResource()||this.getAdTitle())&&typeof this.getAdDuration()=="number"?(this.adStartSent=!0,this._adsAdapter.fireManifest(),this._adsAdapter.fireAdBreakStart(),P.adNumberInBreak=this.getNewAdNumberInBreak(),m.getInstance().addNQSAdEvent(R.Event.START,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_START,g.Service.AD_START,P)):(this.adInitSent=!0,P.adNumberInBreak=this.getNewAdNumberInBreak(),m.getInstance().addNQSAdEvent(R.Event.INIT,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_INIT,g.Service.AD_INIT,P))},_adJoinListener:function(f){let P={};u.assign(P,f.data.params||{}),this.adInitSent&&!this.adStartSent&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireAdBreakStart(),m.getInstance().addNQSAdEvent(R.Event.START,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_START,g.Service.AD_START,P)),this._adsAdapter.startChronoView(),this.adConnected&&(this._adsAdapter.chronos.join.startTime=this.adConnectedTime,this._adsAdapter.chronos.total.startTime=this.adConnectedTime,this.adConnectedTime=0,this.adConnected=!1),P=f.data.params||{},m.getInstance().addNQSAdEvent(R.Event.JOIN,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_JOIN,g.Service.AD_JOIN,P),this.adInitSent=!1,this.adStartSent=!1},_adAdvancedDataListener:function(f){var P=f.data.params||{};this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_DATA_OBJECT,g.Service.DATA_OBJECT,P)},_adPauseListener:function(f){let P=f.data.params||{};this._adsAdapter.stopChronoView(),m.getInstance().addNQSAdEvent(R.Event.PAUSE,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_PAUSE,g.Service.AD_PAUSE,P)},_adResumeListener:function(f){let P=f.data.params||{};this._adsAdapter.startChronoView(),m.getInstance().addNQSAdEvent(R.Event.RESUME,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_RESUME,g.Service.AD_RESUME,P)},_adBufferBeginListener:function(f){c.notice(T,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") Ad Buffer Begin"),this._adsAdapter.stopChronoView(),this._adsAdapter&&this._adsAdapter.flags.isPaused&&this._adsAdapter.chronos.pause.reset()},_adBufferEndListener:function(f){let P=f.data.params||{};this._adsAdapter.startChronoView(),m.getInstance().addNQSAdEvent(R.Event.BUFFER_END,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_BUFFER,g.Service.AD_BUFFER,P)},_adStopListener:function(f){let P=f.data.params||{};if(this._adsAdapter.stopChronoView(),this._adsAdapter.flags.reset(),this._totalPrerollsTime=(this._totalPrerollsTime||0)+this._adsAdapter.chronos.total.getDeltaTime(),P.position=this.requestBuilder.lastSent.position,m.getInstance().addNQSAdEvent(R.Event.STOP,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_STOP,g.Service.AD_STOP,P),this.requestBuilder.lastSent.position===g.AdPosition.Postroll){let G=this.options["ad.expectedPattern"];this.playedPostrolls++,(this.requestBuilder.lastSent.givenAds&&this.requestBuilder.lastSent.givenAds<=this.playedPostrolls||!this.requestBuilder.lastSent.givenAds&&G&&G.post&&G.post[0]&&G.post[0]<=this.playedPostrolls)&&this._adapter.fireStop({},"_adStopListener")}this.adConnected=!0,this.adConnectedTime=new Date().getTime()},_adErrorListener:function(f){let P=f.data.params||{};!this._adapter||this._adapter.flags.isStarted||this.isInitiated?this._blockAdError(f.data.params)||(this._adsAdapter&&(this._adsAdapter.fireManifest(),this._adsAdapter.fireAdBreakStart()),this._adsAdapter&&this._adsAdapter.flags.isStarted||(P.adNumber=this.getNewAdNumber(),P.adNumberInBreak=this.getNewAdNumberInBreak()),this.isBreakStarted||(P.breakNumber=this.getNewBreakNumber()),m.getInstance().addNQSAdEvent(R.Event.ERROR,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_ERROR,g.Service.AD_ERROR,P)):this._savedAdError=f},_adSavedError:function(){this._savedAdError&&(this._adErrorListener(this._savedAdError),this._savedAdError=null)},_adSavedManifest:function(){this._savedAdManifest&&(this._adManifestListener(this._savedAdManifest),this._savedAdManifest=null)},_blockAdError:function(f){let P=Date.now();return this._lastAdErrorParams&&this._lastAdErrorParams.errorCode===f.errorCode&&this._lastAdErrorParams.msg===f.msg&&this._lastAdErrorParams.adCreativeId===this.getAdCreativeId()&&this._lastAdErrorTime+5e3>P?(this._lastAdErrorTime=P,!0):(this._lastAdErrorTime=P,this._lastAdErrorParams=f,!1)},_adClickListener:function(f){let P=f.data.params||{};this._adsAdapter.stopChronoView(),m.getInstance().addNQSAdEvent(R.Event.CLICK,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_CLICK,g.Service.AD_CLICK,P)},_adManifestListener:function(f){if(!this.isAdsManifestSent){if(this._adapter&&!this._adapter.flags.isStarted&&!this.isInitiated)return void(this._savedAdManifest=f);let P=f.data.params||{};this.isAdsManifestSent=!0,m.getInstance().addNQSAdEvent(R.Event.MANIFEST,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_MANIFEST,g.Service.AD_MANIFEST,P)}},_adBreakStartListener:function(f){if(!this.isBreakStarted){this.isBreakStarted=!0,this._adapter&&this._adapter.firePause();let P=f.data.params||{};P.breakNumber=this.getNewBreakNumber(),m.getInstance().addNQSAdEvent(R.Event.PODSTART,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_POD_START,g.Service.AD_POD_START,P),this.adConnected=!1}},_adBreakStopListener:function(f){if(this.isBreakStarted){this.isBreakStarted=!1;let P=f.data.params||{};P.position=this.requestBuilder.lastSent.position,m.getInstance().addNQSAdEvent(R.Event.PODSTOP,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_POD_STOP,g.Service.AD_POD_STOP,P),this.adConnected=!1,this._adapter&&this._adapter.fireResume()}},_adQuartileListener:function(f){let P=f.data.params||{};P.quartile&&(m.getInstance().addNQSAdEvent(R.Event.QUARTILE,P),this._sendAdEventIfAllowed(g.WillSendEvent.WILL_SEND_AD_QUARTILE,g.Service.AD_QUARTILE,P))},_sendAdEventIfAllowed:function(f,P,G){this.options["ad.ignore"]||(m.getInstance().setTriedSendingNQSAdStats(!0),this._send(f,P,G,void 0,void 0,()=>{m.getInstance().addNQSAdRequest(P)})),c.notice(T,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+P)}};K.exports=h},5710:(K,V,d)=>{let{default:g}=d(6933);var u=d(3782);let R=d(2477),{default:T}=d(7276);var c=d(2507),m=d(5292);let{AnalyticsTag:h}=d(2784),{default:f}=d(61),{default:P}=d(9065);var G={_startListener:function(D){!this.plugin.options.enableExtraMetricCollection||this.lastKnownLocation||this.isFetchingLocation||this.fetchLocation(),this.isInitiated?this.initChrono.startTime!==0&&(this._adapter.chronos.join.startTime=this.initChrono.startTime):(this._viewIndex||this.plugin.getNextViewIndex(this),this._startPings());var v=D.data.params||{};g.getInstance().addNQSEvent(m.Event.START,v);var y=this.getResource()&&typeof this.getIsLive()=="boolean"&&(this.getIsLive()||typeof this.getDuration()=="number"&&this.getDuration()>0)&&this.getTitle(),F=P.getInstance().getCommonVariable(f.Products.BALANCER,f.BalancerVariables.DECISION_FINISHED);F===void 0&&(F=!0),(y=!this.options.forceInit&&y&&this._isExtraMetadataReady()&&F&&this._isRequiredMetadataReady())&&!this.isInitiated?(g.getInstance().setTriedSendingNQSStats(!0),this._send(u.WillSendEvent.WILL_SEND_START,u.Service.START,v,void 0,void 0,()=>{g.getInstance().addNQSRequest(u.Service.START)}),this._adSavedError(),this._adSavedManifest(),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.START+", title/res: "+(v.title||v.mediaResource)+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:"")),this.isStarted=!0):this.isInitiated||(this.isInitiated=!0,this._adapter.chronos.join.start(),g.getInstance().setTriedSendingNQSStats(!0),this._send(u.WillSendEvent.WILL_SEND_INIT,u.Service.INIT,v,void 0,void 0,()=>{g.getInstance().addNQSRequest(u.Service.INIT)}),this._adSavedError(),this._adSavedManifest(),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.INIT+", title/res: "+(v.title||v.mediaResource)+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:""))),this.options.enableExtraMetricCollection&&this.shouldStartRenditionTimer()},_retryStart:function(D){var v=P.getInstance().getCommonVariable(f.Products.BALANCER,f.BalancerVariables.DECISION_FINISHED);v===void 0&&(v=!0),this._isExtraMetadataReady()&&v&&this._isRequiredMetadataReady()&&(this._send(u.WillSendEvent.WILL_SEND_START,u.Service.START,{}),this.startDelayed=!1)},_joinListener:function(D){var v={};if(c.assign(v,D.data.params||{}),this._adsAdapter&&this._adsAdapter.flags.isStarted)this._adapter.monitor&&this._adapter.monitor.stop(),this._adapter.flags.isJoined=!1,this._adapter.chronos.join.stopTime=0;else{if(g.getInstance().addNQSEvent(m.Event.JOIN,v),this._adapter&&(this._adapter.chronos.join.startTime=Math.min(this._adapter.chronos.join.startTime+(this._totalPrerollsTime||0),new Date().getTime()),this._totalPrerollsTime=0),this.isInitiated&&!this.isStarted){var y=P.getInstance().getCommonVariable(f.Products.BALANCER,f.BalancerVariables.DECISION_FINISHED);y===void 0&&(y=!0),this._isExtraMetadataReady()&&y&&this._isRequiredMetadataReady()?(g.getInstance().setTriedSendingNQSStats(!0),this._send(u.WillSendEvent.WILL_SEND_START,u.Service.START,v,void 0,void 0,()=>{g.getInstance().addNQSRequest(u.Service.START)})):this.startDelayed=!0,this._adSavedError(),this._adSavedManifest(),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.START+", title/res: "+(v.title||v.mediaResource)+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:"")),this.isStarted=!0}v=D.data.params||{},g.getInstance().addNQSEvent(R.JOIN_TIME,v),this._adsAdapter&&this.isBreakStarted&&this._adsAdapter.fireAdBreakStop(),g.getInstance().setTriedSendingNQSStats(!0),this._send(u.WillSendEvent.WILL_SEND_JOIN,u.Service.JOIN,v,void 0,void 0,()=>{g.getInstance().addNQSRequest(u.Service.JOIN)}),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.JOIN+", duration: "+v.joinDuration+"ms"+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:""))}},_advancedDataListener:function(D){var v=D.data.params||{};this._send(u.WillSendEvent.WILL_SEND_DATA_OBJECT,u.Service.DATA_OBJECT,v),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.DATA_OBJECT+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:""))},_pauseListener:function(D){this._adapter&&(this._adapter.flags.isBuffering||this._adapter.flags.isSeeking||this._adsAdapter&&this._adsAdapter.flags.isStarted)&&this._adapter.chronos.pause.reset();var v=D.data.params||{};g.getInstance().addNQSEvent(m.Event.PAUSE,v),this._send(u.WillSendEvent.WILL_SEND_PAUSE,u.Service.PAUSE,v),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.PAUSE+" at "+v.playhead+"s"+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:""))},_resumeListener:function(D){this._adsAdapter&&this.isBreakStarted&&!this._adsAdapter.flags.isStarted&&this._adsAdapter.fireAdBreakStop();var v=D.data.params||{};g.getInstance().addNQSEvent(m.Event.RESUME,v),this._send(u.WillSendEvent.WILL_SEND_RESUME,u.Service.RESUME,v),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.RESUME+", duration: "+v.pauseDuration+"ms"+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:"")),this._adapter.chronos.pause.reset()},_seekBufferBeginListener:function(D){this._adapter&&this._adapter.flags.isPaused&&this._adapter.chronos.pause.pause(),D.type&&D.type.includes("buffer")?(g.getInstance().addNQSEvent(m.Event.BUFFER_BEGIN,{}),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+D.type+", eventsTriggered: "+this._adapter.fireEventsStruct.buffer)):(g.getInstance().addNQSEvent(m.Event.SEEK_BEGIN,{}),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+D.type+", eventsTriggered: "+this._adapter.fireEventsStruct.seek))},_seekEndListener:function(D){var v=D.data.params||{};g.getInstance().addNQSEvent(m.Event.SEEK_END,v),this._send(u.WillSendEvent.WILL_SEND_SEEK,u.Service.SEEK,v),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.SEEK+" to "+v.playhead+" in "+v.seekDuration+"ms"+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:""))},_bufferEndListener:function(D){var v=D.data.params||{};g.getInstance().addNQSEvent(m.Event.BUFFER_END,v),this._send(u.WillSendEvent.WILL_SEND_BUFFER,u.Service.BUFFER,v),T.notice(h,"["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") "+u.Service.BUFFER+" to "+v.playhead+" in "+v.bufferDuration+"ms"+(v.triggeredEvents?", eventsTriggered: "+v.triggeredEvents:""))},_errorListener:function(D){this._blockError(D.data.params)||(g.getInstance().addNQSEvent(m.Event.ERROR,D.data.params),this.fireError(D.data.params||{}),this._adSavedError(),this._adSavedManifest())},_blockError:function(D){var v=Date.now();return this._lastErrorParams&&this._lastErrorParams.errorCode===D.errorCode&&this._lastErrorParams.msg===D.msg&&this._lastErrorTime+5e3>v?(this._lastErrorTime=v,!0):(this._lastErrorTime=v,this._lastErrorParams=D,!1)},_stopListener:function(D){g.getInstance().addNQSEvent(m.Event.STOP,D.data.params),this.fireStop(D.data.params||{})},_isStopReady:function(D){let v=!1;if(!this.requestBuilder.lastSent.live&&this._adsAdapter&&this._adapter&&(!this._adapter.getPlayhead()||this._adapter.getPlayhead()>=this.requestBuilder.lastSent.mediaDuration-1)){let y=0,F=this.options["ad.expectedPattern"];if(F&&F.post&&F.post[0])y=F.post[0];else if(this.requestBuilder.lastSent.breaksTime){if(this.requestBuilder.lastSent.position===u.AdPosition.Postroll&&(y=this.requestBuilder.lastSent.givenAds),!y&&this.requestBuilder.lastSent.breaksTime){let b=this.requestBuilder.lastSent.breaksTime;b.length>0&&this.requestBuilder.lastSent.mediaDuration&&Math.round(b[b.length-1])+1>=this.requestBuilder.lastSent.mediaDuration&&(y=1)}}else v=!0;y<=this.playedPostrolls&&(v=!0)}else v=!0;return v},_videoEventListener:function(D){g.getInstance().addNQSEvent(m.Event.VIDEO_EVENT,D.data.params),this._send(u.WillSendEvent.WILL_SEND_VIDEO_EVENT,u.Service.VIDEO_EVENT,D.data.params)},_isExtraMetadataReady:function(D){if(!this.options.waitForMetadata||this.options.pendingMetadata.length<1)return!0;try{let v=this.requestBuilder.getGetters();return this.options.pendingMetadata.map(function(y){if(v.hasOwnProperty(y)){if(this[v[y]])return!!this[v[y]]();if(this.plugin[v[y]])return!!this.plugin[v[y]]()}}.bind(this)).indexOf(!1)<0}catch(v){T.warn("["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") Error processing isExtraMetadataReady method.")}return!0},_isRequiredMetadataReady:function(){if(new Date().getTime()-this._adapter.chronos.join.startTime<u.Metadata.REQUIRED_METADATA_TIMEOUT){try{let D=this.requestBuilder.getGetters();return this.requestBuilder.getRequiredMetadataParams().every(function(v){if(D.hasOwnProperty(v)){if(typeof this[D[v]]=="function"){let y=this[D[v]]();if(y!=null&&!Number.isNaN(y))return!0}else if(this.plugin&&typeof this.plugin[D[v]]=="function"){let y=this.plugin[D[v]]();if(y!=null&&!Number.isNaN(y))return!0}}return!1}.bind(this))}catch(D){T.warn("["+this.getViewCode()+"] (Video Space "+this.getVideoKey()+") Error processing _isRequiredMetadataReady method.")}return!1}return!0}};K.exports=G},7355:(K,V,d)=>{let g=d(2507),{default:u}=d(7276),R=d(9835),T=d(8472),c=d(7939),m=d(3782),{default:h}=d(9065),{AnalyticsTag:f}=d(2784),{default:P}=d(61);var G={getPlayhead:function(){var D=this._safeGetterAdapter("getPlayhead");return g.parseNumber(D,0)},getPlayrate:function(){let D=0;if(this._adapter&&this._adapter.flags&&!this._adapter.flags.isPaused)try{D=this._adapter.getPlayrate()}catch(v){u.warn(f,"An error occured while calling getPlayrate",v)}return D},getFramesPerSecond:function(){return this._safeGetterAdapter("getFramesPerSecond","content.fps")},getSegmentDuration:function(){return this.hybridNetwork.getSegmentDuration()||this._safeGetterAdapter("getSegmentDuration","content.segmentDuration")},getDroppedFrames:function(){let D=this._safeGetterAdapter("getDroppedFrames");return D||(D=this.getWebkitDroppedFrames()),g.parseNumber(D,0)},getWebkitDroppedFrames:function(){if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitDroppedFrameCount)return this._adapter.tag.webkitDroppedFrameCount},getDuration:function(){let D=this._safeGetterAdapter("getDuration","content.duration")||void 0;return g.parseNumber(Math.round(D),void 0)},getBitrate:function(){let D=this._safeGetterAdapter("getBitrate","content.bitrate");return D&&D!==-1||(D=this.getWebkitBitrate()),g.parseNumber(D,-1)},getTotalBytes:function(){return this.options["content.sendTotalBytes"]?this._safeGetterAdapter("getTotalBytes","content.totalBytes"):void 0},getWebkitBitrate:function(){try{if(this._adapter&&this._adapter.tag&&this._adapter.tag.webkitVideoDecodedByteCount){let v=this._adapter.tag.webkitVideoDecodedByteCount;if(this._lastWebkitBitrate){var D=this._adapter.tag.webkitVideoDecodedByteCount-this._lastWebkitBitrate;v=Math.round(D/this.plugin.fastDataTransform.response.pingTime*8)}return this._lastWebkitBitrate=this._adapter.tag.webkitVideoDecodedByteCount,v!==0?v:-1}}catch(v){}return-1},getThroughput:function(){let D=this._safeGetterAdapter("getThroughput","content.throughput");return g.parseNumber(D,-1)},getRendition:function(){return this._safeGetterAdapter("getRendition","content.rendition")},getTitle:function(){return this._safeGetterAdapter("getTitle","content.title")},getTitle2:function(){return this._safeGetterAdapter("getTitle2","content.program")},getIsLive:function(){let D=this.options["content.isLive"];return D||D===!1||(D=this._safeGetterAdapter("getIsLive")||!1),D},getResource:function(){return this._safeGetterAdapter("getResource","content.resource")},getParsedResource:function(){let D=this.plugin.resourceTransform.getResource();return D=D||this._safeGetterAdapter("getURLToParse"),D===this.getResource()?void 0:D},getTransactionCode:function(){return this.options["content.transactionCode"]},getMetadata:function(){return this.options["content.metadata"]},getPlayerVersion:function(){return this._safeGetterAdapter("getPlayerVersion")||""},getPlayerName:function(){return this._safeGetterAdapter("getPlayerName")||""},getCdn:function(){let D=null;return D=h.getInstance().getCommonVariable(P.Products.BALANCER,P.BalancerVariables.AS_ENABLED)?"ACTVSWIT":this.plugin.resourceTransform.getCdnName(),D||this.options["content.cdn"]},getProfileName:function(){return h.getInstance().getCommonVariable(P.Products.BALANCER,P.BalancerVariables.PROFILE_NAME)},getBucketName:function(){return h.getInstance().getCommonVariable(P.Products.BALANCER,P.BalancerVariables.BUCKET)},getPluginVersion:function(){return h.getPluginVersion()},getAdapterVersion:function(){return this._safeGetterAdapter("getVersion")},getCdnTraffic:function(){return this._safeGetterAdapter("getCdnTraffic")||this.hybridNetwork.getCdnTraffic()},getMultiCdnInfo:function(){return this.hybridNetwork.getMultiCdnInfo()},getBalancerResponseId:function(){return this.hybridNetwork.getBalancerResponseId()},getP2PTraffic:function(){return this._safeGetterAdapter("getP2PTraffic")||this.hybridNetwork.getP2PTraffic()},getUploadTraffic:function(){return this._safeGetterAdapter("getUploadTraffic")||this.hybridNetwork.getUploadTraffic()},getIsP2PEnabled:function(){return this._safeGetterAdapter("getIsP2PEnabled")||this.hybridNetwork.getIsP2PEnabled()},getStreamingProtocol:function(){let D=this.options["content.streamingProtocol"];if(D){for(var v in T)if(T[v]===D)return D}},getTransportFormat:function(){let D=this.options["content.transportFormat"];if(!D&&this.options["parse.manifest"]&&(D=this.plugin.resourceTransform.getTransportFormat()),D){for(let v in c)if(c[v]===D)return D}},getHouseholdId:function(){return this._safeGetterAdapter("getHouseholdId")},getLatency:function(){return this.getIsLive()?this._safeGetterAdapter("getLatency"):void 0},getPacketLoss:function(){return this._safeGetterAdapter("getPacketLoss")},getPacketSent:function(){return this._safeGetterAdapter("getPacketSent")},getVideoMetrics:function(){return g.getMetricsFrom(this._adapter?this._adapter.getMetrics():void 0,this.options["content.metrics"])},getPlayerStartupTime:function(){return this.plugin.browserLoadTimes.getPlayerStartupTime()},getJoinDuration:function(){return this._adapter?this._adapter.chronos.join.getDeltaTime(!1):-1},getBufferDuration:function(){return this._adapter?this._adapter.chronos.buffer.getDeltaTime(!1):-1},getSeekDuration:function(){return this._adapter?this._adapter.chronos.seek.getDeltaTime(!1):-1},getPauseDuration:function(){return this._adapter?this._adapter.chronos.pause.getDeltaTime(!1):0},getPackage:function(){return this.options["content.package"]},getSaga:function(){return this.options["content.saga"]},getTvShow:function(){return this.options["content.tvShow"]},getSeason:function(){return this.options["content.season"]},getEpisodeTitle:function(){return this.options["content.episodeTitle"]},getChannel:function(){return this.options["content.channel"]},getID:function(){return this.options["content.id"]},getImdbId:function(){return this.options["content.imdbId"]},getGracenoteID:function(){return this.options["content.gracenoteId"]},getType:function(){return this.options["content.type"]},getGenre:function(){return this.options["content.genre"]},getVideoLanguage:function(){return this.options["content.language"]},getSubtitles:function(){return this.options["content.subtitles"]},getContractedResolution:function(){return this.options["content.contractedResolution"]},getCost:function(){return this.options["content.cost"]},getPrice:function(){return this.options["content.price"]},getPlaybackType:function(){let D=this.options["content.playbackType"];if(!D){let v=this.options["content.isLive"];typeof v!="boolean"&&(v=this._safeGetterAdapter("getIsLive")),typeof v=="boolean"&&(D=v?"Live":"VoD")}return D},getDRM:function(){return this.options["content.drm"]},getVideoCodec:function(){return this._safeGetterAdapter("getVideoCodec","content.encoding.videoCodec")},getAudioCodec:function(){return this._safeGetterAdapter("getAudioCodec","content.encoding.audioCodec")},getCodecSettings:function(){return this.options["content.encoding.codecSettings"]},getCodecProfile:function(){return this.options["content.encoding.codecProfile"]},getContainerFormat:function(){return this.options["content.encoding.containerFormat"]},getLinkedViewId:function(){return this.options.linkedViewId},_safeGetterAdapter:function(D,v){let y;if(v&&this.options[v])y=this.options[v];else try{this._adapter&&typeof this._adapter[D]=="function"&&(y=this._adapter[D]())}catch(F){u.warn(f,"An error occured while calling "+D,F)}return y||void 0},getCustomDimensions:function(){let D=this.options["content.customDimensions"];return typeof D=="object"?D:void 0},getAdExtraparam1:function(){return this.options["ad.customDimension.1"]},getAdExtraparam2:function(){return this.options["ad.customDimension.2"]},getAdExtraparam3:function(){return this.options["ad.customDimension.3"]},getAdExtraparam4:function(){return this.options["ad.customDimension.4"]},getAdExtraparam5:function(){return this.options["ad.customDimension.5"]},getAdExtraparam6:function(){return this.options["ad.customDimension.6"]},getAdExtraparam7:function(){return this.options["ad.customDimension.7"]},getAdExtraparam8:function(){return this.options["ad.customDimension.8"]},getAdExtraparam9:function(){return this.options["ad.customDimension.9"]},getAdExtraparam10:function(){return this.options["ad.customDimension.10"]},getPluginInfo:function(){return JSON.stringify({lib:R,adapter:this.getAdapterVersion(),adAdapter:this.getAdAdapterVersion()})},getAccountCode:function(){return h.getInstance().getFastDataService().getAccountCode()},getUsername:function(){return this.options["user.name"]},getEmail:function(){return this.options["user.email"]},getNodeHost:function(){return this.options["content.cdnNode"]||this.plugin.resourceTransform.getNodeHost()},getNodeType:function(){return this.options["content.cdnType"]||this.plugin.resourceTransform.getNodeType()},getNodeTypeString:function(){return this.plugin.resourceTransform.getNodeTypeString()},getRequestNumber:function(){return Math.random()},getOfflineView:function(){let D;return this.plugin.offlineStorage&&(D=this.plugin.offlineStorage.getView()),D},getSmartswitchConfigCode:function(){return this.options["smartswitch.configCode"]},getSmartswitchGroupCode:function(){return this.options["smartswitch.groupCode"]},getSmartswitchContractCode:function(){return this.options["smartswitch.contractCode"]},controlPlayerExists:function(){return this.options["check.playerExists"]},ignorePauseSmallEvents:function(){return this.options["pause.ignoreSmallEvents"]},getAdPlayerVersion:function(){return this._safeGetterAdsAdapter("getPlayerVersion")||""},getAdPosition:function(){let D=m.AdPosition.Preroll;if(this._adsAdapter)try{var v=this._adsAdapter.getPosition();m.AdPosition.Preroll!==v&&m.AdPosition.Midroll!==v&&m.AdPosition.Postroll!==v||(D=v)}catch(y){u.warn(f,"An error occured while calling getAdPosition",y)}return!D&&this._adapter&&(D=this._adapter.flags.isJoined?m.AdPosition.Midroll:m.AdPosition.Preroll),D},getAdNumber:function(){return this.requestBuilder.lastSent.adNumber||0},getAdNumberInBreak:function(){return this.requestBuilder.lastSent.adNumberInBreak||0},getBreakNumber:function(){return this.requestBuilder.lastSent.breakNumber||0},getAdPlayhead:function(){let D=this._safeGetterAdsAdapter("getPlayhead");return g.parseNumber(D,0)},getAdDuration:function(){let D=this._safeGetterAdsAdapter("getDuration","ad.duration");return g.parseNumber(D,0)},getAdBitrate:function(){let D=this._safeGetterAdsAdapter("getBitrate");return D&&D!==-1||(D=this.getWebkitAdBitrate()),g.parseNumber(D,-1)},getWebkitAdBitrate:function(){try{if(this._adsAdapter&&this._adsAdapter.tag&&this._adsAdapter.tag.webkitVideoDecodedByteCount){let D=this._adsAdapter.tag.webkitVideoDecodedByteCount;if(this._lastWebkitAdBitrate){let v=this._adsAdapter.tag.webkitVideoDecodedByteCount-this._lastWebkitAdBitrate;D=Math.round(v/this.plugin.fastDataTransform.response.pingTime*8)}return this._lastWebkitAdBitrate=this._adsAdapter.tag.webkitVideoDecodedByteCount,D!==0?D:-1}}catch(D){}return-1},getAdTitle:function(){return this._safeGetterAdsAdapter("getTitle","ad.title")},getAdResource:function(){return this._safeGetterAdsAdapter("getResource","ad.resource")},getAdCampaign:function(){return this._safeGetterAdsAdapter("getCampaign","ad.campaign")},getAdCreativeId:function(){return this._safeGetterAdsAdapter("getCreativeId","ad.creativeId")},getAdProvider:function(){return this._safeGetterAdsAdapter("getProvider","ad.provider")},getAdAdapterVersion:function(){return this._safeGetterAdsAdapter("getVersion")},getAdMetadata:function(){return this.options["ad.metadata"]},getAdInsertionType:function(){return this._safeGetterAdsAdapter("getAdInsertionType")},getGivenBreaks:function(){return this._safeGetterAdsAdapter("getGivenBreaks","ad.givenBreaks")},getExpectedBreaks:function(){let D,v=this.options["ad.expectedBreaks"],y=this.options["ad.expectedPattern"];if(v)D=v;else if(y)D=0,D=y.pre?y.pre.length:0,D+=y.mid?y.mid.length:0,D+=y.post?y.post.length:0;else if(this._adsAdapter)try{D=this._adsAdapter.getExpectedBreaks()}catch(F){u.warn(f,"An error occured while calling expectedBreaks",F)}return D},getExpectedPattern:function(){return this._safeGetterAdsAdapter("getExpectedPattern","ad.expectedPattern")},getBreaksTime:function(){return this._safeGetterAdsAdapter("getBreaksTime","ad.breaksTime")},getGivenAds:function(){return this._safeGetterAdsAdapter("getGivenAds","ad.givenAds")},getExpectedAds:function(){let D;try{if(this._adsAdapter){let v=this.options["ad.expectedPattern"];if(v&&this.getAdPosition()){let y=[];if(v.pre&&(y=y.concat(v.pre)),v.mid&&(y=y.concat(v.mid)),v.post&&(y=y.concat(v.post)),y.length>0){let F=this.requestBuilder.lastSent.breakNumber;F>y.length&&(F=y.length),D=y[F-1]}}else D=this._adsAdapter.getExpectedAds()}}catch(v){u.warn(f,"An error occured while calling expectedAds",v)}return D},getAdsExpected:function(){let D;try{D=this.getExpectedPattern()||this.getGivenAds()||!1}catch(v){u.warn(f,"An error occured while calling givenAds or expectedPattern",v)}return D},getAdJoinDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.join.getDeltaTime(!1):-1},getAdBufferDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.buffer.getDeltaTime(!1):-1},getAdPauseDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.pause.getDeltaTime(!1):0},getAdTotalDuration:function(){return this._adsAdapter?this._adsAdapter.chronos.total.getDeltaTime(!1):-1},getAdViewedDuration:function(){return this._getTimeMaxOrAcum(!0)},getAdViewability:function(){return this._getTimeMaxOrAcum()},_getTimeMaxOrAcum:function(D){let v=0;return this._adsAdapter&&this._adsAdapter.chronos.viewedMax.forEach(function(y){D?v+=y.getDeltaTime(!1):v=Math.max(y.getDeltaTime(!1),v)}),v},getAudioEnabled:function(){return this._safeGetterAdsAdapter("getAudioEnabled")},getIsSkippable:function(){return this._safeGetterAdsAdapter("getIsSkippable")},getIsFullscreen:function(){return this._safeGetterAdsAdapter("getIsFullscreen")},_safeGetterAdsAdapter:function(D,v){let y;if(v&&this.options[v])y=this.options[v];else try{this._adsAdapter&&typeof this._adsAdapter[D]=="function"&&(y=this._adsAdapter[D]())}catch(F){u.warn(f,"An error occured while calling "+D,F)}return y},getNewAdNumber:function(){let D=this.requestBuilder.lastSent.adNumber;return D&&this.requestBuilder.lastSent.position===this.getAdPosition()?D+=1:D=1,this.requestBuilder.lastSent.adNumber=D,D},getNewAdNumberInBreak:function(){return this._adNumberInBreak++,this.requestBuilder.lastSent.adNumberInBreak=this._adNumberInBreak,this._adNumberInBreak},getNewBreakNumber:function(){let D=1;return this._adNumberInBreak=0,this.requestBuilder.lastSent.breakNumber&&(D=this.requestBuilder.lastSent.breakNumber+1),D&&this.requestBuilder.lastSent.position!==this.getAdPosition()&&(D=1),this.requestBuilder.lastSent.breakNumber=D,D},getAccurateGeoLocation:function(){return this.lastKnownLocation}};K.exports=G},5031:(K,V,d)=>{let{default:g}=d(7276);var u=d(3782);let{default:R}=d(6933),{default:T}=d(9065),{default:c}=d(3555),{AnalyticsTag:m,Method:h}=d(2784),{default:f}=d(1577),{default:P}=d(61);var G={_startPings:function(){if(!this.sendingPings){var D=this.plugin.isMethodPostEnabled()?h.POST:h.GET;let v=1e3*T.getInstance().getFastDataService().getPingTime();T.getInstance().pushPeriodicDataFromCallback(this.plugin.options.offline?P.Consumer.PERSISTENT:P.Consumer.NQS,this.getVideoKey(),u.Service.PING,v,D,this._sendPing.bind(this),this._onPingSuccess.bind(this)),this.sendingPings=!0}},_onPingSuccess:function(){R.getInstance().addNQSRequest(u.Service.PING),this.lastEventTime=new Date().getTime()},_stopPings:function(){T.getInstance().unregisterPeriodicPush(this.getVideoKey()),this.sendingPings=!1},_sendPing:function(){if(!this.plugin.analyticsRequestHandler.shouldSendStats())return;let D=new Date().getTime(),v=this.timeSinceLastPing?D-this.timeSinceLastPing:5e3;this.timeSinceLastPing=D;var y={diffTime:v,entities:this.requestBuilder.getChangedEntities([this,this.plugin])};if(this._adapter&&(y=this._adapter.flags.isPaused?this.requestBuilder.fetchParams(y,["pauseDuration"],!1,[this,this.plugin],this.options):this.requestBuilder.fetchParams(y,["bitrate","throughput","fps"],!1,[this,this.plugin],this.options),this._adapter.flags.isJoined&&(y=this.requestBuilder.fetchParams(y,["playhead"],!1,[this,this.plugin],this.options)),this._adapter.flags.isBuffering&&(y=this.requestBuilder.fetchParams(y,["bufferDuration"],!1,[this,this.plugin],this.options)),this._adapter.flags.isSeeking&&(y=this.requestBuilder.fetchParams(y,["seekDuration"],!1,[this,this.plugin],this.options))),this._adsAdapter&&!this.options["ad.ignore"]&&(this._adsAdapter.flags.isStarted&&(y=this.requestBuilder.fetchParams(y,["adPlayhead","adViewedDuration","adViewability"],!1,[this,this.plugin],this.options),y=this._adsAdapter.flags.isPaused?this.requestBuilder.fetchParams(y,["adPauseDuration"],!1,[this,this.plugin],this.options):this.requestBuilder.fetchParams(y,["adBitrate"],!1,[this,this.plugin],this.options)),this._adsAdapter.flags.isBuffering&&(y=this.requestBuilder.fetchParams(y,["adBufferDuration"],!1,[this,this.plugin],this.options))),y=this.requestBuilder.buildParams(y,u.Service.PING,[this,this.plugin],this.options),this.controlPlayerExists()&&this._adapter&&!this._adapter.checkExistsPlayer())return g.debug(m,"Detected player no exists, and fire stop event"),void this._adapter.fireStop();R.getInstance().setTriedSendingNQSStats(!0);var F=this.plugin.isMethodPostEnabled()?h.POST:h.GET;let b=new c(u.Service.PING,y,this.getVideoKey(),F),M=b.getVideoKey(),H=b.getService(),s=this.plugin.analyticsRequestHandler.onWillSendVideoRequestListeners;for(let i of s)i(H,M,y);return this.plugin.analyticsRequestHandler.prepareParams(b),g.verbose(m,u.Service.PING),this.startDelayed&&this._retryStart(),b.getParams()}};K.exports=G},5651:(K,V,d)=>{var g=d(1593);let{default:u}=d(7276),{AnalyticsTag:R}=d(2784);var T=g.extend({constructor:function(c){this.plugin=c,this.videos={}},existsVideo:function(c){return c=c||"default",!!this.videos[c]},getVideo:function(c){if(c=c||"default",this.videos[c])return this.videos[c]},setVideo:function(c){this.videos[this._parseVideoKey(c.getVideoKey())]=c},getVideoKeys:function(){return Object.keys(this.videos)},existsAdapter:function(c){return c=c||"default",!(!this.videos[c]||!this.videos[c]._adapter)},getAdapter:function(c){if(c=c||"default",this.videos[c])return this.videos[c].getAdapter()},setAdapter:function(c,m){m=m||"default",this.videos[m]&&this.videos[m].setAdapter(c,this.plugin)},getAdsAdapter:function(c){if(c=c||"default",this.videos[c])return this.videos[c].getAdsAdapter()},removeAdapter:function(c,m){m=m||"default";try{this.videos[m]&&this.videos[m].removeAdapter()}catch(h){u.error(R,"Is not possible to remove adapter for video: "+m)}},removeAllAdapters:function(){for(let c of Object.keys(this.videos))this.videos[c].removeAdapter(),this.videos[c].removeAdsAdapter()},sendRequest:function(c,m,h,f,P,G,D,v){c=c||"default",this.videos[c]?this.videos._send(this._key,m,h,f,P,G,D,v):u.error(R,"Can't send request for not existent video object")},updateAllOptions:function(c){for(let m in this.videos)for(let h in c)this.videos[m].options[h]=c[h];c["adapters.templates"]&&(this.plugin._setAdapterTemplates(c["adapters.templates"]),this.updateAdapterTemplates(c["adapters.templates"]))},updatePingInterval:function(c){for(var m in this.videos)this.videos[m]._ping.interval=c},updateAdapterTemplates:function(c){if(c&&this.videos)for(var m in this.videos)this.videos[m]._adapter&&this.videos[m]._adapter.updateAdapterTemplates(c)},resetVideo:function(c){c=c||"default",this.video[c]&&this.video[c]._reset()},_parseVideoKey:function(c){return c||"default"}});K.exports=T}},re={};function Y(K){var V=re[K];if(V!==void 0)return V.exports;var d=re[K]={exports:{}};return ne[K].call(d.exports,d,d.exports,Y),d.exports}Y.n=K=>{var V=K&&K.__esModule?()=>K.default:()=>K;return Y.d(V,{a:V}),V},Y.d=(K,V)=>{for(var d in V)Y.o(V,d)&&!Y.o(K,d)&&Object.defineProperty(K,d,{enumerable:!0,get:V[d]})},Y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(K){if(typeof window=="object")return window}}(),Y.o=(K,V)=>Object.prototype.hasOwnProperty.call(K,V),Y.r=K=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})};var X={};return(()=>{"use strict";Y.d(X,{default:()=>Jr});var K={};Y.r(K),Y.d(K,{VERSION:()=>yr,addSidxSegmentsToPlaylist:()=>ws,generateSidxKey:()=>Ds,inheritAttributes:()=>xs,parse:()=>vr,parseUTCTiming:()=>Sr,stringToMpdXml:()=>Ki,toM3u8:()=>Cs,toPlaylists:()=>Bs});var V=Y(9065),d=Y(7276),g=Y(2784),u=Y(5438);let R=c;function T(){let A=["slice","isManifest","random","http://","21exCACJ","substr","isHeaderMatch","180fDmkdq","bufferToString","1140558WbBBwg","ifByteArrayToString","https://","24WMeZjB","url","regex","length","list","host","256268nmUHmV","sliceByFirstSpecial","pattern","isValidUrl","includes","indexOf","isAudio","5nulXcG","isMedia","test","origin","5731YQwTtd","map","26NVoQcE","lastIndexOf","type","split","toString","replace","36752czRpMa","isSubtitles","endsWith","returnRandom","forEach","keys","delay","formatParameters","filter","6976200BuAoMw","32EHqrXz","round","2555910PzUZnP","push","fromCharCode","288621GFtMGi","getPath","pathname","findPathMach","join"];return(T=function(){return A})()}function c(A,e){let t=T();return(c=function(r,n){return t[r-=241]})(A,e)}(function(A){let e=c,t=A();for(;;)try{if(parseInt(e(253))/1*(parseInt(e(243))/2)+-parseInt(e(255))/3+parseInt(e(281))/4*(parseInt(e(288))/5)+parseInt(e(272))/6*(-parseInt(e(267))/7)+parseInt(e(275))/8*(parseInt(e(258))/9)+-parseInt(e(270))/10*(parseInt(e(292))/11)+parseInt(e(252))/12*(parseInt(e(294))/13)==479379)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(T);class m{static getRouteAndFilename(e){let t=c,r=new URL(e),n=r[t(291)]+r[t(260)],o=n[t(295)]("/")+1;return{route:n[t(263)](0,o),fileName:n[t(263)](o)}}static[R(259)](e){return{path:new URL(e).pathname}}static[R(249)](e){return new Promise(t=>setTimeout(t,e))}static[R(261)](e,t,r){let n=R,o=r[n(276)];e=e[n(297)]("?")[0];let I=new URL(e),N=new URL(t);I.host!=N[n(280)]&&(I.host=N[n(280)],e=I[n(241)]());let w=t;if(t!=null&&t!="")for(;!e[n(285)](w)&&w.includes("/");){w[n(245)]("/")&&(w=w[n(268)](0,w[n(278)]-1));let se=w[n(268)](w[n(295)]("/"),w[n(278)]);if((o[n(245)](se)||o.endsWith(se+"/"))&&(o[n(245)]("/")&&(o=o[n(268)](0,o.length-1)),o=o.substr(0,o[n(295)]("/")+1)),w=w[n(268)](0,w[n(295)]("/")+1),w==n(274)||w==n(266))return""}return e[n(242)](w,o)}static[R(282)](e,t=!1){let r=R,n=[e[r(286)]("?")];return t&&n[r(256)](e[r(286)](";")),n=n[r(251)](o=>o!=-1),e[r(263)](0,Math.min(...n))}static[R(289)](e){let t=R,r=!1;return u.Y4[t(247)](n=>{r=r||e.endsWith(n)}),r}static[R(264)](e,t=!1){let r=R,n=!1,o=t?m[r(282)](e,t):e;return u.w2[r(247)](I=>{n=n||o[r(245)](I)}),n}static[R(287)](e){let t=R,r=!1;return u.hj[t(247)](n=>{r=r||e[t(245)](n)}),r}static[R(244)](e){let t=R,r=!1;return u.zU[t(247)](n=>{r=r||e[t(245)](n)}),r}static[R(271)](e){return String[R(257)].apply(null,new Uint8Array(e))}static[R(246)](e){let t=R,r="",n=e.length-1;return n>0&&(r=e[Math[t(254)](Math[t(265)]()*n)]),r}static[R(250)](e){let t=R;return"?"+Object[t(248)](e)[t(293)](function(r){return e[r]===""?"":r+"="+encodeURIComponent(e[r])})[t(262)]("&")}static[R(273)](e){let t=R;if(typeof e!="string"){let n=new Uint8Array(e),o="";for(var r=0;r<n[t(278)];r++)o+=String.fromCharCode(n[r]);return o}return e}static[R(284)](e){try{return new URL(e),!0}catch(t){return!1}}static[R(269)](e,t){let r=R,n=!1;return t[r(296)]===r(279)?n=t[r(283)][r(293)](o=>o)[r(285)](e):t.type===r(277)&&(n=new RegExp(t[r(283)])[r(290)](e)),n}}let h=P;function f(){let A=["string","method","load","verbose","_totalDownloadTime","Theoplayer interceptor - Completed request for -> ","addRequestInterceptor","752080CZvbVB","removeRequestInterceptor","open","_interceptor","useTheoplayer","4cwAFSF","statusText","1655ZNXoCm","ifByteArrayToString","status","endsWith","630948JwNSHD","responseType","waitUntil","readyState","type","setEstimator","setRequestHeader","isNaN",".mpd","send","pathname","url","now","3775689HMXFLO","respondWith","byteLength","body","994665FVlLvg","arraybuffer","onreadystatechange","headers","manifest","network","_cdnBalancer","177386KabxmM","_player","response","2567397liFnzG","348KrfSYZ"];return(f=function(){return A})()}function P(A,e){let t=f();return(P=function(r,n){return t[r-=366]})(A,e)}(function(A){let e=P,t=A();for(;;)try{if(-parseInt(e(380))/1*(-parseInt(e(397))/2)+-parseInt(e(373))/3+-parseInt(e(384))/4*(parseInt(e(399))/5)+parseInt(e(403))/6+-parseInt(e(383))/7+parseInt(e(392))/8+parseInt(e(369))/9==246338)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(f);class G{constructor(e,t){let r=P;this._totalDownloadedBytes=0,this._totalDownloadTime=0,this[r(381)]=e,this[r(379)]=t}[h(387)](){let e=h;this._player&&this[e(379)]&&(this._totalDownloadedBytes=0,this._totalDownloadTime=0,this[e(379)][e(396)](),this[e(391)]())}unload(){let e=h;this[e(381)][e(378)][e(393)](this[e(395)])}[h(391)](){let e=h;this[e(395)]=t=>{let r=e;t[r(405)](n=>{let o=r,I=new XMLHttpRequest,N=0,w=0,se=0;t.responseType==="stream"?I[o(404)]=o(374):I[o(404)]=t[o(404)],I[o(375)]=W=>{let k=o;if(I[k(406)]===1&&t[k(407)]!==k(377)&&(N=Date[k(368)]()),I[k(406)]===2&&t.type!==k(377)&&(w=Date[k(368)](),se=w-N),I[k(406)]===4){let C={status:I[k(401)],statusText:I[k(398)],body:void 0};if(I[k(401)]>=200&&I[k(401)]<400){let p=new URL(t[k(367)])[k(366)];if(p[k(402)](".m3u8")||p[k(402)](k(411))?C[k(372)]=m[k(400)](I[k(382)]):C[k(372)]=I.response,t[k(407)]!=="manifest"&&se>0){let x=Date[k(368)]()-w;this[k(389)]+=x,this._totalDownloadedBytes+=I[k(382)][k(371)];let ge=this._totalDownloadedBytes/(this[k(389)]/1e3);Number[k(410)](ge)&&(ge=(typeof I[k(382)]===k(385)?I[k(382)].length:I.response[k(371)])/(se/1e3)),this[k(381)].network[k(408)]({bandwidth:8*ge,roundTripTime:se/1e3,createMeasurer:()=>{}})}t.respondWith(C)}else t[k(370)](C);d.default[k(388)](g.BalancerTag,k(390)+I.responseURL),n()}},d.default.verbose(g.BalancerTag,"Theoplayer interceptor - Intercepting request to -> "+t[o(367)]),I[o(394)](t[o(386)],t[o(367)]);for(let W in t.headers)I[o(409)](W,t[o(376)][W]);I[o(412)](t[o(372)])})},this._player[e(378)][e(391)](this._interceptor)}}function D(A,e){let t=y();return(D=function(r,n){return t[r-=374]})(A,e)}let v=D;function y(){let A=["theoplayer","3872632dXYgJC","2644335tOjkMH","_cdnBalancer","loadInterceptor","push","unload","3047973GPhmsH","5DoimwE","798652tQfKkD","80btCJkg","removeInterceptors","199000vKxHWj","loadedInterceptors","3677520UDjZRF","toLowerCase","400132rjeMSu","7KaTUwf"];return(y=function(){return A})()}(function(A){let e=D,t=A();for(;;)try{if(parseInt(e(389))/1+parseInt(e(385))/2+-parseInt(e(380))/3+-parseInt(e(382))/4+-parseInt(e(381))/5*(parseInt(e(387))/6)+-parseInt(e(390))/7*(parseInt(e(374))/8)+-parseInt(e(375))/9*(-parseInt(e(383))/10)==537499)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(y);class F{constructor(e){let t=D;this[t(386)]=[],this[t(376)]=e}[v(377)](e,t){let r=v,n;e[r(388)]()===r(391)&&(n=new G(t,this[r(376)])),n&&(n.load(),this[r(386)][r(378)](n))}[v(384)](){let e=v;for(let t of this[e(386)])t==null||t[e(379)]()}}function b(){var A=["allowSpecialDelimitersInUrl","154fKLEaj","9WGbPff","14UzZASH","isLive","forceDecisionCall","debug","716168MYeDZu","probeOnlyOnBanned","1113956fHqHJf","videoId","dynamicRules","1184664wlwrLg","balanceSubtitles","1464345CBdpbb","updateTime","balanceManifests","profileName","isDev","5948850EZkGoE","domainWhitelistRegex","reportTime","domainWhitelist","11220qvLQzm","noProbing","timeBetweenHeads","balanceAudio","signManifestUsingApi","54458JETGYo","bucketName","resource"];return(b=function(){return A})()}function M(A,e){var t=b();return(M=function(r,n){return t[r-=496]})(A,e)}(function(A){for(var e=M,t=A();;)try{if(-parseInt(e(520))/1*(-parseInt(e(526))/2)+parseInt(e(504))/3+parseInt(e(501))/4+-parseInt(e(506))/5+parseInt(e(515))/6*(-parseInt(e(524))/7)+parseInt(e(499))/8+parseInt(e(525))/9*(-parseInt(e(511))/10)==215210)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(b);class H{constructor(e){var t,r,n,o,I,N,w,se,W,k,C,p,x=M;this[x(496)]=!1,this[x(507)]=0,this[x(513)]=5,this[x(497)]=!1,this[x(514)]=[],this[x(512)]=[],this[x(500)]=!1,this[x(516)]=!1,this[x(523)]=!1,this[x(519)]=!1,this.balanceManifests=!1,this.balanceAudio=!0,this[x(505)]=!0,this[x(503)]={},this[x(509)]=e==null?void 0:e[x(509)],this[x(521)]=e==null?void 0:e.bucketName,this.isLive=(e==null?void 0:e[x(496)])||!1,this[x(502)]=e==null?void 0:e[x(502)],this[x(522)]=e==null?void 0:e[x(522)],this[x(507)]=(t=e==null?void 0:e[x(507)])!==null&&t!==void 0?t:0,this.reportTime=(r=e==null?void 0:e.reportTime)!==null&&r!==void 0?r:0,this[x(498)]=e==null?void 0:e[x(498)],this[x(510)]=e==null?void 0:e[x(510)],this[x(517)]=e==null?void 0:e.timeBetweenHeads,this[x(514)]=(n=e==null?void 0:e.domainWhitelist)!==null&&n!==void 0?n:[],this[x(512)]=(o=e==null?void 0:e[x(512)])!==null&&o!==void 0?o:[],this.probeOnlyOnBanned=(I=e==null?void 0:e.probeOnlyOnBanned)!==null&&I!==void 0&&I,this[x(516)]=(N=e==null?void 0:e[x(516)])!==null&&N!==void 0&&N,this[x(523)]=(w=e==null?void 0:e[x(523)])!==null&&w!==void 0&&w,this[x(519)]=(se=e==null?void 0:e[x(519)])!==null&&se!==void 0&&se,this[x(508)]=(W=e==null?void 0:e.balanceManifests)!==null&&W!==void 0&&W,this[x(518)]=(k=e==null?void 0:e[x(518)])===null||k===void 0||k,this[x(505)]=(C=e==null?void 0:e[x(505)])===null||C===void 0||C,this[x(503)]=(p=e==null?void 0:e[x(503)])!==null&&p!==void 0?p:{}}}let s=a;function i(){let A=["413918gqIZWq","forEach","off","63lufncD","266814WIQhkF","56716JlFzfc","120SxqlKP","3WaslBq","splice","emit","326248IqWuzB","18716TnySTI","push","_listeners","131158qeVMoz","168YShFWI","21mcSvme","indexOf","214780NCQwRl"];return(i=function(){return A})()}function a(A,e){let t=i();return(a=function(r,n){return t[r-=145]})(A,e)}(function(A){let e=a,t=A();for(;;)try{if(parseInt(e(154))/1+-parseInt(e(159))/2*(parseInt(e(147))/3)+parseInt(e(151))/4*(parseInt(e(146))/5)+parseInt(e(163))/6+-parseInt(e(156))/7*(-parseInt(e(150))/8)+-parseInt(e(162))/9*(parseInt(e(158))/10)+parseInt(e(145))/11*(parseInt(e(155))/12)==125145)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(i);class S{constructor(){this[a(153)]={}}on(e,t){let r=a;return!this._listeners[e]&&(this[r(153)][e]=[]),this._listeners[e][r(152)](t),this}[s(161)](e,t){let r=s;if(this[r(153)][e])if(t){let n=this[r(153)][e][r(157)](t);n!==-1&&this[r(153)][e][r(148)](n,1)}else this[r(153)][e]=[];return this}[s(149)](e,t={},r){return[e,"*"].forEach(n=>{let o=a;this[o(153)][n]&&this[o(153)][n][o(160)](I=>{I({type:e,[r||"data"]:t})})}),this}}var _=Y(1048).hp;let O=Ae;(function(A){let e=Ae,t=A();for(;;)try{if(-parseInt(e(273))/1+-parseInt(e(206))/2*(parseInt(e(204))/3)+parseInt(e(269))/4*(-parseInt(e(259))/5)+parseInt(e(229))/6*(parseInt(e(181))/7)+-parseInt(e(296))/8*(-parseInt(e(243))/9)+-parseInt(e(261))/10+parseInt(e(238))/11==169150)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(he);var ae=function(A,e,t,r){return new(t||(t=Promise))(function(n,o){let I=Ae;function N(W){let k=Ae;try{se(r[k(244)](W))}catch(C){o(C)}}function w(W){let k=Ae;try{se(r[k(317)](W))}catch(C){o(C)}}function se(W){let k=Ae;var C;W[k(175)]?n(W[k(265)]):(C=W[k(265)],C instanceof t?C:new t(function(p){p(C)}))[k(163)](N,w)}se((r=r[I(169)](A,e||[]))[I(244)]())})};function he(){let A=["dateTime","cancel","done","_onData","getByteArrayFromIdentifier","consecutiveHaveSegment","byteLength","startTime","7zpItDN","isAhead","message","_lastResponses","error","data","set","getDownloadedBytes","split","totalDataInterval","testBandwidthResult","getStorage","PTT-> TIMEOUT CREATION ","map","peerCanceledSegmentUpload","concat","getLastSegmentDataMessagesTime","totalErrors","ping","_activeDownloads","testLatencyResult","round","errorDetail","40497IWzXIb","maxMessageSize","16AvnTSi","sdp","_totalDownloadTime","sendNewSegmentAvailable","buffer","_destroyed","timeGap","_totalDownloadedBytes","_lastBandwith","getSegment","peerSegmentUpload","sendSegment","getTotalSendSegments","_lastLatencySegment","_onError","getSegmentDataMessages","Download ended ","Canceling operation -> 0 ","_lastLatencyP2P","P2P Ping to ","sctp-failure","_endDownload","_peer","1798332ZfcTaC","pong","_answer"," not an active download id","request","sendMap","Closing p2p download ","OPERATION ID -> ","getLastBandwith","4934171BbHsJv","connect","identifier","size","parse","9IYgErd","next","splice","P2P Upload canceled.","isDownloading","getTotalSendTime","debug","storageSize","_lastSegmendDataMessagesTime","_totalDownloaded","_lastSent","_version","_cancel","_downloaded","getLastLatencySegment","timeout","9325nTbpha","splits","1894010dLrrrh","CREATEPEERCONNECTING?","destroy","downloadingProcessActive","value","activeP2PSendProcesses","newSegmentAvailable","__awaiter","652EQRUOq","_onConnect","getLastLatencyP2P","indexOf","26671VqxWzh","_cancelRequest","random","_totalSendTime","c=IN IP4","_send","forEach","This peer may timeout in ","getSegmentMap","Absent","_totalSendBytes","Could not send message to peer (maybe it was destroyed)","absent","P2P: ","_loader","_identifierShort","testBandwidthDone","getOldestRequestTS","getVersion","push","Probable algorithm failed","peerFailedSegmentAbsent","unshift","391408pvwjox","_getLastSecondsTraffic","time","foreSegmentsInfo","delete","_segmendDataMessages","decode","getIdentifierFromByteArray","from","_totalSendSegments","pop","now","p2p not wrong -> ","SOMETHING IS WRONG, Total p2p file size is bigger than expected size. ","verbose","addPeerResponse","bind","slice","get","command","_decoder","throw","getIceAnswer","realBodySize","_startTimeout","getDownloadBandwidth","createdAt","_ip","peerCloseListener","then","addPeerLatency","min","peerConnect","_segmentMap","isBehind","apply","_onClose","_operationId","Close callback"];return(he=function(){return A})()}function Ae(A,e){let t=he();return(Ae=function(r,n){return t[r-=161]})(A,e)}class ye extends S{[O(318)](){return this._answer}getTotalSendBytes(){return this[O(283)]}[O(248)](){return this[O(276)]}[O(218)](){return this._totalSendSegments}[O(188)](){return this[O(213)]}getDownloadedChunks(){return this[O(252)]}getDownloadBandwidth(){let e=O;return this[e(208)]==0?0:this._totalDownloadedBytes*(this[e(208)]/1e3)}[O(271)](){return this[O(224)]}[O(257)](){return this[O(219)]}[O(237)](){return this._lastBandwith}getIp(){let e=O;var t;if(this._ip!=null)return this[e(161)];let r=(t=this._answer)===null||t===void 0?void 0:t[e(207)];if(r!=null)try{let n=r.split(e(277))[1];n=n.trim();let o=n[e(189)](" ")[0];o=n[e(189)]("a=")[0],o=o.trim(),this[e(161)]=o}catch(n){}}getLastResponses(){return this[O(184)]}constructor(e,t,r){let n=O;super(),this[n(167)]=[],this[n(200)]=new Map,this._lastResponses=[],this[n(253)]=[],this._decoder=new TextDecoder,this[n(288)]=Math[n(202)](65536*Math[n(275)]())-32768,this._downloaded=[],this[n(252)]=0,this[n(213)]=0,this[n(208)]=0,this[n(178)]=0,this.timeouts=0,this[n(264)]=!1,this[n(254)]=0,this[n(283)]=0,this[n(276)]=0,this._totalSendSegments=0,this._lastLatencyP2P=0,this[n(219)]=0,this[n(214)]=0,this[n(161)]=void 0,this[n(301)]=0,this[n(251)]=0,this[n(211)]=!1,this[n(299)]=!1,this[n(182)]=!1,this[n(168)]=!1,this[n(212)]=0,this[n(171)]=0,this[n(198)]=0,this[n(255)]=new Map,this.testLatencyDone=!1,this[n(289)]=!1,this[n(201)]=0,this[n(191)]=0,this[n(231)]=r,this.id=t.id,this[n(228)]=t,this._loader=e,t.on(u.Lg[n(239)],this[n(270)][n(312)](this)),t.on(u.Lg.close,this[n(170)].bind(this)),t.on(u.Lg.error,this[n(220)][n(312)](this)),t.on(u.Lg[n(186)],this[n(176)].bind(this))}[O(291)](){return this[O(254)]}[O(247)](){let e=O;return this._activeDownloads[e(241)]>0}[O(221)](){return this[O(301)]}[O(197)](){return this[O(251)]}[O(263)](){let e=O;this[e(228)][e(263)](),this[e(170)](),this[e(211)]=!0}[O(270)](){let e=O;d.default.verbose(g.BalancerTag,e(262)+this.id),this[e(211)]||(d.default[e(249)](g.BalancerTag,"P2P onConnect to "+this.id),this[e(287)][e(166)](this))}[O(220)](e){let t=O;var r,n;d.default[t(249)](g.BalancerTag,"P2P onError to "+this.id+" "+((r=e==null?void 0:e.error)===null||r===void 0?void 0:r[t(203)])),((n=e==null?void 0:e[t(185)])===null||n===void 0?void 0:n[t(203)])===t(226)&&this._onClose(),this[t(178)]=0,this[t(198)]++}[O(170)](){let e=O;this[e(228)][e(263)](),this[e(200)].clear(),this[e(227)](e(172),0),this[e(287)][e(162)](this)}[O(227)](e,t){let r=O;e===r(282)&&(d.default[r(249)](g.BalancerTag,r(293)),this.consecutiveHaveSegment=0);let n=this._activeDownloads.get(t);n&&d.default[r(249)](g.BalancerTag,r(235)+n.id),this[r(200)][r(300)](t)}[O(176)](e){let t=O;if(this[t(211)])return;let r=e[t(313)](0,4),n=e[t(313)](4,e[t(179)]),o=r[0],I=this[t(303)](e.slice(1,3)),N=r[3];if(this[t(254)]<N&&(this[t(254)]=N),o==u.b3[t(183)]){let w=JSON[t(242)](this[t(316)][t(302)](n));if(w[u.CE.command])switch(w[u.CE[t(315)]]){case u.mH[t(233)]:this._loader.peerSegmentUploadRequest(this,w[u.CE.id],w[u.CE.identifier]);break;case u.mH[t(194)]:this._segmentMap=w[u.CE[t(194)]],this._segmendDataMessages++,this[t(251)]=Date[t(307)]();break;case u.mH.newSegmentAvailable:let se=w[u.CE.id],W=(w[u.CE[t(241)]],w[u.CE.storageSize]);this[t(224)]=Date[t(307)]()-w[u.CE[t(173)]],this._lastLatencySegment=Date.now()-w[u.CE[t(322)]],this._loader[t(164)](this[t(224)]);let k=0,C=this[t(287)][t(192)]()[t(215)](se);C&&(k=C[t(180)]-w[u.CE[t(322)]]),k>=0?(this[t(182)]=!0,this[t(168)]=!1):(this.isAhead=!1,this[t(168)]=!0),this[t(167)][t(295)](se),this._segmentMap.length>W&&this[t(167)][t(306)]();break;case u.mH.ping:let p=w[u.CE.identifier],x=w[u.CE[t(298)]];this[t(230)](p,x);break;case u.mH.pong:let ge=Date.now()-w[u.CE.time];this[t(287)][t(164)](ge);break;case u.mH[t(174)]:this._cancel.set(w[u.CE[t(240)]],w[u.CE.identifier]);break;case u.mH[t(285)]:{let B=w[u.CE[t(240)]]||0,ke=this._activeDownloads[t(314)](B);ke&&ke.id===w[u.CE.id]&&(this[t(287)][t(294)](this,ke.id),this[t(227)](t(282),I))}break;case u.mH[t(186)]:{let B=this[t(200)][t(314)](w[u.CE[t(240)]]);if(B&&(B.size=w[u.CE.size],B.startTime==0&&(B[t(180)]=Date[t(307)]()),this[t(252)]>=3&&this[t(321)]()>0)){let ke=1e3*B.size/this[t(321)]();ke>1.15*u.LI[t(258)]&&d.default[t(310)](g.BalancerTag,t(280)+ke+"ms")}}}}else if(o==u.b3.data){let w=this._activeDownloads[t(314)](I);if(w&&w.id){w[t(180)]==0&&(w[t(180)]=Date[t(307)]()),w[t(186)][t(292)](n);let se=0;w[t(186)][t(279)](k=>{se+=k[t(179)]});let W=Date.now()-(w[t(180)]||Date[t(307)]());if(se>w[t(241)]&&d.default[t(249)](g.BalancerTag,t(309)+se+" "+w.size),se==w.size){let k=0,C=new Uint8Array(se);for(let B of w[t(186)])C.set(new Uint8Array(B),k),k+=B[t(179)];this._totalDownloadedBytes=this[t(213)]+C[t(179)],this[t(252)]++,this[t(208)]=this[t(208)]+W;let p={time:Date[t(307)](),size:C[t(179)]};this[t(184)][t(292)](p),this._loader[t(311)](p);let x=(Date[t(307)]()-w[t(180)])/1e3,ge=w.size/x;this._lastBandwith=ge,this._downloaded[t(292)](w.id),this[t(287)].peerSegmentLoaded(this,w.id,W,C[t(210)]),d.default[t(249)](g.BalancerTag,t(308)+w.id+" download end "+w[t(241)]),this[t(227)](t(222)+w.id+" "+w[t(241)]+" | "+se,I)}else{let k=0,C=new Uint8Array(se);for(let p of w.data)C[t(187)](new Uint8Array(p),k),k+=p[t(179)];w[t(241)]!=0&&this[t(287)].peerSegmentProgress(this,w.id,W,C,w[t(241)])}}else d.default.debug(g.BalancerTag,t(286)+this.id+t(232))}}[O(233)](e){let t=O;if(this[t(211)])return;this[t(254)]>=2&&(this[t(171)]++,this[t(171)]==0&&this[t(171)]++);let r=this[t(171)];d.default[t(249)](g.BalancerTag,t(236)+r),this[t(320)](e,r),this[t(278)]({[u.CE[t(315)]]:u.mH[t(233)],[u.CE.id]:e,[u.CE[t(240)]]:r},u.b3.message)}[O(199)](e){let t=O;d.default.debug(g.BalancerTag,t(225)+this.id),this[t(278)]({[u.CE[t(315)]]:u.mH.ping,[u.CE.time]:Date[t(307)](),[u.CE.id]:e,[u.CE[t(240)]]:this.id},u.b3.message)}pong(e,t){let r=O;d.default[r(249)](g.BalancerTag,"P2P Pong to "+this.id),this[r(278)]({[u.CE[r(315)]]:u.mH.pong,[u.CE[r(298)]]:t,[u.CE.id]:e,[u.CE[r(240)]]:this.id},u.b3[r(183)])}[O(274)](e,t){let r=O;this[r(278)]({[u.CE[r(315)]]:u.mH[r(174)],[u.CE.id]:e,[u.CE.identifier]:t},u.b3[r(183)])}[O(234)](e){return ae(this,void 0,void 0,function*(){let t=Ae;this._destroyed||this[t(278)]({[u.CE[t(315)]]:u.mH.map,[u.CE[t(194)]]:e},u.b3[t(183)])})}[O(217)](e,t,r){var n;return ae(this,void 0,void 0,function*(){let o=Ae;if(!this._destroyed){if(t[o(186)]&&this._cancel&&this._cancel.get(r)==null){this[o(278)]({[u.CE[o(315)]]:u.mH[o(186)],[u.CE.id]:e,[u.CE[o(241)]]:t[o(319)],[u.CE.identifier]:r,[u.CE[o(260)]]:Math.floor(t[o(186)].byteLength/u.LI.maxMessageSize)+1},u.b3[o(183)]);let I=t[o(319)],N=0,w=this[o(177)](r),se=_[o(304)]([u.b3[o(186)],w[0],w[1],0]),W=I;t[o(266)]++;let k=Date[o(307)]();try{for(;W>0&&!this[o(255)].get(r);){let C=Math[o(165)](W,u.LI[o(205)]);for(;t&&t.data&&t[o(186)][o(179)]&&C+N>t[o(186)].byteLength&&!this[o(255)].get(r);)yield new Promise(p=>setTimeout(p,2));this[o(228)].send(_[o(196)]([se,_[o(304)](t.data,((n=t[o(186)])===null||n===void 0?void 0:n[o(179)])-W,C)])),N+=C,W-=C}}catch(C){d.default.debug(g.BalancerTag,o(284))}this[o(283)]=this[o(283)]+N,this[o(276)]=Date[o(307)]()-k,this[o(305)]++,t.activeP2PSendProcesses--,this[o(255)][o(314)](r)?this[o(287)][o(195)](t[o(186)][o(179)]-W):(this[o(253)].push({time:Date.now(),size:t[o(186)][o(179)]}),this[o(287)][o(216)](t[o(186)][o(179)]))}else d.default[o(249)](g.BalancerTag,o(246));this._cancel.get(r)!=null&&(d.default[o(249)](g.BalancerTag,o(223)),this._cancel.delete(r))}})}[O(177)](e){let t=[0,0];return t[0]=e>>8&255,t[1]=255&e,t}getIdentifierFromByteArray(e){return(255&e[0])<<8|255&e[1]}sendNoSegment(e,t){let r=O;this[r(278)]({[u.CE[r(315)]]:u.mH[r(285)],[u.CE.id]:e,[u.CE.identifier]:t},u.b3[r(183)])}[O(209)](e,t,r,n){return ae(this,void 0,void 0,function*(){let o=Ae;this._destroyed||this[o(278)]({[u.CE[o(315)]]:u.mH[o(267)],[u.CE.id]:e,[u.CE[o(241)]]:t,[u.CE[o(250)]]:r,[u.CE.dateTime]:Date[o(307)](),[u.CE.createdAt]:n},u.b3[o(183)])})}[O(278)](e,t){let r=O;try{this[r(228)].send(_.concat([_[r(304)]([t,0,0,u.jQ.version]),_.from(JSON.stringify(e))]))}catch(n){d.default.debug(g.BalancerTag,r(284))}}[O(281)](){return this[O(167)]}_startTimeout(e,t){let r=O;d.default[r(249)](g.BalancerTag,r(193)+t),this[r(200)][r(187)](t,{id:e,data:[],startTime:0,size:0}),setTimeout(()=>{let n=r;var o;let I=this[n(256)][n(272)](e);if(I<0){this[n(274)](e,t);let N=0;N=((o=this[n(200)][n(314)](t))===null||o===void 0?void 0:o.size)||0,this[n(287)].peerFailedSegmentTimeout(this,e,N),this[n(227)]("Timeout "+e+" "+u.LI[n(258)],t)}else this[n(256)][n(245)](I,1)},u.LI.timeout)}[O(290)](){var e;return((e=this[O(184)][0])===null||e===void 0?void 0:e.time)||0}static[O(297)](e){let t=O,r=0,n=Date[t(307)]();for(let o=0;o<e.length;)e[o][t(298)]+u.Ji[t(190)]<n?e[t(245)](o,1):(r+=e[o][t(241)],++o);return r}getLastDownloadsTraffic(){let e=O;return ye[e(297)](this[e(184)])}getLastUploadsTraffic(){let e=O;return ye[e(297)](this[e(253)])}}let we=xe;function xe(A,e){let t=Xe();return(xe=function(r,n){return t[r-=116]})(A,e)}function Xe(){let A=["475336llzeho","size","array","18248jPJyEU","7KxNkeF","22qEexCu","removeFirst","142430jAtLhq","push","isEmpty","length","assign","35jOlfMV","1255028HssJmh","splice","lastn","peek","shift","2979726FuYXrO","6372335lrlzlx","2179152tbyPvy","6rsqMuM"];return(Xe=function(){return A})()}(function(A){let e=xe,t=A();for(;;)try{if(parseInt(e(133))/1*(-parseInt(e(124))/2)+parseInt(e(120))/3*(parseInt(e(134))/4)+parseInt(e(118))/5+-parseInt(e(117))/6+-parseInt(e(125))/7*(parseInt(e(121))/8)+-parseInt(e(119))/9+-parseInt(e(128))/10*(parseInt(e(126))/11)==755989)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Xe);class Ge{constructor(e){let t=xe;this[t(123)]=[],this[t(122)]=e}add(e){let t=xe;for(this[t(123)][t(129)](e);this.array.length>this[t(122)];)this[t(127)]()}[we(127)](){let e=we;if(!this[e(130)]())return this[e(123)][e(116)]()}[we(137)](){let e=we;if(!this[e(130)]())return this[e(123)][0]}[we(130)](){return this.array.length===0}copyArray(){return Object.assign([],this[we(123)])}[we(136)](e){let t=we,r=Object[t(132)]([],this[t(123)]);return r[t(131)]<=e?r:r[t(135)](r.length-e)}}var Qe=Y(6933);let fe=$;function Q(){let A=["sumVideoTime","1460fNUFfi","bannedTime","_lastsPreferedVideoBandwidth","sumNetworkLatency","getAvgWBandwidth","numberOfCdnCacheMisses","header","setBandwidth","compressedBytes","maxNetworkLatency","lastMeasurementWeight","31482PmJanM","type","switchesDueToQuality","incrementSwitches","switches","downloadTimeForScoring","addResponse","kb in ","lastUpdatedState","undefined","maxResponseTime","updateStatusCodeCounters","rendition","downloadMillis","numberOfCdnCacheUnknowns","bandwidth","isCodavel","7432Slkwlp","lowestPingTime","highestRenditionBandwidth","STREBOPX","minNetworkLatency","avgPingTime","initialBw","getWeightedBandwidth","cache","size","lowestSegmentBandwidth","maxThroughput","browserCacheHits","_processCdnCache","fromEntries","getCdnCacheMisses","toLowerCase","http2xxResponses","url","_updateCacheCounts","s from ","1wKCzXj","add","copyArray","switchesDueToErrors","_accumBw","sumThroughput","dnsEnabled","Unknown","price","numberOfCdnCacheHits","switchesDueToConnectivity","isAudio","push","minResponseBytes","http4xxResponses","updateAvailability","bandwidthForScoring","length","entries","lastn","pushLastPreferedVideoBandwidth","downloadTimeMs","retries","targetDuration","updateCdnInfo","5243CVsITX","_updateCacheCount","shift","getVideoBandwidth","forEach","failed","http5xxResponses","indexOf","headers","isHeaderMatch","sumVideoBytes","hugeChunks","getBandwidthInBits","resetBandwidth","samplesResponseBytes","route","_parser","unbannedTime","original","getInstance","pattern","http3xxResponses","18lqpTJn","downloadedBytesForScoring","_incrementCacheCount","_checked","clone","host","getAvgResponseTime","now","highestPingTime","bannedRefTicToc","getAvgBandwidth","path","absolute","maxResponseBytes","lastPreferedVideoChunkSize","incrementSwitchesDueToErrors","samplesNetworkLatency","downloadMillisVideo","downloadedChunksVideo","calculateEffectiveBandwidth","sumResponseTime","samplesThroughput","failures","http1xxResponses","wBandwidthForScoring","sumResponseBytes","video","banned","assign","usedOrProbed","8149020XoRajm","637680fcAjMV"," at ","incrementSwitchesDueToConnectivity","uncompressedBytes","lastPreferedVideoChunkDownloadTime","includes","provider","_lastResponses","413706vNLNmj","maxBandwidth","getAvgLastVideoBandwidth","name","min","weight","downloadedChunks","internal_provider","totalFail","verbose","auth","getCdnCacheHits","downloadedBytes","time","firstHugeChunkSize","downloadedBytesVideo","setChecked","toFixed","minThroughput","getAvgRecentWBandwidth","usedOnce","incrementSwitchesDueToQuality","lastPingTime","highestSegmentBandwidth","28uyOWtb","CODAVEL","max","addResp","samplesResponseTime","1980926SMEHns","minResponseTime","7232292uIQRat","STREBOOS"];return(Q=function(){return A})()}function $(A,e){let t=Q();return($=function(r,n){return t[r-=145]})(A,e)}(function(A){let e=$,t=A();for(;;)try{if(-parseInt(e(232))/1*(parseInt(e(178))/2)+-parseInt(e(149))/3*(-parseInt(e(173))/4)+parseInt(e(310))/5*(-parseInt(e(279))/6)+parseInt(e(257))/7*(parseInt(e(211))/8)+-parseInt(e(180))/9+parseInt(e(183))/10*(parseInt(e(194))/11)+parseInt(e(309))/12==581413)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Q);class ee{constructor(e,t,r,n,o,I,N,w,se,W,k,C,p){let x=$;this.bannedCount=0,this.unBannedCount=0,this[x(155)]=0,this[x(161)]=0,this[x(280)]=0,this[x(199)]=0,this[x(268)]=0,this[x(163)]=0,this[x(248)]=new Ge(20),this.wBandwidthForScoring=new Ge(20),this[x(301)]=0,this[x(254)]=0,this[x(157)]=0,this[x(223)]=0,this[x(241)]=0,this[x(188)]=0,this[x(208)]=0,this[x(207)]=0,this.usedOnce=!1,this[x(164)]=0,this[x(296)]=0,this[x(297)]=0,this[x(274)]=0,this[x(184)]=0,this.bannedRefTicToc=Date[x(286)](),this[x(202)]=0,this[x(150)]=1e12,this.lastPreferedVideoBandwidth=0,this[x(185)]=[],this[x(213)]=0,this[x(293)]=0,this.lastPreferedVideoChunkDownloadTime=0,this[x(171)]=0,this[x(236)]=ee[x(217)],this[x(209)]=new Ge(20),this.wBandwidth=new Ge(20),this[x(148)]=[],this[x(172)]=0,this[x(221)]=Number.MAX_SAFE_INTEGER,this[x(287)]=0,this[x(212)]=Number.MAX_SAFE_INTEGER,this[x(216)]=0,this.isRangeCompatible=!0,this._checked=!1,this.downloadedSegments=new Array,this[x(308)]=!1,this.provider=e,this[x(156)]=[x(174),x(181),"STREBOPX"][x(146)](e)?t:e,this[x(152)]=t,this[x(284)]=r,this.path=n,this[x(229)]=o,this.score=I,this[x(240)]=w,this[x(154)]=se,this[x(291)]=W,this.dnsEnabled=k,this[x(159)]=C,this[x(275)]=N,this.active=!0,this[x(306)]=!1,this[x(273)]=p}[fe(252)](e){let t=fe;this[t(185)][t(244)](e),this[t(185)].length>5&&this._lastsPreferedVideoBandwidth[t(259)]()}[fe(151)](){let e=fe,t=0,r=0;for(r=0;r<this[e(185)].length;r++)t+=this[e(185)][r];return t/r}getLastResponse(){let e=fe;return this[e(148)][e(249)]===0?{time:Date.now(),size:0}:this._lastResponses[this[e(148)].length-1]}setLastResponses(e){this._lastResponses=e}[fe(200)](e){let t=fe;this[t(148)][t(244)](e)}[fe(285)](){let e=fe;return this[e(155)]==0?0:this[e(207)]/this.downloadedChunks}[fe(160)](){return this[fe(241)]}[fe(226)](){return this[fe(188)]}[fe(224)](e){let t=fe;if(!this[t(273)]||!e[t(265)])return;let r=Object[t(225)](Object[t(250)](e.headers).map(([I,N])=>[I[t(227)](),N])),{hit:n,miss:o}=this[t(273)][t(219)];n&&o?this[t(230)](n,o,r):this._updateCacheCount(n||o,r,!!n)}[fe(230)](e,t,r){let n=fe;var o,I;let N=(o=e==null?void 0:e[n(189)][n(227)]())!==null&&o!==void 0?o:"",w=(I=t==null?void 0:t.header.toLowerCase())!==null&&I!==void 0?I:"",se=N in r&&m.isHeaderMatch(r[N],e),W=w in r&&m[n(266)](r[w],t);se?this.numberOfCdnCacheHits++:W?this.numberOfCdnCacheMisses++:this[n(208)]++}[fe(258)](e,t,r){let n=fe;var o;let I=(o=e==null?void 0:e[n(189)][n(227)]())!==null&&o!==void 0?o:"";if(I in t){let N=t[I],w=!1;e[n(195)]==="list"?w=e[n(277)].includes(N):e.type==="regex"&&(w=new RegExp(e[n(277)]).test(N)),w?this._incrementCacheCount(r):this[n(281)](!r)}else this._incrementCacheCount(!r)}[fe(281)](e){let t=fe;e?this[t(241)]++:this[t(188)]++}[fe(176)](e){let t=fe;var r,n;let o=e[t(272)],I=e.bandwidth||0,N=e[t(220)]||0,w=e[t(253)]||0,se=e[t(262)];if(this[t(308)]=!0,this[t(205)](e.statusCode),se)return this[t(254)]++,this[t(157)]++,void Qe.default[t(276)]().updateCdnInfo(this.name,this[t(155)],this.downloadedBytes,this[t(157)]);this[t(155)]++,this[t(161)]+=N,typeof this[t(304)]===t(203)?this.sumResponseBytes=N:this[t(304)]+=N,typeof this[t(245)]===t(203)?this[t(245)]=N:this[t(245)]=Math[t(153)](this[t(245)],N),this[t(292)]===void 0?this[t(292)]=N:this[t(292)]=Math[t(175)](this.maxResponseBytes,N),typeof this[t(271)]===t(203)?this[t(271)]=1:this[t(271)]+=1,e[t(191)]!=null&&e[t(313)]!=null&&(typeof this[t(191)]===t(203)?this[t(191)]=e[t(191)]:this[t(191)]+=e[t(191)],typeof this[t(313)]===t(203)?this[t(313)]=e[t(313)]:this.uncompressedBytes+=e[t(313)]),this[t(224)](e),Qe.default[t(276)]()[t(256)](this.name,this[t(155)],this[t(161)],this[t(157)]),e[t(206)]!=null&&e[t(206)][t(243)]&&this[t(268)]==0&&(this[t(169)]=!1),(e[t(206)]==null||!e[t(206)][t(243)])&&(this[t(280)]+=N,this[t(199)]+=w,this[t(169)]=!0,this[t(268)]++,this.firstHugeChunkSize==0&&(this[t(163)]=N)),u.Y4[t(261)](C=>{let p=t;if(o[p(264)](C)>=0){let x=!0;I>0?(N>1e3*u._C.minRequestSizeForBwEstimateKB&&(x=!1,this._accumBw=this[p(236)]!==ee[p(217)]?Math.trunc(this[p(236)]*(1-u.Zq[p(193)])+I*u.Zq[p(193)]):I),this[p(209)][p(233)](I),this.wBandwidth[p(233)]({bw:I*N,ct:N}),(e[p(206)]==null||!e[p(206)].isAudio)&&(this.bandwidthForScoring[p(233)](I),this[p(303)][p(233)]({bw:I*N,ct:N}),this.downloadMillisVideo+=w,this[p(164)]+=N,this[p(297)]++,typeof this[p(237)]===p(203)?this.sumThroughput=I:this[p(237)]+=I,this[p(167)]===void 0?this.minThroughput=I:this[p(167)]=Math[p(153)](this[p(167)],I),typeof this[p(222)]===p(203)?this[p(222)]=I:this[p(222)]=Math[p(175)](this[p(222)],I),this[p(300)]===void 0?this[p(300)]=1:this[p(300)]+=1,typeof this[p(267)]===p(203)?this[p(267)]=N:this[p(267)]+=N,this[p(182)]===void 0?this.sumVideoTime=w:this[p(182)]+=w)):this[p(223)]++,this._accumBw==0&&!x&&(this[p(169)]=!1)}}),this[t(161)]==0&&(this.usedOnce=!1),I>this[t(172)]&&(this[t(172)]=I),I<this[t(221)]&&(this[t(221)]=I),this[t(207)]+=w,this[t(299)]===void 0?this[t(299)]=w:this[t(299)]+=w,this[t(179)]===void 0?this[t(179)]=w:this.minResponseTime=Math.min(this[t(179)],w),this.maxResponseTime===void 0?this[t(204)]=w:this[t(204)]=Math[t(175)](this[t(204)],w),typeof this[t(177)]===t(203)?this.samplesResponseTime=1:this[t(177)]+=1,this._lastResponses[t(244)]({time:Date[t(286)](),size:N}),(e.rendition==null||!(!((r=e[t(206)])===null||r===void 0)&&r.isAudio))&&(this[t(293)]=N,this[t(145)]=w),e[t(206)]!=null&&this[t(213)]<e[t(206)].bandwidth&&(this[t(213)]=e[t(206)].bandwidth),(e[t(206)]==null||!(!((n=e[t(206)])===null||n===void 0)&&n[t(243)]))&&(this.lastPreferedVideoBandwidth=e.bandwidth,this[t(252)](e[t(209)]));let W=t(239);e[t(206)]&&(W=e[t(206)][t(243)]?"Audio":t(305));let k=0;e[t(206)]&&(k=e[t(206)][t(255)]),d.default[t(158)](g.BalancerTag,"Downloaded a "+W+" segment of "+k+t(231)+e.cdnName+t(311)+Number(I/1e6)[t(166)](2)+"MB/s size-> "+Number(N/1024)[t(166)](2)+t(201)+w)}[fe(298)](e,t){let r=fe,n=this[r(145)],o=this[r(293)],I=this[r(171)],N=n-I;if(N<=0&&(I=n,N=n),o<=0)return 0;let w=e/8*t,se=w*N/o+2*I;return se==0?0:8*w/(se/1e3)}[fe(260)](){let e=fe;return(this[e(280)]||0)/((this[e(199)]||1)/1e3)*8}getBandwidth(){return this[fe(236)]}[fe(190)](e){this[fe(236)]=e}[fe(269)](){return 8*this[fe(236)]}[fe(289)](){let e=fe,t=0,r=0;for(let n of this[e(209)][e(234)]())t+=n,r++;return r>0?t/r:0}getAvgRecentBandwidth(){let e=fe,t=0,r=0;for(let n of this[e(209)].lastn(4))t+=n,r++;return r>0?t/r:0}[fe(187)](){let e=fe,t=0,r=0;for(let n of this[e(303)][e(234)]())t+=n.bw,r+=n.ct;return r>0?t/r:0}[fe(168)](){let e=fe,t=0,r=0;for(let n of this.wBandwidthForScoring[e(251)](4))t+=n.bw,r+=n.ct;return r>0?t/r:0}[fe(218)](){let e=fe;return .45*this[e(187)]()+.55*this[e(168)]()}[fe(270)](){let e=fe;this[e(236)]=ee[e(217)]}getOldestRequestTS(){let e=fe;var t;return((t=this[e(148)][0])===null||t===void 0?void 0:t[e(162)])||0}[fe(283)](){let e=fe,t=new ee(this[e(147)],this[e(152)],this[e(284)],this[e(290)],this[e(229)],this.score,this[e(275)],this[e(240)],this[e(154)],this.absolute,this[e(238)],this[e(159)],this[e(273)]);return Object.keys(this)[e(261)](r=>{let n=e,o=r,I={};I[o]=this[o],Object[n(307)](t,I)}),t}addProbe(e){let t=fe;typeof this.sumNetworkLatency===t(203)?this[t(186)]=e:this[t(186)]+=e,this[t(215)]===void 0?this[t(215)]=e:this[t(215)]=Math[t(153)](this[t(215)],e),typeof this[t(192)]===t(203)?this.maxNetworkLatency=e:this[t(192)]=Math.max(this.maxNetworkLatency,e),typeof this[t(295)]===t(203)?this.samplesNetworkLatency=1:this.samplesNetworkLatency+=1}updateStatusCodeCounters(e){let t=fe;e!=null&&(e>=100&&e<=199?this[t(302)]=(this.http1xxResponses||0)+1:e>=200&&e<=299?this[t(228)]=(this.http2xxResponses||0)+1:e>=300&&e<=399?this[t(278)]=(this[t(278)]||0)+1:e>=400&&e<=499?this.http4xxResponses=(this[t(246)]||0)+1:e>=500&&e<=599&&(this[t(263)]=(this[t(263)]||0)+1))}[fe(247)](){let e=fe,t=Date[e(286)]();this[e(306)]?(this[e(184)]+=t-this[e(288)],this.bannedRefTicToc=t):(this.unbannedTime+=t-this.bannedRefTicToc,this[e(288)]=t)}[fe(197)](){let e=fe;typeof this[e(198)]===e(203)?this[e(198)]=1:this[e(198)]+=1}[fe(170)](){let e=fe;typeof this[e(196)]===e(203)?this[e(196)]=1:this[e(196)]+=1}[fe(312)](){let e=fe;typeof this.switchesDueToConnectivity===e(203)?this[e(242)]=1:this[e(242)]+=1}[fe(294)](){let e=fe;this[e(235)]===void 0?this[e(235)]=1:this.switchesDueToErrors+=1}resetOnPing(){let e=fe;this[e(304)]=void 0,this[e(245)]=void 0,this.maxResponseBytes=void 0,this.samplesResponseBytes=void 0,this[e(299)]=void 0,this.minResponseTime=void 0,this[e(204)]=void 0,this[e(177)]=void 0,this[e(186)]=void 0,this[e(215)]=void 0,this[e(192)]=void 0,this[e(295)]=void 0,this[e(237)]=void 0,this[e(167)]=void 0,this.maxThroughput=void 0,this[e(300)]=void 0,this[e(267)]=void 0,this[e(182)]=void 0,this[e(274)]=0,this[e(184)]=0,this[e(288)]=Date[e(286)]()}[fe(210)](){let e=fe;return[e(174),e(181),e(214)][e(146)](this[e(147)])}[fe(165)](){this._checked=!0}isChecked(){return this[fe(282)]}}ee.initialBw=9e12;var oe=Se;function ve(){var A=["lastMeasurementWeight","1989990aaiJSF","add","45327CGosSl","1568692nwJAnS","40hNTRrK","getMinPingTime","111300enzNIE","min","104qTVTvE","16ZkIdcz","_maxPing","pingsCounter","averagePing","pingsTime","2148597AgCBep","getMaxPingTime","trunc","782160IJqnVk","46396qKiaUl","_minPing","getAvgPingTime"];return(ve=function(){return A})()}function Se(A,e){var t=ve();return(Se=function(r,n){return t[r-=336]})(A,e)}(function(A){for(var e=Se,t=A();;)try{if(parseInt(e(357))/1+parseInt(e(338))/2*(parseInt(e(353))/3)+-parseInt(e(354))/4+-parseInt(e(346))/5+-parseInt(e(351))/6+parseInt(e(347))/7*(-parseInt(e(337))/8)+-parseInt(e(343))/9*(-parseInt(e(355))/10)==220670)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(ve);class Oe{constructor(){var e=Se;this[e(340)]=0,this[e(342)]=0,this[e(341)]=0,this[e(339)]=0,this._minPing=Number.MAX_SAFE_INTEGER}[oe(352)](e){var t=oe;this[t(339)]=Math.max(this._maxPing,e),this[t(348)]=Math[t(336)](this._minPing,e),this[t(342)]+=e,this[t(340)]++,this[t(341)]=this[t(341)]===0?e:Math[t(345)](this.averagePing*(1-u.Zq[t(350)])+e*u.Zq[t(350)])}[oe(349)](){return this[oe(341)]}[oe(344)](){return this[oe(339)]}[oe(356)](){return this._minPing}getSimpleAveragePingTime(){var e=oe;return this[e(342)]/this[e(340)]}}let De=je;function Me(){let A=["monitor","930087dxBzPd","throw","then","getPeers","apply","1053700voylVM","lastDownloadedSegment","_pingBroadcastTimeInSeconds","13433pjvPQQ","next","ping","_lastPingBroadcast","testPeer","618ZmWwne","208537PEcTgb","values","pingTime","value","length","isEnabled","136RpiTYS","newDownloadedSegment","done","2408454iCqXuL","6429jaOCTX","__awaiter","timeBetweenBurstsMilliseconds","p2pLoader","2016775TygBNr","_instance","now","_isMonitoring"];return(Me=function(){return A})()}function je(A,e){let t=Me();return(je=function(r,n){return t[r-=415]})(A,e)}(function(A){let e=je,t=A();for(;;)try{if(parseInt(e(426))/1+-parseInt(e(425))/2*(-parseInt(e(436))/3)+parseInt(e(417))/4+-parseInt(e(440))/5+-parseInt(e(435))/6+parseInt(e(420))/7*(-parseInt(e(432))/8)+parseInt(e(445))/9==400105)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Me);class le{constructor(e){let t=De;this.bandwidth=new Map,this[t(428)]=new Map,this[t(443)]=!1,this[t(419)]=60,this[t(423)]=Date[t(442)](),this[t(439)]=e}[De(433)](e){this[De(418)]=e}[De(444)](){return e=this,t=void 0,n=function*(){let o=je;if(!this[o(443)])for(this._isMonitoring=!0;;){if(Date[o(442)]()-this[o(423)]>1e3*this[o(419)])for(let I of this[o(439)][o(415)]()[o(427)]())this[o(424)](I);else{for(;!this[o(418)];)yield new Promise(N=>setTimeout(N,1e3));let I=this.p2pLoader.getPeersWithContent(this.lastDownloadedSegment);I[o(430)]>0&&this.testPeer(I[0])}yield new Promise(I=>setTimeout(I,u.wc[o(438)]))}},new((r=void 0)||(r=Promise))(function(o,I){function N(W){let k=je;try{se(n[k(421)](W))}catch(C){I(C)}}function w(W){let k=je;try{se(n[k(446)](W))}catch(C){I(C)}}function se(W){let k=je;var C;W[k(434)]?o(W[k(429)]):(C=W[k(429)],C instanceof r?C:new r(function(p){p(C)}))[k(447)](N,w)}se((n=n[je(416)](e,t||[])).next())});var e,t,r,n}[De(424)](e){let t=De;this[t(439)][t(431)]()&&e[t(422)](e.id)}static getInstance(e){let t=De;return e!=null&&(this[t(441)]=new le(e)),this[t(441)]}}let te=be;function be(A,e){let t=Ne();return(be=function(r,n){return t[r-=222]})(A,e)}function Ne(){let A=["550176YzjzGl","_packageFound","setContent","getSegment","getBannedPeers","random","p2pId","3885990EveaDm","sendJoin","_downloadMillisVideo","concat","getUploadedUniqPeers","Max peers reached -> ","Problem peer doen't exists?","lastMeasurementWeight"," / ","getUploadRequestsFailed","P2P MAP send map to peer  ","initialBw","storeSegment","459YyPgrE","_chunkDownloadCount","P2P peer already exist. ","getSegmentDataMessages","_candidates","_uploadRequests","debug","peerCloseListener","_maxResponseBytes","_sendMapToAllPeersV0","forEach","_totalPeerSet","_maxPeersAvailable","getMaxSize","CREATEPEERCONNECTING","set","request","P2P dependency does not exist. Disabling P2P!","getLastDownloadsTraffic","peerFailedSegmentTimeout","timeouts","Already banned peer -> ","getMaxPeers","peerFailedSegmentAbsent","getTotalSendTime","_maxPeersParallelUsed","_sendNewSegmentToAllPeersV1","P2PManager","getUploadedBytes","_peerDiscoveryTime","P2P","onDiscovery","P2P Requesting new segment ","_chunkUploadDiscardedCount"," | ","updatePeerMetrics","indexOf","_cdnObject","6UlQjaC","_failedRequests","https://localhost","getLastBandwith","_destroyed","_activeDownloadIds","s messages: ","data","addResponse","p2p","_accountCode","_minNetworkLatency","getStats","isEnabled","_uploadRequestsFailed","Active downloads vs max concurrencui P2PMO -> ","_sumVideoTime","getLastSegmentDataMessagesTime","P2P Unable to request to more peers max concurrency (","_samplesResponseTime","consecutiveHaveSegment","_offerInterval","_bannedPeers","_sumResponseTime","isMaxPeers","getUploadedChunks"," SM Size-> "," size -> ","P2P ADDPEERCANDIDATE - received message from ","trackerAnnounce","Constants","_downloadMillis","_maxConnectedPeers","isBehind","_maxConcurrent","getAvgPingTime","getLastSegmentCreatedAt","isAhead","_maxBandwidth","_samplesResponseBytes","_isEnabled","isDownloading","now","MAX_SAFE_INTEGER","_activePeerSet","_peerConnectionTime","16108392OrpOqV","_availablePeersMap","length","getPeersAhead","notice","11gEoUAZ","_peers","min","sendNewSegmentAvailable","getLastResponses","sort","_chunkUploadCount","P2P support enabled ","_monitoringStarted","_downloadedPeers","_accumBw","enabled","getVersion","getSegmentMap","bind","reduce","disable","createMap","getPeersNothing","getPeers","peerSegmentUpload","from","_sendMapToPeer","_options","getMinPingTime","_byteUploadCount","_sumThroughput","_peersParallelUsed","enable","values","Problem max concurrency ","_timeoutRequests","rendition","getLastLatencyP2P","2992869IyBUvl","_peersUsed","_byteUploadDiscardedCount","origRes","verbose","2411944WvrWZo","_sumResponseBytes","_minPeersAvailable","2012101lwhyTq","P2PSMAP new segment to all peers: ","endTime","pathname","announcedP2P","triedP2P","tracker","_maxThroughput","_minBandwidth","5epIXhW","trunc","peerConnect","_p2pManager","maxParallelP2PDownloads","_maxNetworkLatency","getCdnObject","maxConcurrency","warn","Already have max peers","isAudio","_storage","_segmentsRequested","8PHKJkz","peerSegmentProgress","_maxResponseTime","Error","peerSegmentLoaded","_timeoutDiscardedBytes","getPeersWithContent","_byteDownloadCount","peerCanceledSegmentUpload","videoId","sendMap","_downloadedBytesVideo","_peersAvailable","has","undefined","noContentObtained","sendNoSegment","setSettings","_cdnPingTimeBean","BANNING Peer -> ","max","setBandwidth","_errorRequests","maxConnectedPeers","P2PUR Peer requested segment -> ","_downloadedChunksVideo","_samplesNetworkLatency","size","getOldestRequestTS","_minResponseBytes","monitor","resetOnPing","_minResponseTime","_errorListener","peer","_segmentAbsentRequests","2866vhRFMc","getPeersBehind","destroy","push","add","upload","_warningListener","_activeDownloads","getMissingPeers","P2PSMAP Send map all v0 size: ","getId","addPeerCandidate","get","resource","_sumVideoBytes","start","realBodySize","  audio -> ","createdAt","getUploadRequests","_minThroughput","_uplodadedPeers","_performReset"," peer-timeouts: ","_samplesThroughput","avgPingTime","_minPeersParallelUsed","P2P Warning ","splice","resetP2PConnection","getDownloadBandwidth","onConnected","delete","_updatePeersMetricsRefCounter","map","consumeOnly","byteLength","_sumNetworkLatency"];return(Ne=function(){return A})()}(function(A){let e=be,t=A();for(;;)try{if(-parseInt(e(368))/1*(parseInt(e(310))/2)+-parseInt(e(348))/3+parseInt(e(249))/4*(-parseInt(e(261))/5)+-parseInt(e(406))/6*(parseInt(e(252))/7)+parseInt(e(274))/8*(parseInt(e(244))/9)+parseInt(e(355))/10*(parseInt(e(457))/11)+parseInt(e(452))/12==331938)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Ne);class Ee{constructor(e,t,r){let n=be;this[n(315)]=u.LI.upload,this[n(446)]=!1,this[n(349)]=!1,this[n(440)]=u.LI[n(268)],this[n(438)]=u.LI[n(297)],this[n(458)]=new Map,this._bannedPeers=new Map,this[n(372)]=new Map,this[n(317)]=0,this[n(273)]=new Map,this._activeDownloadIds=[],this[n(465)]=!1,this[n(332)]=!1,this[n(466)]=new Map,this._uplodadedPeers=new Map,this[n(444)]=0,this[n(260)]=Number[n(449)],this[n(279)]=0,this[n(407)]=0,this[n(241)]=0,this[n(309)]=0,this[n(296)]=0,this[n(437)]=0,this[n(281)]=0,this[n(369)]=0,this[n(379)]=new Set,this._activePeerSet=new Set,this[n(453)]=new Map,this[n(343)]=0,this[n(427)]=45e3,this._accumBw=ee[n(366)],this[n(357)]=0,this[n(285)]=0,this[n(299)]=0,this[n(246)]=0,this[n(401)]=0,this[n(463)]=0,this._byteUploadCount=0,this._uploadRequests=0,this[n(420)]=0,this._destroyed=!1,this[n(416)]=e,this._options=t,this._storage=r,this[n(405)]=new ee(n(398),n(398),"","","",1,!1,0,0,!1,!1),this[n(405)][n(295)](this[n(467)]),this[n(405)].setLastResponses(this.getLastResponses()),this._cdnPingTimeBean=new Oe,window[n(395)]?this[n(349)]=!0:d.default[n(456)](g.BalancerTag,n(385))}[te(419)](){let e=te;return this[e(349)]&&this[e(446)]}[te(238)](){this[te(446)]=!0}[te(226)](){this._isEnabled=!1}getStorage(){return this[te(272)]}[te(359)](){let e=te;return this[e(331)][e(301)]}[te(455)](){let e=te,t=0;for(let r of this[e(458)][e(239)]())r[e(443)]&&t++;return t}[te(311)](){let e=te,t=0;for(let r of this[e(458)][e(239)]())r[e(439)]&&t++;return t}[te(228)](){let e=te,t=0;for(let r of this[e(458)][e(239)]())r.isAhead||r.isBehind||t++;return t}[te(320)](){let e=te;var t;return(t=this[e(264)])===null||t===void 0?void 0:t[e(320)]()}[te(267)](){return this[te(405)]}[te(339)](){this[te(332)]=!0}[te(356)](){let e=te;var t,r;if(this[e(349)]&&this._isEnabled){let n=new URL((t=this[e(233)][e(323)])!==null&&t!==void 0?t:e(408)),o=this[e(416)]+(this._options[e(283)]||n.pathname);(r=this[e(264)])===null||r===void 0||r.rejoin(o)}}[te(291)](e){let t=te;var r;if(this[t(349)]&&!this[t(446)])if(e[t(415)]&&e.p2p[t(468)]){this[t(446)]=!0,this.upload=!e[t(415)][t(345)]||u.LI[t(315)],this[t(440)]=e.p2p[t(265)]||u.LI[t(268)],this[t(438)]=e[t(415)][t(297)]||u.LI.maxConnectedPeers;let n=new URL((r=this._options[t(323)])!==null&&r!==void 0?r:"https://localhost"),o=this[t(416)]+(this[t(233)][t(283)]||n[t(255)]);this._p2pManager=new window[t(395)](this,o,{tracker:e.p2p[t(435)]||u.LI[t(258)],accountCode:this[t(416)],announcePeers:e[t(415)].peerRequestsPerAnnounce}),this._p2pManager.on(window[t(395)][t(436)].WebRtcEvents[t(277)],Ee[t(307)][t(224)](this)).on(window[t(395)][t(436)].WebRtcEvents.Warning,Ee[t(316)][t(224)](this))[t(325)](),d.default.debug(g.BalancerTag,t(464)+this.getId())}else d.default[t(374)](g.BalancerTag,"P2P support disabled."),this[t(446)]=!1}startMonitoring(){let e=te;this[e(465)]||(this[e(465)]=!0,le.getInstance()[e(304)]())}[te(430)](){let e=te;return this._peers.size>this[e(438)]&&(d.default[e(248)](g.BalancerTag,e(360)+this._peers[e(301)]),!0)}[te(318)](){let e=te;return this[e(438)]-this[e(458)][e(301)]}[te(390)](){return this[te(438)]}getBannedPeers(){return this[te(428)]}[te(329)](){return this._uploadRequests}[te(364)](){return this[te(420)]}[te(351)](e){let t=te;return this[t(272)][t(351)](e[t(354)])}getPeersWithContent(e){let t=te;if(this[t(410)]||this._peers[t(301)]==0)return[];let r=[];for(let o of this[t(458)].values())if(o[t(223)]()[t(454)]==0){let I=Date[t(448)]()-o[t(423)]();(I>3e4&&o[t(371)]()<2||I>12e4)&&(this[t(428)].set(o.id,!0),o[t(312)](),this[t(375)](o),d.default[t(248)](g.BalancerTag,t(293)+o.id+t(432)+o[t(223)]().length+" last msg -> "+I/1e3+t(412)+o[t(371)]()))}else(!o[t(447)]()||o.getVersion()>=2)&&o[t(223)]()[t(454)]>0&&o[t(223)]()[t(404)](e.p2pId)>=0&&r[t(313)](o);if(r[t(454)]==0)return[];let n=[];for(let o of r)o[t(243)]()>0&&o.getLastLatencyP2P()<5&&n[t(313)](o);if(n[t(454)]==0)for(let o of r)o[t(243)]()>0&&o.getLastLatencyP2P()<7&&n[t(313)](o);if(n[t(454)]==0){let o=[];for(let I of r)I[t(409)]()==0&&I[t(388)]==0&&n[t(313)](I),I.getLastBandwith()>0&&o[t(313)](I);o=o[t(462)]((I,N)=>N[t(409)]()-I.getLastBandwith()),n=o[t(454)]<4?n[t(358)](o):n[t(358)](o.slice(0,3))}return n[t(454)]==0&&(n=r),n}request(e,t){let r=te;var n,o,I;if(!this[r(349)])return!1;if(d.default[r(248)](g.BalancerTag,r(421)+this[r(317)]+" "+this[r(440)]),this._activeDownloads>this[r(440)]&&d.default.verbose(g.BalancerTag,r(240)+this[r(317)]),!(this[r(317)]<=this._maxConcurrent))return d.default.debug(g.BalancerTag,r(424)+this[r(440)]+") already reached"),!1;{d.default[r(248)](g.BalancerTag,r(400)+e[r(354)]+r(402)+((n=e[r(242)])===null||n===void 0?void 0:n[r(271)])+" peers: "+this[r(458)][r(301)]);let N=this[r(280)](e);if(N.length>0){let w=Array[r(231)](N)[r(462)]((se,W)=>.5-Math[r(353)]())[0];return this[r(273)].set(e[r(354)],e),this[r(317)]++,e[r(257)]=!0,w[r(384)](e[r(354)]),e[r(308)]=w,w[r(426)]++,d.default[r(248)](g.BalancerTag,"P2PRS Requesting segment "+e[r(354)]+r(327)+((o=e[r(242)])===null||o===void 0||o[r(271)],"no available from peer ")+w.id+r(433)+w[r(223)]()[r(454)]+" pos: "+w.getSegmentMap()[r(404)](e[r(354)])+r(333)+w[r(388)]),!0}}return d.default[r(248)](g.BalancerTag,"P2P Requesting segment "+e[r(354)]+r(327)+((I=e[r(242)])===null||I===void 0?void 0:I.isAudio)+" not available "),!1}addPeerResponse(e){let t=te;this[t(405)][t(414)](e)}getLastResponses(){let e=te;return Array.from(this[e(458)].values())[e(344)](t=>t[e(461)]())[e(225)]((t,r)=>[...t,...r],[])[e(462)]((t,r)=>r.time-t.time)}addPeerLatency(e){let t=te;this[t(292)][t(314)](e),this._cdnObject[t(335)]=this._cdnPingTimeBean[t(441)](),this[t(347)]===void 0?this._sumNetworkLatency=e:this[t(347)]+=e,typeof this[t(417)]===t(288)?this[t(417)]=e:this[t(417)]=Math[t(459)](this[t(417)],e),this._maxNetworkLatency===void 0?this._maxNetworkLatency=e:this[t(266)]=Math[t(294)](this._maxNetworkLatency,e),typeof this[t(300)]===t(288)?this._samplesNetworkLatency=1:this[t(300)]+=1}static[te(307)](e){d.default.error(g.BalancerTag,"P2P Error: ",e)}static[te(316)](e){let t=te;d.default[t(269)](g.BalancerTag,t(337),e)}[te(367)](e){let t=te;if(this.upload){let r=this[t(272)][t(367)](e);!e[t(256)]&&r&&(e[t(256)]=!0,this[t(394)](e),this[t(377)]());let n=this[t(411)][t(404)](e[t(354)]);n>=0&&this._activeDownloadIds[t(338)](n)}else if(!e[t(256)]){e[t(256)]=!0;let r=this[t(272)].createMap();this[t(458)][t(378)](n=>{n[t(284)](r)})}}_sendMapToAllPeersV0(){let e=te;if(this[e(410)])return;let t=this[e(272)].createMap(),r=Date[e(448)]()-this[e(272)][e(442)]();d.default.verbose(g.BalancerTag,e(319)+t.length+e(363)+this[e(458)][e(301)]+" delay "+r),t.length>0&&this[e(458)].forEach(n=>{let o=e;n[o(222)]()==0&&n[o(284)](t)})}[te(394)](e){let t=te;if(this[t(410)])return;let r=this._storage[t(227)]();d.default[t(248)](g.BalancerTag,t(253)+r[t(454)]),r.length>0&&this[t(458)][t(378)](n=>{let o=t;n[o(222)]()>0&&n[o(460)](e[o(354)],e.size,this[o(272)][o(381)](),e[o(328)])})}[te(232)](e){let t=te;if(this._destroyed)return;let r=this[t(272)][t(227)]();d.default[t(248)](g.BalancerTag,t(365)+r[t(454)]+" "+e);let n=!1;this[t(458)][t(378)](o=>{let I=t;o.id==e&&(o[I(284)](r),n=!0)}),!n&&d.default[t(248)](g.BalancerTag,t(361))}[te(321)](e,t){let r=te;var n;if(!this._destroyed)if(this._availablePeersMap.set(e.id,Date[r(448)]()),this[r(428)][r(322)](e.id)==null)if(d.default[r(248)](g.BalancerTag,r(434)+e.id+" "),this[r(430)]())d.default[r(374)](g.BalancerTag,r(270));else{if(!this[r(458)][r(287)](e.id)){!this[r(372)][r(287)](e.id)&&this[r(372)].set(e.id,[]);let o=new ye(this,e,t);(n=this[r(372)].get(e.id))===null||n===void 0||n[r(313)](o),d.default[r(248)](g.BalancerTag,"P2P New peer candidate "+o.id)}this.updatePeerMetrics()}else d.default[r(374)](g.BalancerTag,r(389)+e.id)}[te(263)](e){let t=te;var r;d.default.verbose(g.BalancerTag,t(382)),this[t(410)]||(this[t(453)][t(383)](e.id,Date[t(448)]()),this[t(352)]()[t(322)](e.id)||(this.isMaxPeers()?d.default[t(374)](g.BalancerTag,"Already have max peers"):(this[t(458)][t(287)](e.id)?(d.default[t(374)](g.BalancerTag,t(370)+e.id),e[t(312)]()):(d.default[t(374)](g.BalancerTag,"P2P adding the candidate. "+e.id),this[t(458)][t(383)](e.id,e),this[t(450)].add(e.id),this[t(379)][t(314)](e.id),(r=this[t(372)].get(e.id))===null||r===void 0||r[t(378)](n=>{e!=n&&n[t(312)]()}),this[t(372)][t(342)](e.id),this[t(232)](e.id)),this[t(403)]())))}[te(375)](e){let t=te,r=e;this[t(458)][t(342)](r.id),this[t(450)][t(342)](r.id);let n=this[t(372)].get(r.id);if(n){let o=n[t(404)](r);o>-1&&(n.splice(o,1),!n[t(454)]&&this._candidates[t(342)](r.id))}this[t(403)]()}peerSegmentUploadRequest(e,t,r){let n=te;this[n(373)]++;let o=this[n(331)].get(e.id);if(o==null&&(o=0),this[n(331)][n(383)](e.id,o),this[n(410)])return;let I=this[n(272)].getSegment(t),N=!1;I&&I[n(413)][n(346)]>1?(e.sendSegment(t,I,r),N=!0):(e[n(290)](t,r),this[n(232)](e.id),this[n(420)]++),d.default[n(248)](g.BalancerTag,n(298)+N+" | "+t+" "+(I==null?void 0:I[n(301)])+" "+(I==null?void 0:I[n(413)].byteLength)+" | "+e.id+" "+r+" "+(I==null?void 0:I[n(247)]))}[te(278)](e,t,r,n){let o=te;var I;this._activeDownloads--,this[o(369)]++,this[o(437)]+=r,this._byteDownloadCount+=n[o(346)],typeof this[o(250)]===o(288)?this._sumResponseBytes=n.byteLength:this._sumResponseBytes+=n[o(346)],this._minResponseBytes===void 0?this[o(303)]=n[o(346)]:this[o(303)]=Math[o(459)](this[o(303)],n[o(346)]),this._maxResponseBytes===void 0?this[o(376)]=n[o(346)]:this[o(376)]=Math.max(this[o(376)],n[o(346)]),typeof this[o(445)]===o(288)?this[o(445)]=1:this[o(445)]+=1,(I=this[o(273)][o(322)](t))===null||I===void 0||I[o(350)](n);let N=Math[o(262)](n[o(346)]/(r/1e3));this[o(467)]=this[o(467)]!==ee[o(366)]?Math[o(262)](this[o(467)]*(1-u.Zq[o(362)])+N*u.Zq[o(362)]):N,this[o(405)][o(295)](this[o(467)]),typeof this[o(236)]===o(288)?this[o(236)]=N:this[o(236)]+=N,typeof this[o(330)]===o(288)?this[o(330)]=N:this[o(330)]=Math[o(459)](this[o(330)],N),typeof this._maxThroughput===o(288)?this[o(259)]=N:this[o(259)]=Math[o(294)](this[o(259)],N),typeof this[o(334)]===o(288)?this[o(334)]=1:this._samplesThroughput+=1,typeof this[o(324)]===o(288)?this[o(324)]=n.byteLength:this[o(324)]+=n[o(346)],typeof this[o(422)]===o(288)?this[o(422)]=r:this[o(422)]+=r,typeof this[o(429)]===o(288)?this[o(429)]=r:this[o(429)]+=r,typeof this[o(306)]===o(288)?this._minResponseTime=r:this[o(306)]=Math.min(this[o(306)],r),this._maxResponseTime===void 0?this._maxResponseTime=r:this[o(276)]=Math[o(294)](this[o(276)],r),this[o(425)]===void 0?this[o(425)]=1:this._samplesResponseTime+=1;let w=this[o(273)][o(322)](t);if(w){let se=w.route;u.Y4[o(378)](W=>{let k=o;se.indexOf(W)>=0&&(w[k(242)]==null||!w[k(242)][k(271)])&&(this[k(357)]+=r,this._downloadedBytesVideo+=n[k(346)],this[k(299)]++)}),w[o(254)]=Date[o(448)](),w[o(326)]=n[o(346)],this[o(367)](w),this[o(273)][o(342)](t)}}[te(275)](e,t,r,n,o){let I=te;if(o==0)return;let N=this[I(273)][I(322)](t);if(N&&(N.endTime=Date[I(448)]()),N&&!this[I(272)][I(351)](N.id)&&(o>0&&(N.realBodySize=o),this.storeSegment(N)),N&&(N[I(413)]=n),N&&N.id){let w=this[I(272)].getSegment(N.id);w&&(w[I(413)]=n)}}[te(387)](e,t,r){let n=te;var o;this[n(279)]+=r||0,this._timeoutRequests++,this[n(317)]--,this._failedRequests++,(o=this[n(273)][n(322)](t))===null||o===void 0||o.noContentObtained(),this[n(273)][n(342)](t)}[te(391)](e,t){let r=te;var n;this[r(309)]++,this[r(317)]--,this._failedRequests++,(n=this._segmentsRequested[r(322)](t))===null||n===void 0||n[r(289)](),this[r(273)].delete(t)}[te(230)](e){let t=te;this[t(235)]+=e,this[t(463)]++}[te(396)](){return this[te(235)]}[te(431)](){return this[te(463)]}[te(282)](e){let t=te;this[t(246)]+=e,this[t(401)]++}[te(312)](){let e=te;if(this[e(264)])try{this._p2pManager[e(312)](),delete this._p2pManager}catch(t){}for(let[,t]of this[e(372)])t.forEach(r=>{r[e(312)]()});for(let[,t]of this[e(458)])t.destroy();try{this._destroyed=!0,this[e(272)][e(312)]()}catch(t){}}[te(302)](){let e=te,t=Date.now();return this[e(458)].forEach(r=>{let n=e,o=r[n(302)]();o&&(t=Math[n(459)](t,o))}),t}[te(229)](){return this._peers}[te(418)](){let e=te,t=0,r=0,n=0,o=0,I=0;return this[e(458)][e(378)](N=>{let w=e;N[w(340)]()>0&&(t+=N.getDownloadBandwidth(),this[w(444)]=Math[w(262)](Math[w(294)](this._maxBandwidth,N.getDownloadBandwidth())),this[w(260)]=Math[w(262)](Math[w(459)](this[w(260)],N.getDownloadBandwidth())),r++),n+=N[w(386)](),o+=N.getLastUploadsTraffic(),I+=N[w(392)]()}),t/=r||1,t=Math.trunc(t),{downloadEnabled:!0,uploadEnabled:this[e(315)],uploadedBytes:this._byteUploadCount,uploadedTime:I,uploadedChunks:this[e(463)],discardedUploadedChunks:this[e(401)],discardedUploadedBytes:this[e(246)],downloadedSegments:this[e(369)],downloadedBytes:this[e(281)],discardedDownloadedBytes:this[e(279)],failedRequests:{total:this[e(407)],absent:this[e(309)],timeout:this._timeoutRequests,error:this._errorRequests},activePeers:this[e(458)][e(301)],totalPeers:this[e(458)][e(301)],downloadMillis:this[e(437)],maxBandwidth:this[e(444)],minBandwidth:this[e(260)],downloadAvgBw:t,lastSecondsDownloadTraffic:n,lastSecondsUploadTraffic:o,downloadMillisVideo:this._downloadMillisVideo,downloadBytesVideo:this[e(285)],downloadChunksVideo:this[e(299)],avgPingTime:this._cdnPingTimeBean.getAvgPingTime(),minPingTime:this[e(292)][e(234)](),maxPingTime:this._cdnPingTimeBean.getMaxPingTime(),sumResponseBytes:this[e(250)],minResponseBytes:this._minResponseBytes,maxResponseBytes:this[e(376)],samplesResponseBytes:this[e(445)],sumResponseTime:this[e(429)],minResponseTime:this[e(306)],maxResponseTime:this[e(276)],samplesResponseTime:this._samplesResponseTime,sumNetworkLatency:this[e(347)],minNetworkLatency:this[e(417)],maxNetworkLatency:this[e(266)],samplesNetworkLatency:this._samplesNetworkLatency,sumThroughput:this[e(236)],minThroughput:this[e(330)],maxThroughput:this._maxThroughput,samplesThroughput:this[e(334)],sumVideoBytes:this._sumVideoBytes,sumVideoTime:this[e(422)],peersAvailable:this[e(286)],maxPeersAvailable:this[e(380)],minPeersAvailable:this[e(251)],peersUsed:this[e(245)],peersParallelUsed:this[e(237)],maxPeersParallelUsed:this[e(393)],minPeersParallelUsed:this._minPeersParallelUsed,peerDiscoveryTime:this[e(397)],peerConnectionTime:this._peerConnectionTime}}[te(305)](){let e=te;this[e(250)]=void 0,this._minResponseBytes=void 0,this[e(376)]=void 0,this._samplesResponseBytes=void 0,this[e(429)]=void 0,this[e(306)]=void 0,this[e(276)]=void 0,this[e(425)]=void 0,this._sumNetworkLatency=void 0,this._minNetworkLatency=void 0,this[e(266)]=void 0,this[e(300)]=void 0,this[e(236)]=void 0,this[e(330)]=void 0,this._maxThroughput=void 0,this[e(334)]=void 0,this[e(324)]=void 0,this._sumVideoTime=void 0,this[e(451)]=void 0,this._peerDiscoveryTime=void 0,this[e(343)]=0}onOffer(e,t){let r=te;this[r(427)]=t,this[r(453)].set(e,Date[r(448)]())}[te(403)](){let e=te,t=Date[e(448)]()-this[e(427)]+15e3;this[e(453)][e(378)]((r,n)=>{r<t&&this[e(453)].delete(n)}),this[e(343)]++,this[e(245)]=this[e(458)][e(301)],this._peersParallelUsed=this[e(450)].size,this[e(286)]=this[e(453)][e(301)],this._updatePeersMetricsRefCounter==1?(this[e(336)]=this[e(450)].size,this[e(393)]=this[e(450)].size,this[e(251)]=this[e(453)][e(301)],this._maxPeersAvailable=this._availablePeersMap[e(301)]):((this[e(336)]==null||this[e(336)]>this[e(450)][e(301)])&&(this[e(336)]=this._activePeerSet[e(301)]),(this[e(393)]==null||this._maxPeersParallelUsed<this[e(450)][e(301)])&&(this._maxPeersParallelUsed=this[e(450)].size),(this._minPeersAvailable==null||this._minPeersAvailable>this[e(453)].size)&&(this[e(251)]=this[e(453)][e(301)]),(this._maxPeersAvailable==null||this[e(380)]<this._availablePeersMap[e(301)])&&(this[e(380)]=this[e(453)][e(301)]))}[te(341)](e){this[te(451)]=e}[te(399)](e){this[te(397)]=e}}let Fe=_e;function me(){let A=["forEach","56TQOVui","1548369ORXiYM","_bandwidthThreshold","23172Qtfbcl","time"," Mbps","_getCdnToProbe","active","minimumDurationSinceLastUsedForTrialMilliseconds","10092700JhiTlf","2298058RPuHdC","Selected ","filter","getCDN","P2P"," is: ","Performing probe to ","40840rRSwRk","Estimated bandwidth based on ","toFixed","getPeersWithContent","_getNotUsedCdn"," | estimated bandwidth ","push","indexOf","verbose","13860pyiRQd","qualityPriority","201182qWuxWj","6eNzEjC","getInstance","isManifest","getBandwidthInBits","getVideoBandwidth","from","200zrfXPM","set","currentCDN","_highetsSegmentBandwidth","CDN Candidates -> ","debug","trim","get","_bestScoredCdn","downloadedChunks","_options","sort","random"," because not used yet","latency","wasActiveSwitchingDecisionPerformed","avgPingTime","Current bandwidth for ","name","cdnPriority","_qualityPriority","140427ZIslqD"," reference bandwidth ","6CSmuwh","usedSelectorAPIResponse","banned","last bandwidth","_cdnPriority","noProbing","now","splice","Original"," highest segment bandwidth -> ","isChecked","setSwitchedCdns","_activeSwitching"," of ","size","some","usedOnce","setChecked","_cdnList","Fastest CDN is -> "," Active switching method -> ","getBandwidth","_p2pLoader","length","values","useP2P","maximumRelativeDeltaForTrial","delete"," for ","getLastResponse"];return(me=function(){return A})()}function _e(A,e){let t=me();return(_e=function(r,n){return t[r-=355]})(A,e)}(function(A){let e=_e,t=A();for(;;)try{if(-parseInt(e(422))/1+-parseInt(e(423))/2*(parseInt(e(361))/3)+-parseInt(e(411))/4*(-parseInt(e(429))/5)+-parseInt(e(363))/6*(-parseInt(e(404))/7)+-parseInt(e(394))/8*(parseInt(e(395))/9)+-parseInt(e(403))/10+-parseInt(e(420))/11*(-parseInt(e(397))/12)==614588)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(me);class l{constructor(e,t,r,n,o,I){let N=_e;this[N(381)]=e,this._activeSwitching=n,this[N(396)]=t,this[N(432)]=r,this[N(385)]=o,this._options=I}[Fe(407)](e,t){let r=Fe,n="Original",o=new Map,I=0,N=!0;if(this._cdnList[r(393)](function(w,se){let W=r;I+=w[W(438)],!w[W(365)]&&w[W(401)]&&(o.set(se,w),N=!1)}),N&&(o.clear(),this[r(381)][r(393)](function(w,se){let W=r;w[W(401)]&&(w.banned=!1,o[W(430)](se,w))})),(this[r(385)][r(414)](e)[r(386)]===0||!e[r(388)])&&o[r(390)]("P2P"),d.default[r(419)](g.BalancerTag,r(433)+o.size+r(376)+this[r(381)][r(377)]+r(383)+this._activeSwitching),o[r(390)](r(371)),o[r(377)]==0)return n="Original",!this[r(375)]&&I>0&&(n=t[r(431)]),t.currentCDN=n,n[r(386)]===0?r(371):n;if(o[r(377)]>0)if(Qe.default[r(424)]()[r(364)](!0),Qe.default.getInstance()[r(355)](this[r(375)]!==void 0),this._activeSwitching){let w=t.currentCDN;switch(this[r(375)]){case u.m.qualityPriority:n=this[r(360)](e,o,t);break;case u.m.cdnPriority:n=this._cdnPriority(e,o,t);break;default:let se;se=this._bestScoredCdn(e,o),n=se===null?"":se[r(358)]}w!==""&&n!=="Original"&&w!==n&&Qe.default.getInstance()[r(374)](!0)}else{let w;w=this[r(437)](e,o),w===null||w[r(373)]()?n=I!==0||e[r(425)]?t[r(431)]:"":(n=w[r(358)],t.currentCDN=n,w[r(380)]())}return n&&n[r(435)]()!=""?n:"Original"}[Fe(360)](e,t,r){let n=Fe,o=this[n(439)][n(368)]?new Map(this[n(381)]):t;this[n(385)][n(414)](e).length===0&&o[n(390)](n(408));let I=this[n(400)](o,u.m[n(421)],r[n(431)]);if(I)return d.default[n(434)](g.BalancerTag,n(410)+I[n(358)]),r[n(431)]=I[n(358)],I[n(358)];let N=this[n(415)](e);if(N)return d.default[n(434)](g.BalancerTag,n(405)+N+n(442)),N;let w="",se=0;return t.forEach(W=>{let k=n,C=W[k(427)]();d.default[k(419)](g.BalancerTag,W[k(358)]+k(362)+C/1e6+k(416)+W[k(384)]()+k(372)+this[k(432)]/1e6),se<W.getBandwidth()&&(se=W[k(384)](),w=W[k(358)])}),d.default[n(434)](g.BalancerTag,n(382)+w),r[n(431)]=w,w}[Fe(367)](e,t,r){let n=Fe;var o,I;let N=this[n(439)].noProbing?new Map(this[n(381)]):t;this._p2pLoader[n(414)](e).length===0&&N.delete(n(408));let w=this[n(400)](N,u.m[n(359)],r[n(431)]);if(w)return d.default[n(434)](g.BalancerTag,n(410)+w[n(358)]),r.currentCDN=w[n(358)],w[n(358)];let se=Array[n(428)](t[n(387)]())[n(406)](k=>k[n(426)]()/1e3>this[n(396)]&&!k[n(365)]);if(!se[n(378)](k=>k[n(358)]===r[n(431)])){let k=t[n(436)](r.currentCDN);k&&(k.lastUpdatedState=3)}let W=(I=(o=se[0])===null||o===void 0?void 0:o.name)!==null&&I!==void 0?I:"";if(W===""){let k=Array[n(428)](t[n(387)]());k[n(440)]((C,p)=>p[n(384)]()-C[n(384)]()),W=k[0][n(358)]}return r[n(431)]=W,W}_bestScoredCdn(e,t){let r=Fe;var n;return(n=Array[r(428)](t[r(387)]())[0])!==null&&n!==void 0?n:null}[Fe(415)](e){let t=Fe,r=[];for(let[I,N]of this._cdnList)N.active&&!N[t(365)]&&!N[t(379)]&&r[t(417)](N.name);if(this[t(385)][t(414)](e)[t(386)]===0||!e[t(388)]){let I=r[t(418)](t(408));I>-1&&r[t(370)](I,1)}if(r[t(386)]==0)return;let n=r[Math.floor(Math[t(441)]()*r[t(386)])],o=this[t(381)][t(436)](n);return o!=null&&(o[t(379)]=!0),n}[Fe(400)](e,t,r){let n=Fe,o=Array[n(428)](e.values()).filter(k=>k[n(358)]!==r);if(t===u.m[n(359)]){o=[];for(let[k,C]of e){if(k===r)break;o[n(417)](C)}}o[n(440)]((k,C)=>k[n(392)]().time-C.getLastResponse()[n(398)]);let I=e[n(436)](r);if(!I)return;let N=I[n(356)],w=I[n(426)](),se=t===u.m.cdnPriority?1e3*this._bandwidthThreshold:I[n(426)](),W=o[n(406)](k=>{let C=n;if(Date[C(369)]()-k.getLastResponse().time>=u.Zq[C(402)])return!0;let p=this._options[C(368)]===!0,x=p?k[C(426)]():N*w/k[C(356)];return d.default[C(434)](g.BalancerTag,C(412)+C(p?366:443)+C(391)+k[C(358)]+C(409)+(x/1e6)[C(413)](2)+C(399)),d.default.debug(g.BalancerTag,C(357)+r+": "+(w/1e6)[C(413)](2)+C(399)),(x-se)/se>=-u.Zq[C(389)]});return W[n(386)]===0?void 0:W.sort((k,C)=>k.getLastResponse()[n(398)]-C[n(392)]().time)[0]}}let E=z;function L(){let A=["getMaxPingTime","?rnpaw=","then","unbannedTime","updateCdnList","bannedRefTicToc","setNoProbing","name","floor","authenticate_probes","getMinPingTime","set"," // ","failures","74OlKHIh","open","now","next","GET","isCodavel","224679JZCVDf","probeOnlyOnBanned","readyState","noProbing","shouldMonitor","isRangeCompatible","auth","9932888vrRCxd","bytes=0-0","get","HEALTHY CDN ","active","onCodavelFailedResponse","unBannedCount","throw","getInstance","send","9412879zTuNsr","values","testCdn","stopMonitor","_performGetCheck","onload","BANNING CDN DUE TO TIMEOUT ","lastPingTime","516726RsEYto","_instance","verbose","_cdns","callTimeoutMilliseconds","url","_afterCheck","12194yNPqPj","addParametersToUrl","lastDownloadedSegment","bannedCount","getAvgPingTime","__awaiter","timeout","bannedTime","monitor","_isMonitoring","pingsTime","timeBetweenBurstsMilliseconds","includes","UNABLE TO GENERATE URL FOR PROBING CHECK ","avgPingTime","Probing with range failed failed. Falling back to HEAD request on the next probe","lowestPingTime","timeBetweenCallsMilliseconds","setLoader","value","usedOrProbed","highestPingTime","banned","done","random","583012DsSdPt","2411920aONwWB","loader","CDNLoader","onerror","P2P","addProbe","status","monitoring","ORIGINAL","setHeadOnBannedOnly","_performCheck","lastUpdatedState"];return(L=function(){return A})()}function z(A,e){let t=L();return(z=function(r,n){return t[r-=260]})(A,e)}(function(A){let e=z,t=A();for(;;)try{if(-parseInt(e(342))/1*(-parseInt(e(290))/2)+-parseInt(e(348))/3+-parseInt(e(315))/4+parseInt(e(316))/5+parseInt(e(283))/6+-parseInt(e(275))/7+parseInt(e(265))/8==695951)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(L);var Z=function(A,e,t,r){return new(t||(t=Promise))(function(n,o){function I(se){let W=z;try{w(r[W(345)](se))}catch(k){o(k)}}function N(se){let W=z;try{w(r[W(272)](se))}catch(k){o(k)}}function w(se){let W=z;var k;se[W(313)]?n(se.value):(k=se[W(309)],k instanceof t?k:new t(function(C){C(k)}))[W(330)](I,N)}w((r=r.apply(A,e||[])).next())})};class de{constructor(){let e=E;this[e(300)]=new Map,this[e(323)]=new Map,this._isMonitoring=!1,this._cdns=new Map,this.shouldMonitor=!0,this[e(349)]=!1,this[e(261)]=!1}static[E(273)](e){let t=E;return!this._instance&&(this[t(284)]=new de),e!=null&&this._instance[t(308)](e),this[t(284)]}[E(308)](e){let t=E;this[t(317)]=e,this[t(262)]=!0}[E(332)](e){this[E(286)]=e}newDownloadedSegment(e){this[E(292)]=e}[E(278)](){this[E(262)]=!1}[E(325)](e=!1){this[E(349)]=e}[E(334)](e=!1){this[E(261)]=e}[E(298)](e){return Z(this,void 0,void 0,function*(){let t=z;this[t(286)]=e;let r=new Map;for(let n of e[t(276)]())r[t(339)](n.name,new Oe),this[t(300)]=r;if(!this[t(299)])for(this[t(299)]=!0;this[t(262)];){for(;!this[t(292)];)yield new Promise(n=>setTimeout(n,1e3));if(!this.noProbing)for(let n of this[t(286)][t(276)]())this[t(292)]&&n[t(335)]!==t(320)&&(yield this[t(277)](n,this[t(292)]),yield new Promise(o=>setTimeout(o,u.wc[t(307)])));yield new Promise(n=>setTimeout(n,u.wc[t(301)]))}})}_afterCheck(e,t){let r=E;var n,o,I;let N=Date[r(344)]()-e;de[r(273)]()[r(323)].set(t[r(335)],N);let w=de.getInstance()[r(300)][r(267)](t.name);w==null||w.add(N),t[r(282)]=N,t[r(304)]=(n=w==null?void 0:w[r(294)]())!==null&&n!==void 0?n:t[r(304)],t[r(311)]=(o=w==null?void 0:w[r(328)]())!==null&&o!==void 0?o:t.highestPingTime,t[r(306)]=(I=w==null?void 0:w[r(338)]())!==null&&I!==void 0?I:t[r(306)],t[r(321)](N)}[E(277)](e,t){return Z(this,void 0,void 0,function*(){let r=z;if(this[r(317)]&&this[r(317)].getIsEnabled&&e[r(269)]&&e.provider!=r(324)&&(!this[r(349)]||e[r(312)]))if(t){let n=this.loader[r(318)].updateUrl(t,!0,e[r(335)]);if(n=t[r(291)](n),n){let o=Math[r(336)](1e9*Math[r(314)]());n=n[r(302)]("?")?n+"&rnpaw="+o:n+r(329)+o;let I=0;e[r(263)]&&(I=yield this[r(279)](e,n)),(!e[r(263)]||I===1)&&(e[r(263)]=!1,d.default[r(285)](g.BalancerTag,r(305)))}else d.default[r(285)](g.BalancerTag,r(303)+e[r(335)]+r(340)+t[r(288)])}else d.default[r(285)](g.BalancerTag,"PINGTIME No available resources to test "+e[r(335)])})}[E(279)](e,t){return Z(this,void 0,void 0,function*(){let r=z;return yield this[r(326)](r(346),e,t)})}_performHeadCheck(e,t){return Z(this,void 0,void 0,function*(){return yield this._performCheck("HEAD",e,t)})}[E(326)](e,t,r){return Z(this,void 0,void 0,function*(){let n=z,o=new XMLHttpRequest,I=Date[n(344)](),N=this;return t[n(310)]=!0,new Promise(function(w,se){let W=n;o[W(280)]=function(){let k=W;if(o[k(260)]===4){let C=0;if(e===k(346)&&o[k(322)]!==206&&o[k(322)]>=200&&o[k(322)]<400)C=1;else if(o[k(322)]>=200&&o.status<300){if(t.banned){let p=Date[k(344)]();t[k(297)]+=p-t.bannedRefTicToc,t[k(333)]=p,t[k(312)]=!1,t[k(271)]++}t[k(341)]=0,d.default[k(285)](g.BalancerTag,k(268)+r+" "+o[k(322)]),t.lastUpdatedState=0,t.isCodavel()&&N[k(317)]!=null&&N[k(317)][k(318)].onCodavelSucessfullResponse()}else if(o[k(322)]>=400){if(d.default[k(285)](g.BalancerTag,"BANNING CDN "+r+" "+o[k(322)]),t.auth!=null&&t[k(264)].enabled&&!t[k(264)][k(337)]){if(o[k(322)]!=403&&!t[k(312)]){let p=Date.now();t[k(331)]+=p-t[k(333)],t[k(333)]=p,t.banned=!0,t[k(293)]++}}else if(!t[k(312)]){let p=Date[k(344)]();t[k(331)]+=p-t[k(333)],t[k(333)]=p,t[k(312)]=!0,t[k(293)]++}t.lastUpdatedState=1,t[k(347)]()&&N.loader!=null&&N.loader.CDNLoader[k(270)](1)}C===0&&N[k(289)](I,t),w(C)}},o[W(319)]=function(){let k=W;if(d.default[k(285)](g.BalancerTag,"BANNING CDN "+r+" "+o[k(322)]),t[k(312)]){let C=Date[k(344)]();t.bannedTime+=C-t.bannedRefTicToc,t[k(333)]=C}else{let C=Date[k(344)]();t[k(331)]+=C-t.bannedRefTicToc,t[k(333)]=C,t.banned=!0,t[k(293)]++}t[k(327)]=2,t[k(347)]()&&N[k(317)]!=null&&N[k(317)].CDNLoader[k(270)](2),w(0)},o.ontimeout=function(){let k=W;if(d.default.verbose(g.BalancerTag,k(281)+r+" "+o[k(322)]),t[k(312)]){let C=Date[k(344)]();t.bannedTime+=C-t[k(333)],t[k(333)]=C}else{let C=Date[k(344)]();t[k(331)]+=C-t[k(333)],t[k(333)]=C,t[k(312)]=!0,t[k(293)]++}t[k(327)]=2,t.isCodavel()&&N[k(317)]!=null&&N[k(317)][k(318)][k(270)](2),w(0)},o[W(343)](e,r),e===W(346)&&o.setRequestHeader("Range",W(266)),o[W(296)]=u.wc[W(287)],o[W(274)]()})})}}class ce{constructor(e,t){this.columns=["CDN","Provider","# of requests","% of failed req.","Traffic served (MB)"],this.requestsPerformed=0,this.trafficServedInBytes=0,this.failedRequests=0,this.name=e,this.provider=t}setRequestsPerformed(e){this.requestsPerformed=e}setTrafficServerInBytes(e){this.trafficServedInBytes=e}setFailedRequests(e){this.failedRequests=e}getFailedRequestsPercentage(){let e=this.requestsPerformed+this.failedRequests;return e!==0?this.failedRequests/e*100:0}generateRow(){let e=this.requestsPerformed!==0?this.failedRequests/this.requestsPerformed*100:0;e=this.requestsPerformed===0&&this.failedRequests>0?100:e;let t="";return e>70?t="red":e>30&&(t="yellow"),{row:"%c"+[this.name,this.provider,this.requestsPerformed+this.failedRequests,e.toFixed(0),(this.trafficServedInBytes/1048576).toFixed(2)].map(r=>r.toString().padEnd(18)).join(""),color:t}}}var Re=Y(61);let Ie=Ye;(function(A){let e=Ye,t=A();for(;;)try{if(parseInt(e(385))/1*(parseInt(e(363))/2)+-parseInt(e(234))/3*(parseInt(e(432))/4)+-parseInt(e(334))/5+-parseInt(e(228))/6+parseInt(e(366))/7+-parseInt(e(331))/8+parseInt(e(235))/9==545704)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(nt);function nt(){let A=["codavelProvidersState","totalFail","494136vFPMSL","unbannedTime","activeSwitchingPriority","4781660grQVxh","includes","resetOnPing","updateCodavelBanTimes","trunc","isNotOnCdnList","&advanceproxy=true","indexOf","auth_action_info","origRes","send","codavelAllBanned","getSecure","forEach","forceDecisionCall","usedOnce","route","codavelUnbanCount","lastUpdatedState","firstHugeChunkSize","_lastChunkTime","getAccountCode","_bandwidthThreshold","_cdnList","score","https","hugeChunks","BALANCER","domainWhitelistRegex","30HIOwfA","_activeCdnRequests","progressDownloadedBytes","6037843CwxckB","_noProbing","_p2pLoader","isEnabled","signed_url_info","currentRenditionBandwidth","renditionCount","getCDN","rendition","status","provider","updateProgressStats","Original","CDN priority","done","next","getInstance","onSucessfullApiResponse","verbose","48255RCKxxg","replace","test","updateCdnList","_cdnLastInstantBandwith","minApiCallResponseTime","setActiveSwitchingEnabled","apiHost","getStats","price","isDev"," because its host is not one of the currently active CDN hosts: [","getCdnObject","host","startsWith","codavelSwitchesDueToQuality","timeBetweenCallsMilliseconds","_options","updateSettings","get","priorityCdn","updateCDNStatsOnFailure","isManifest","from","getActiveRequests","finalUrl","decisionReloadIntervalPerManifestMilliseconds","map","setNoProbing","setSettings","codavelUnbanTime","updateAvailability","_activeSwitching","balanceManifests","bannedRefTicToc","minimumDurationSinceLastUsedForTrialMilliseconds","_totalDownloadedBytes","registerCommonVariable","getRecommendedManifest","codavelBanRefTicToc","getSignedUrlFromApi","failures","token","lastPreferedVideoBandwidth","active","Invalid regex expression ","isCodavel","1396BgUHaT","value","monitoringStarted","New url -> ","maxApiCallResponseTime","instantBandwidth","maxBandwidth","bucketName"," -> banned ","cleanCdnList","_lastChunksLapse","_resource","downloadMillis","response","_highestRenditionBandwidth","bolinaAvailable","filter","incrementSwitches","set","GET","auth","onCodavelSucessfullResponse","name","getRouteAndFilename","updateCDNStatsOnSuccess","codavelBanTime","now","initializated","cdnPriority","codavelBanCount","delay","_probingInfo","clear","https://","banned","getIsLive","_cdnInstantBandwith","gotEmptyResponse","setLogLevel","fileName","minRequestSizeForBwEstimateKB","changeStatusCDN","concat","_chunkCount","_secure","codavelSwitchesDueToConnectivity","monitor","isMasterPlaylist","codavelSwitchesDueToErrors","getCommonVariable","getFastDataService","http://","callTimeoutMilliseconds","parse","setHeadOnBannedOnly","join","Error: unable to obtain API response for signed URL (status: ","delete","processedApiCall","append_to_url","2696478AOwDNH","getSegmentDuration","?orresource=","throw","pathName","] (balancerManifest: ","1728uvYbeP","5650794QAuUEy","incrementSwitchesDueToQuality","cdnName","sign_all_requests","min","FAILED -> ","values","_responseUUID","emit","avgApiCallResponseTime","codavelSwitches","authenticate_probes","cdnBalanceMethod","onCodavelSwitched","_firstRequestTime","currentRenditionPos","debug","addResp","Bypassed ","downloadedBytesForScoring","decisionCallWaitTime","retries","dnsEnabled","true","Disabled","failed","signManifestUsingApi","_cdnPeakBandwidth","STREBOPX","incrementSwitchesDueToConnectivity","probeOnlyOnBanned","timeBetweenBurstsMilliseconds","Error parsing Balancer API response for signed URL: ","Quality priority","providers","_method","_highestChunkBandwidth","setMaxBandwidth","apiCallResponses","apiCallErrors","VERBOSE","getCdnList","qualityPriority","STREBOOS","size","max","path","onFailedApiResponse","_probeOnBanned","signUrl","&orresource= ","startMonitoring","maximumRelativeDeltaForTrial","isLive","weight","open","bandwidthThreshold","segmentDuration","absolute","P2P","Products","bandwidth","getPluginVersion","isNotOnWhitelist","activeSwitching","resource","announcedCdns","enabled","url","_activeRequests","lastUsedCdn","p2pAvailable","downloadedBytes","bannedTime","LAST_USED_CDN","domainWhitelist","isValidUrl","ORIGINAL","downloadedChunks","Updated","], nor one of the whitelisted domains [","downloadTimeForScoring","parser","then","bannedCount","default","DECISION_FINISHED","noProbing","lastCodavelRequestStatus","lastMeasurementWeight","duration","_failedRequests","profileName","onCodavelFailedResponse"];return(nt=function(){return A})()}function Ye(A,e){let t=nt();return(Ye=function(r,n){return t[r-=178]})(A,e)}class Je extends S{constructor(e,t,r,n){let o=Ye;super(),this[o(356)]=u.Ow[o(320)],this[o(357)]=new Map,this._activeCdnRequests=new Map,this[o(304)]=new Map,this[o(326)]=0,this[o(211)]=0,this[o(199)]={currentCDN:""},this[o(271)]=0,this[o(182)]=0,this[o(389)]=new Map,this[o(204)]=new Map,this[o(262)]=new Map,this._retries=new Map,this[o(421)]=0,this._firstRequestTime=0,this[o(354)]=0,this[o(178)]=0,this.currentRenditionBandwidth=0,this[o(250)]=0,this[o(372)]=0,this.initializated=!1,this[o(434)]=!1,this[o(345)]=!1,this[o(197)]=0,this[o(351)]=0,this.codavelBanTime=0,this[o(415)]=0,this.codavelSwitches=0,this.codavelSwitchesDueToConnectivity=0,this[o(216)]=0,this.codavelSwitchesDueToQuality=0,this[o(424)]=Date[o(194)](),this.lastCodavelRequestStatus=0,this.codavelProvidersState=new Map,this[o(226)]=!1,this[o(244)]=void 0,this[o(390)]=void 0,this[o(436)]=void 0,this[o(274)]=void 0,this[o(273)]=void 0,this[o(306)]=!1,this[o(183)]=!1,this.activeSwitchingPriority="",this[o(405)]="",this[o(301)]=0,this[o(292)]=void 0,this._options=e,this[o(179)]=t,this[o(368)]=r,this[o(392)]=n}[Ie(346)](){return this[Ie(212)]!=null&&this._secure}[Ie(409)](){return this._activeRequests}[Ie(205)](){let e=Ie;this[e(195)]=!1,this[e(357)][e(200)]()}[Ie(414)](e,t){let r=Ie;var n,o,I,N,w,se,W,k,C,p,x,ge,B,ke,Ve,ue;if(this[r(195)])return this[r(403)](e,t);this._cdnList=new Map;try{(e==null?void 0:e[r(251)])===!0&&d.default.setLogLevel(d.LogLevel[r(275)]);let Ue=m[r(311)]((n=this._options.resource)!==null&&n!==void 0?n:"")?m[r(191)](this[r(402)][r(300)]):{route:"",fileName:""};this[r(212)]=((I=(o=this[r(402)][r(300)])===null||o===void 0?void 0:o[r(341)](r(201)))!==null&&I!==void 0?I:-1)>-1||void 0,this[r(179)].fileName=Ue[r(207)],this[r(179)][r(350)]=Ue[r(350)],this[r(242)]=e.UUID,this[r(270)]=e[r(247)],this[r(417)]=e.activeSwitching,this[r(356)]=(N=e[r(291)])!==null&&N!==void 0?N:u.Ow[r(320)],this[r(283)]=e[r(265)],this[r(367)]=e[r(322)];let He=e.activeSwitching!==void 0;de[r(382)]().setNoProbing((w=this[r(367)])!==null&&w!==void 0?w:this[r(402)][r(322)]),this[r(417)]===u.m[r(196)]?de.getInstance().setHeadOnBannedOnly((se=this[r(283)])!==null&&se!==void 0?se:this[r(402)].probeOnlyOnBanned):de.getInstance()[r(222)](!1),Qe.default[r(382)]()[r(391)](He),u.Zq[r(324)]=(W=e[r(324)])!==null&&W!==void 0?W:u.Zq[r(324)],u.Zq[r(287)]=(k=e.maximumRelativeDeltaForTrial)!==null&&k!==void 0?k:u.Zq[r(287)],u.Zq[r(420)]=(C=e[r(420)])!==null&&C!==void 0?C:u.Zq[r(420)],u.wc.callTimeoutMilliseconds=(p=e[r(220)])!==null&&p!==void 0?p:u.wc[r(220)],u.wc[r(266)]=(x=e.timeBetweenBurstsMilliseconds)!==null&&x!==void 0?x:u.wc[r(266)],u.wc[r(401)]=(ge=e.timeBetweenCallsMilliseconds)!==null&&ge!==void 0?ge:u.wc[r(401)],u.df[r(255)]=(B=e.decisionCallWaitTime)!==null&&B!==void 0?B:u.df[r(255)],u.df[r(411)]=(ke=e.decisionReloadIntervalPerManifestMilliseconds)!==null&&ke!==void 0?ke:u.df[r(411)],u._C[r(208)]=(Ve=e[r(208)])!==null&&Ve!==void 0?Ve:u._C[r(208)];let $e=0,qe=!1,J=[];J=He?((ue=e[r(269)])===null||ue===void 0?void 0:ue[r(210)](e.discarded||[]))||[]:e[r(269)]||[],Qe.default[r(382)]()[r(441)](),this[r(368)][r(369)]()&&(this._activeCdnRequests[r(294)]=0,this._cdnList[r(186)](r(294),this[r(368)][r(397)]())),this[r(306)]=this[r(368)].isEnabled(),this[r(417)]==r(277)?this.activeSwitchingPriority=r(268):this[r(417)]==r(196)?this[r(333)]=r(379):this[r(333)]=r(259),J[r(347)](Pe=>{$e+=Pe[r(358)]||0});let Te=!1;J[r(347)](Pe=>{let j=r,Be=Pe.score||0,Le=m[j(311)](Pe[j(303)])?m.getRouteAndFilename(Pe.url)[j(350)]:"";qe=qe||Le===t;let We=new ee(Pe[j(376)],Pe[j(190)],Pe[j(398)],Pe[j(281)],Le,Be,Le===t,Pe[j(394)],Pe[j(289)],Pe[j(293)],Pe[j(257)],Pe.auth,e[j(317)]);We[j(398)]=Pe[j(398)],Qe.default[j(382)]().addCdn(Pe.name,new ce(Pe.name,Pe[j(376)])),this[j(357)][j(186)](Pe.name,We),this[j(329)]=new Map(Array[j(408)](this[j(357)][j(241)]())[j(184)](Ze=>Ze[j(431)]())[j(412)](Ze=>[Ze[j(190)],Ze.banned])),this[j(337)](),this[j(364)][Pe.name]=0,!Te&&(this[j(405)]=Pe[j(190)],Te=!0)})}catch(Ue){d.default.warn(g.BalancerTag,Ue)}this.announcedCdns=this[r(357)].size-(this[r(368)][r(369)]()?1:0),this.initializated=!0}updateSettings(e,t){let r=Ie;var n,o,I;(e==null?void 0:e[r(251)])===!0&&d.default[r(206)](d.LogLevel[r(275)]),this[r(270)]=e[r(247)],this[r(417)]=e[r(299)],this[r(283)]=e[r(265)],this[r(367)]=e[r(322)],this[r(306)]=this[r(368)][r(369)](),this[r(417)]==r(277)?this[r(333)]=r(268):this[r(417)]=="cdnPriority"?this[r(333)]="CDN priority":this[r(333)]=r(259),de[r(382)]()[r(413)]((n=this[r(367)])!==null&&n!==void 0?n:this[r(402)][r(322)]),this[r(417)]===u.m.cdnPriority?de.getInstance()[r(222)]((o=this[r(283)])!==null&&o!==void 0?o:this._options[r(265)]):de[r(382)]()[r(222)](!1);let N=!1,w=((I=e[r(269)])===null||I===void 0?void 0:I[r(210)](e.discarded||[]))||[],se=new Map,W=!1;w[r(347)](C=>{let p=r,x=this._cdnList[p(404)](C.name);if(x){x[p(429)]=!0,x[p(398)]!=C[p(398)]&&(x[p(398)]=C.host),x[p(281)]!=C[p(281)]&&(x.path=C[p(281)]);let ge=m.getRouteAndFilename(C.url)[p(350)];x[p(303)]!=ge&&(x.url=ge),x.auth!=C[p(188)]&&(x[p(188)]=C[p(188)]),se[p(186)](C[p(190)],x)}else{let ge=C[p(358)]||0,B=m[p(191)](C[p(303)])[p(350)];N=N||B===t;let ke=new ee(C[p(376)],C.name,C[p(398)],C[p(281)],B,ge,B===t,C[p(394)],C[p(289)],C.absolute,C[p(257)],C[p(188)],e.parser);this._cdnList[p(186)](C.name,ke),se[p(186)](C[p(190)],ke),this[p(364)][C[p(190)]]=0}!W&&(this.priorityCdn=C.name,W=!0)}),this.announcedCdns=this[r(357)][r(279)]-(this[r(368)][r(369)]()?1:0),this[r(357)]=se;let k=w[r(412)](C=>C[r(190)]);this[r(357)][r(347)](C=>{let p=r;k[p(335)](C[p(190)])||C[p(376)]==p(312)||C.provider=="P2P"||(C[p(429)]=!1)}),this.codavelProvidersState=new Map(Array.from(this[r(357)][r(241)]())[r(184)](C=>C[r(431)]()).map(C=>[C[r(190)],C[r(202)]])),this[r(337)]()}[Ie(286)](){let e=Ie;this[e(417)]&&(this[e(434)]?de[e(382)]()[e(388)](this[e(357)]):(this[e(434)]=!0,de[e(382)]()[e(214)](this._cdnList)))}[Ie(406)](e,t){let r=Ie;if(this._activeCdnRequests[e]<1)return;this[r(377)]();let n=this._cdnList[r(404)](e);if(this[r(364)][e]--,t[r(256)]==0&&this[r(326)]++,n!=null&&n[r(256)]--,n&&!n[r(202)]){if(n[r(202)]){let o=Date[r(194)]();n[r(308)]+=o-n[r(419)],n[r(419)]=o}else{let o=Date[r(194)]();n[r(332)]+=o-n[r(419)],n[r(419)]=o,n.banned=!0,n[r(319)]++}n[r(202)]=!0,n[r(319)]++}n&&d.default[r(384)](g.BalancerTag,r(240)+n[r(190)]+r(440)+n[r(202)]),n&&(t[r(260)]=!0,n[r(252)](t),n[r(426)]++,n[r(330)]++,n[r(349)]=!0),this.codavelProvidersState=new Map(Array[r(408)](this._cdnList[r(241)]())[r(184)](o=>o[r(431)]()).map(o=>[o[r(190)],o.banned])),this[r(337)]()}removeActiveSegment(e){let t=Ie;this[t(304)][t(225)](e.id),this[t(364)][e.cdnName]--,this._chunkCount++}[Ie(192)](e){let t=Ie;var r,n;if(e[t(215)]&&(this[t(292)]=e[t(292)]),this.updateProgressStats(),e[t(365)]!=null){if(this[t(421)]=this[t(421)]+e.size,e[t(325)]!=0){let o=8*e[t(279)]/e[t(325)];this[t(271)]<o&&(this[t(271)]=o)}(r=this._cdnList.get((e==null?void 0:e[t(237)])||""))===null||r===void 0||r[t(252)](e)}else e[t(407)]&&(this[t(402)].signManifestUsingApi||this[t(402)][t(418)])&&((n=this._cdnList[t(404)]((e==null?void 0:e[t(237)])||""))===null||n===void 0||n[t(252)](e));this[t(329)]=new Map(Array.from(this[t(357)][t(241)]())[t(184)](o=>o[t(431)]())[t(412)](o=>[o[t(190)],o[t(202)]])),this[t(337)]()}[Ie(276)](){return this[Ie(357)]}updateProgressStats(){let e=Ie,t=new Map,r=new Map;this[e(304)][e(347)](o=>{let I=e,N=o[I(437)],w=o[I(237)],se=t.get(w);se==null&&(se=0),se+=N,t[I(186)](w,se)}),this[e(204)]=t,t[e(347)]((o,I)=>{let N=e,w=this[N(262)][N(404)](I);w==null?this[N(262)][N(186)](I,o):w<o&&this._cdnPeakBandwidth[N(186)](I,o)}),t.forEach((o,I)=>{let N=e;o!=0&&this[N(389)][N(186)](I,o)});let n=0;r[e(347)]((o,I)=>{n+=o})}[Ie(425)](e,t,r){let n=Ie;var o,I,N;let w=V.default[n(382)]().getFastDataService()[n(355)](),se=(o=this[n(402)][n(327)])!==null&&o!==void 0?o:"",W=(I=this[n(402)][n(439)])!==null&&I!==void 0?I:"default",k=(this[n(402)][n(395)],(N=this._options[n(288)])!==null&&N!==void 0&&N),C=t,p=new XMLHttpRequest,x=C+"/"+w+"/"+(this[n(402)].profileName?se+"/":"")+n(284);x=x[n(386)]("//","/"),x=n(201)+x;let ge={resource:e,live:""+k,extended:n(258),npawPluginInfo:n(258),originCode:this._options[n(439)]!==null&&this[n(402)][n(439)]!==void 0?W:"",v:V.default[n(297)]()};if(p[n(290)](n(187),x+m.formatParameters(ge),!1),p[n(344)](),p.status>=200&&p[n(375)]<=300)try{if(p[n(181)]){let B=JSON[n(221)](p[n(181)]);for(let ke of B[n(269)])if(ke.name===r&&ke[n(188)]&&ke[n(188)][n(370)])return ke.auth[n(370)].signed_url}}catch(B){d.default[n(251)](g.BalancerTag,n(267)+B)}else d.default[n(251)](g.BalancerTag,n(224)+p[n(375)]+")")}updateUrl(e,t=!1,r){let n=Ie;var o,I,N,w,se,W,k,C,p,x,ge,B,ke,Ve;let ue=this[n(339)](e[n(303)]),Ue=this[n(298)](e[n(303)]),He=e.isManifest&&!e[n(260)],$e=ue&&Ue,qe=(o=this[n(402)][n(418)])!==null&&o!==void 0&&o||(I=this[n(402)][n(261)])!==null&&I!==void 0&&I;if(qe){if(ue&&Ue){let Be=Array[n(408)](this[n(357)][n(241)]())[n(412)](We=>'"'+We.host+'"'),Le=((N=this[n(402)].domainWhitelist)!==null&&N!==void 0?N:[])[n(210)]((w=this._options[n(362)])!==null&&w!==void 0?w:[]).map(We=>'"'+We+'"');return void d.default[n(251)](g.BalancerTag,n(253)+e.url+n(396)+Be[n(223)](",")+n(315)+Le.join(",")+n(233)+qe+")")}}else if(He||$e){if(ue&&Ue){let Be=Array[n(408)](this[n(357)][n(241)]())[n(412)](We=>'"'+We[n(398)]+'"'),Le=((se=this[n(402)][n(310)])!==null&&se!==void 0?se:[])[n(210)]((W=this[n(402)].domainWhitelistRegex)!==null&&W!==void 0?W:[])[n(412)](We=>'"'+We+'"');d.default[n(251)](g.BalancerTag,n(253)+e[n(303)]+n(396)+Be.join(",")+n(315)+Le[n(223)](",")+"]")}return}if(r){let Be=this[n(357)][n(404)](r);if(Be){let Le=(e[n(303)][n(399)](n(359))?n(201):n(219))+Be[n(398)];if(Be[n(376)]===n(278)||Be[n(376)]===n(263)?Le+="/"+V.default.getInstance()[n(218)]()[n(355)]()+"/"+((k=this[n(402)][n(327)])!==null&&k!==void 0?k:n(320))+"/"+((C=this._options[n(439)])!==null&&C!==void 0?C:n(320)):Le+=Be[n(281)],Le+=e[n(232)],(Be[n(376)]==="STREBOOS"||Be[n(376)]===n(263))&&(Le+=Le[n(335)]("?")?n(285)+e[n(343)]:n(230)+e[n(343)]),Be[n(376)]===n(263)&&(Le+=n(340)),Be[n(188)]!=null&&Be[n(188)][n(302)]&&(!t||t&&Be.auth[n(246)])){if(Be[n(188)][n(342)]===n(227)){let We=((p=Be.auth.signed_url_info)===null||p===void 0?void 0:p[n(427)])||"";Le+=Le[n(335)]("?")?"&"+We:"?"+We}else if(Be.auth[n(342)]===n(238)){let We=this[n(425)](Le,this[n(392)],Be[n(190)]);We&&(Le=We)}}return Le}}let J=new Map;J=new Map(this[n(357)]);let Te="",Pe="",j=((x=e[n(374)])===null||x===void 0?void 0:x[n(296)])||0;for(this._highestRenditionBandwidth<j&&(this._highestRenditionBandwidth=j);(!Te||Te=="")&&(Pe=new l(J,this._bandwidthThreshold,this[n(182)],this._activeSwitching,this[n(368)],this[n(402)])[n(373)](e,this[n(199)]),V.default.getInstance()[n(422)](Re.default.Products[n(361)],Re.default.BalancerVariables[n(309)],Pe===n(378)?"Origin":Pe),Pe!==n(294));){let Be=this[n(357)].get(Pe);try{if(Be&&Pe!=n(378)){if(Te=(e[n(303)].startsWith(n(359))?n(201):n(219))+Be[n(398)],Be[n(376)]===n(278)||Be.provider===n(263)){let Le=V.default[n(382)]().getFastDataService()[n(355)]();Te+="/"+Le+"/"+((ge=this[n(402)].profileName)!==null&&ge!==void 0?ge:"default")+"/"+((B=this[n(402)][n(439)])!==null&&B!==void 0?B:n(320))}else Te+=Be.path;Te+=e[n(232)],(Be.provider===n(278)||Be.provider===n(263))&&(Te+=Te[n(335)]("?")?"&orresource= "+e[n(343)]:n(230)+e[n(343)]),Be.provider==="STREBOPX"&&(Te+=n(340)),Te==""&&d.default[n(251)](g.BalancerTag,"Error updating url -> "+e.url+" / "+((ke=this[n(179)])===null||ke===void 0?void 0:ke[n(350)])+" / "+Be[n(190)])}else Pe=="Original"&&(Te=e[n(303)])}catch(Le){}J[n(225)](Pe)}if(Pe===n(294))Te=n(294);else{this[n(364)][Pe]++;let Be=this._cdnList[n(404)](Pe);if(Be!=null&&Be[n(188)]!=null&&Be[n(188)][n(302)]&&(!t||t&&Be[n(188)][n(246)])){if(Be[n(188)][n(342)]===n(227)){let Le=((Ve=Be.auth[n(370)])===null||Ve===void 0?void 0:Ve[n(427)])||"";Te+=Te[n(335)]("?")?"&"+Le:"?"+Le}else if(Be[n(188)][n(342)]===n(238)){let Le=this.getSignedUrlFromApi(Te,this[n(392)],Be[n(190)]);Le&&(Te=Le)}}if(e[n(410)]=Te,Be&&e.changeCDN(Te,Be[n(190)],Be[n(376)]),d.default[n(384)](g.BalancerTag,n(435)+Te+" | "+e[n(237)]),this[n(305)]!=Pe&&this[n(305)]!==n(378)&&this[n(305)]!==void 0){let Le=this[n(357)][n(404)](this[n(305)]),We=this[n(357)].get(Pe);Le!=null&&(Le.isCodavel()&&We!=null&&!We[n(431)]()&&(Le[n(352)]==3&&this[n(328)](3),this[n(248)]()),Le[n(185)](),Le.lastUpdatedState==2?Le[n(264)]():Le.lastUpdatedState==1?Le.incrementSwitchesDueToErrors():Le[n(352)]==3&&Le[n(236)]())}this.lastUsedCdn=Pe}return Te}setResourceInfo(e){let t=Ie,r=m.isValidUrl(e!=null?e:"")?m[t(191)](e):{route:"",fileName:""};this[t(179)][t(207)]=r[t(207)],this[t(179)].route=r.route}[Ie(423)](){return e=this,t=void 0,n=function*(){let o=Ye,I=0;for(;!V.default[o(382)]()[o(217)](Re.default[o(295)][o(361)],Re.default.BalancerVariables[o(321)])&&I++<5;)yield m[o(198)](300);if(I===5)return this._resource.route+this[o(179)][o(207)];let N=Array[o(408)](this[o(357)][o(241)]())[o(184)](w=>w[o(190)]!==o(294));return N.length>0?N[0][o(303)]+this._resource[o(207)]:this._resource[o(350)]+this[o(179)][o(207)]},new((r=void 0)||(r=Promise))(function(o,I){function N(W){let k=Ye;try{se(n[k(381)](W))}catch(C){I(C)}}function w(W){let k=Ye;try{se(n[k(231)](W))}catch(C){I(C)}}function se(W){let k=Ye;var C;W[k(380)]?o(W.value):(C=W[k(433)],C instanceof r?C:new r(function(p){p(C)}))[k(318)](N,w)}se((n=n.apply(e,t||[])).next())});var e,t,r,n}[Ie(393)](){let e=Ie,t=[],r=0,n=0,o=0,I=0,N=0,w=0,se=0,W=0;return this[e(357)][e(347)](k=>{let C=e;if(k[C(190)]===C(294))return;k[C(416)]();let p=(k[C(307)]||0)/((k[C(180)]||1)/1e3)*8,x=(k[C(254)]||0)/((k[C(316)]||1)/1e3)*8;p==null&&(p=0);let ge=this._totalDownloadedBytes/((Date[C(194)]()-this[C(249)])/1e3)*8,B=this[C(262)][C(404)](k[C(190)])||0,ke=this[C(204)][C(404)](k.name)||0,Ve=this[C(389)][C(404)](k[C(190)])||0;t.push({downloadedBytes:k.downloadedBytes,downloadedChunks:k[C(313)],bandwidth:Math[C(338)](p),instantBandwidth:Math.trunc(ke),lastInstantBandwidth:Math[C(338)](Ve),peakBandwidth:Math[C(338)](B),failures:k[C(426)],totalFailures:k[C(330)],retries:k.retries,downloadTime:k[C(180)],provider:k[C(376)],profileName:k.name,isActive:k[C(429)],ptb:ge,usedOnce:k[C(349)],hugeChunks:k[C(360)],firstHugeChunkSize:k[C(353)],lastChunksLapse:this[C(178)],maxBandwidth:k[C(438)],banned:k.banned,lastBandwidth:k[C(428)],scoringBandwidth:x}),r+=k.downloadedBytes,n+=p,o+=B,I+=ke,N+=k[C(313)],w+=k[C(180)],se+=k[C(426)],W+=k.retries}),{responseUUID:this._responseUUID,totalDownloadedBytes:r,totalDownloadedChunks:N,totalDownloadedTime:w,totalFailures:se,totalRetries:W,activeSwitching:this[e(417)]||"",mode:this._method||"",totalBandwidth:Math[e(338)](n),totalInstantBandwidth:Math.trunc(I),totalPeakBandwidth:Math[e(338)](o),cdns:t,currentRenditionBandwidth:this[e(371)],currentRenditionPos:this[e(250)],renditionCount:this[e(372)]}}[Ie(209)](e,t){let r=Ie,n=!1,o=0;return!t&&this[r(357)][r(347)](I=>{I[r(429)]&&o++}),this[r(357)].forEach(I=>{let N=r;I[N(190)]===e&&(t&&(I[N(429)]=!0,n=!0),!t&&o>1&&(I.active=!1,n=!0))}),n}[Ie(272)](e,t){let r=Ie,n=this[r(357)][r(404)](e);return n!=null&&(n[r(438)]=t,this[r(243)](u.yl[r(314)],{loader:this}),!0)}getMaxBandwidth(e){let t=Ie,r=this[t(357)][t(404)](e);return r!=null?r[t(438)]:0}[Ie(337)](){let e=Ie,t=Date[e(194)]();if(this[e(329)][e(279)]===0)return void(this[e(424)]=t);let r=Array[e(408)](this.codavelProvidersState[e(241)]()).every(n=>n);r!==this[e(345)]?r?(this.codavelUnbanTime+=t-this[e(424)],this[e(424)]=t,this.codavelBanCount++):(this.codavelBanTime+=t-this[e(424)],this[e(424)]=t,this[e(351)]++):r?(this[e(193)]+=t-this[e(424)],this[e(424)]=t):(this.codavelUnbanTime+=t-this[e(424)],this[e(424)]=t),this[e(345)]=r}[Ie(336)](){let e=Ie;this.codavelBanTime=0,this.codavelUnbanTime=0,this[e(424)]=Date[e(194)](),this.processedApiCall=!1,this.avgApiCallResponseTime=void 0,this[e(390)]=void 0,this[e(436)]=void 0,this[e(274)]=void 0,this[e(273)]=void 0}[Ie(248)](){let e=Ie;this[e(245)]++,this[e(323)]==2?this[e(213)]++:this[e(323)]==1?this[e(216)]++:this.lastCodavelRequestStatus==3&&this[e(400)]++}[Ie(189)](){this[Ie(323)]=0}[Ie(328)](e){this[Ie(323)]=e}[Ie(282)](){let e=Ie;this[e(274)]==null?this.apiCallErrors=1:this[e(274)]+=1,this[e(226)]=!0}[Ie(383)](e){let t=Ie;this.apiCallResponses==null?this[t(273)]=1:this[t(273)]+=1,this.minApiCallResponseTime==null?this[t(390)]=e:this.minApiCallResponseTime=Math[t(239)](this[t(390)],e),this[t(244)]==null?this[t(244)]=e:this.avgApiCallResponseTime=this[t(244)]+(e-this[t(244)])/this[t(273)],this.maxApiCallResponseTime==null?this[t(436)]=e:this[t(436)]=Math[t(280)](this[t(436)],e),this[t(226)]=!0}getBucket(){let e=Ie;return this[e(402)][e(439)]}[Ie(203)](){let e=Ie;return this[e(402)][e(288)]}getForceDecision(){let e=Ie;return this[e(402)][e(348)]}[Ie(229)](){return this[Ie(292)]}[Ie(339)](e){let t=Ie,r=!1,n=new URL(e);for(let o of this[t(357)][t(241)]())if(o[t(398)]===n.host){r=!0;break}return!r}isNotOnWhitelist(e){let t=Ie;var r,n;let o=!1,I=new URL(e);for(let N of(r=this[t(402)][t(362)])!==null&&r!==void 0?r:[])try{if(new RegExp(N)[t(387)](I[t(398)])){o=!0;break}}catch(w){d.default.debug(g.BalancerTag,t(430)+N)}for(let N of(n=this[t(402)][t(310)])!==null&&n!==void 0?n:[]){if(o)break;if(N===I.host){o=!0;break}}return!o}}let at=ht;function ht(A,e){let t=pt();return(ht=function(r,n){return t[r-=148]})(A,e)}function pt(){let A=["has","4209512HjKjyw","now","6575769QBvKcF","endTime","setSettings","_localMem","count","delete","_expTime","447494uXPUfA","createMap","readyForP2P","size","startTime","_removeOldSegments","getSize","undefined","42boJRgT","P2P: Segment not ready yet for segment map","getLastSegmentId","push","expiration","973048NfblaZ","cachedSegmentExpiration","set","getLastSegmentCreatedAt","clear","9wkUsAB","10453817ijgHpb","safeMaxCount","destroy","p2pId","982420qeUVGs","40wXyupA","forEach","storeSegment","35gTAUEU","_reduceMemSize","get","hasSegment","min","_lastSegmentId","1512948vTZmzj","createdAt","_maxSize","data","cachedSegmentsCount"];return(pt=function(){return A})()}(function(A){let e=ht,t=A();for(;;)try{if(parseInt(e(155))/1+parseInt(e(170))/2*(-parseInt(e(188))/3)+parseInt(e(161))/4+parseInt(e(193))/5*(parseInt(e(178))/6)+-parseInt(e(149))/7*(-parseInt(e(183))/8)+parseInt(e(163))/9+-parseInt(e(194))/10*(parseInt(e(189))/11)==806881)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(pt);class Dt{constructor(e){let t=ht;this[t(166)]=new Map,this[t(157)]=u.dR[t(167)],this[t(169)]=u.dR[t(182)],this[t(154)]="",this._loader=e,setInterval(()=>{this[t(175)]()},1e3)}[at(165)](e){let t=at,r=e.p2p;r&&(this[t(169)]=r[t(184)]||u.dR[t(182)],this[t(157)]=Math[t(153)](r[t(159)]||u.dR.count,u.dR[t(190)]))}getMaxSize(){return this[at(157)]}getSegment(e){let t=at;return this[t(166)][t(151)](e)}[at(152)](e){let t=at;return this._localMem[t(160)](e)}[at(148)](e){let t=at;return!this[t(152)](e.p2pId)&&typeof e[t(158)]!==t(177)&&(this[t(154)]=e[t(192)],this[t(166)][t(185)](e[t(192)],e),this[t(150)](),!0)}[at(175)](){let e=at,t=Date[e(162)]()-this._expTime;this[e(166)][e(195)]((r,n)=>{let o=e;r[o(174)]<t&&this._localMem[o(168)](n)})}[at(150)](){let e=at,t,r;this[e(166)][e(173)]-this._maxSize>0&&(r=Date[e(162)](),t="",this[e(166)][e(195)]((n,o)=>{let I=e;n[I(164)]<r&&(t=o,r=n[I(164)])}),this[e(166)][e(168)](t),this[e(150)]())}[at(171)](){let e=at,t=[];for(let[,r]of this[e(166)])r[e(172)]?t[e(181)](r[e(192)]):d.default.debug(g.BalancerTag,e(179));return t}[at(191)](){let e=at;this[e(166)][e(187)]()}[at(176)](){return this[at(166)].size}[at(180)](){return this._lastSegmentId}[at(186)](){let e=at;var t;return((t=this._localMem[e(151)](this[e(154)]))===null||t===void 0?void 0:t[e(156)])||0}}var oi=Y(8641),Yt=Y.n(oi);function ti(A,e){var t=Ot();return(ti=function(r,n){return t[r-=409]})(A,e)}function Ot(){var A=["52520zWrpLI","573672rEiSFX","1jQmyxL","2710686EHmcLe","634706pFXqFi","20tTTNqE","5014410TZihsF","24qSQdBl","7uyrSEj","2373129mZWvKm","13412751jDTKId"];return(Ot=function(){return A})()}(function(A){for(var e=ti,t=A();;)try{if(parseInt(e(409))/1*(-parseInt(e(411))/2)+-parseInt(e(419))/3+-parseInt(e(418))/4*(-parseInt(e(412))/5)+parseInt(e(410))/6*(-parseInt(e(415))/7)+-parseInt(e(414))/8*(-parseInt(e(416))/9)+-parseInt(e(413))/10+parseInt(e(417))/11==601105)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Ot);class U{constructor(){this.uri="",this.pos=0}}function q(){let A=["139843NVOZDE","4871912aSxUMC","segments","60FNpint","uri","1452aUdKsa","isAudio","2018385jZYLYU","40905228OnFrCL","addSegment","7BhgmYY","3kbuZum","10KoYEYj","33uwfFUv","3330124yIpaLJ","get","1999190OwvmiD","pos","bandwidthPosition","bandwidth"];return(q=function(){return A})()}function ie(A,e){let t=q();return(ie=function(r,n){return t[r-=180]})(A,e)}let pe=ie;(function(A){let e=ie,t=A();for(;;)try{if(-parseInt(e(180))/1*(parseInt(e(192))/2)+-parseInt(e(191))/3*(parseInt(e(194))/4)+parseInt(e(183))/5*(parseInt(e(185))/6)+parseInt(e(190))/7*(-parseInt(e(181))/8)+-parseInt(e(187))/9+-parseInt(e(196))/10*(parseInt(e(193))/11)+parseInt(e(188))/12==446916)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(q);class Ce{constructor(){let e=ie;this[e(184)]="",this[e(199)]=0,this[e(186)]=!1,this[e(198)]=-1,this.targetDuration=0,this[e(182)]=new Map,this.isMaxRendition=!1}[pe(189)](e,t,r){let n=pe,o=new U;o[n(184)]=t,o[n(197)]=r,this[n(182)].set(e,o)}getSegment(e){let t=pe;return this[t(182)][t(195)](e)}getSegmentsSize(){return this[pe(182)].size}getSegments(){return this[pe(182)]}}let ze=Ke;function dt(){let A=["uri","isMasterPlaylist","6068436jpdLGA","segments","endsWith","variants","targetDuration","739560IMUubz","3dyxDYq","isAudio","22SNcxAZ","2490165KbrBRr","addRendition","4511912AlGawR","9pmTvdU","getRenditions","327068awmmQK","audio","935yXBnhB","forEach","parse","72NvhqFX","5599XQSaBE","47560dnjcmM"];return(dt=function(){return A})()}function Ke(A,e){let t=dt();return(Ke=function(r,n){return t[r-=117]})(A,e)}(function(A){let e=Ke,t=A();for(;;)try{if(parseInt(e(137))/1*(-parseInt(e(125))/2)+-parseInt(e(123))/3*(parseInt(e(122))/4)+parseInt(e(126))/5+parseInt(e(136))/6*(-parseInt(e(131))/7)+parseInt(e(128))/8*(parseInt(e(129))/9)+-parseInt(e(138))/10*(parseInt(e(133))/11)+parseInt(e(117))/12==356298)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(dt);class gt{static[ze(135)](e,t,r){let n=ze,o=Yt()[n(135)](t);if(o[n(140)])o[n(120)]!=null&&o[n(120)][n(134)](function(I){let N=n,w=new Ce;w.bandwidth=I.bandwidth,w[N(139)]=I[N(139)],r[N(127)](I.uri,w),I[N(132)]!=null&&I.audio[N(134)](function(se){let W=N,k=new Ce;k.uri=se[W(139)],k[W(124)]=!0,r[W(127)](se[W(139)],k)})});else{let I=!1;r[n(130)]()[n(134)]((N,w)=>{let se=n;e[se(119)](w)&&(o[se(118)]!=null&&o[se(118)][se(134)](function(W){let k=se;r.addSegment(w,W[k(139)],W[k(139)])}),o.targetDuration!=null&&(N[se(121)]=o[se(121)]),I=!0)})}return o}}var Et=Y(9731),yt=Y.n(Et),mt=Y(2553),ot=Y.n(mt);let Lt=function(A,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(A)&&(A=ot().location&&ot().location.href||"");var t=typeof ot().URL=="function",r=/^\/\//.test(A),n=!ot().location&&!/\/\//i.test(A);if(t?A=new(ot()).URL(A,ot().location||"http://example.com"):/\/\//i.test(A)||(A=yt().buildAbsoluteURL(ot().location&&ot().location.href||"",A)),t){var o=new URL(e,A);return n?o.href.slice(18):r?o.href.slice(o.protocol.length):o.href}return yt().buildAbsoluteURL(A,e)};var Nt=Y(1048).hp,wt=Y(7937),Xt=function(A){return!!A&&typeof A=="object"},vt=function A(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(n,o){return typeof o!="object"||Object.keys(o).forEach(function(I){Array.isArray(n[I])&&Array.isArray(o[I])?n[I]=n[I].concat(o[I]):Xt(n[I])&&Xt(o[I])?n[I]=A(n[I],o[I]):n[I]=o[I]}),n},{})},ii=function(A){return Object.keys(A).map(function(e){return A[e]})},Mt=function(A){return A.reduce(function(e,t){return e.concat(t)},[])},Kt=function(A){if(!A.length)return[];for(var e=[],t=0;t<A.length;t++)e.push(A[t]);return e},di=function(A,e){for(var t=0;t<A.length;t++)if(e(A[t]))return t;return-1},si=function(A){var e=A.baseUrl,t=e===void 0?"":e,r=A.source,n=r===void 0?"":r,o=A.range,I=o===void 0?"":o,N=A.indexRange,w=N===void 0?"":N,se={uri:n,resolvedUri:Lt(t||"",n)};if(I||w){var W,k=(I||w).split("-"),C=ot().BigInt?ot().BigInt(k[0]):parseInt(k[0],10),p=ot().BigInt?ot().BigInt(k[1]):parseInt(k[1],10);C<Number.MAX_SAFE_INTEGER&&typeof C=="bigint"&&(C=Number(C)),p<Number.MAX_SAFE_INTEGER&&typeof p=="bigint"&&(p=Number(p)),typeof(W=typeof p=="bigint"||typeof C=="bigint"?ot().BigInt(p)-ot().BigInt(C)+ot().BigInt(1):p-C+1)=="bigint"&&W<Number.MAX_SAFE_INTEGER&&(W=Number(W)),se.byterange={length:W,offset:C}}return se},hi=function(A){return A&&typeof A!="number"&&(A=parseInt(A,10)),isNaN(A)?null:A},tr={static:function(A){var e=A.duration,t=A.timescale,r=t===void 0?1:t,n=A.sourceDuration,o=A.periodDuration,I=hi(A.endNumber),N=e/r;return typeof I=="number"?{start:0,end:I}:typeof o=="number"?{start:0,end:o/N}:{start:0,end:n/N}},dynamic:function(A){var e=A.NOW,t=A.clientOffset,r=A.availabilityStartTime,n=A.timescale,o=n===void 0?1:n,I=A.duration,N=A.periodStart,w=N===void 0?0:N,se=A.minimumUpdatePeriod,W=se===void 0?0:se,k=A.timeShiftBufferDepth,C=k===void 0?1/0:k,p=hi(A.endNumber),x=(e+t)/1e3,ge=r+w,B=x+W-ge,ke=Math.ceil(B*o/I),Ve=Math.floor((x-ge-C)*o/I),ue=Math.floor((x-ge)*o/I);return{start:Math.max(0,Ve),end:typeof p=="number"?p:Math.min(ke,ue)}}},Xi=function(A){var e=A.type,t=A.duration,r=A.timescale,n=r===void 0?1:r,o=A.periodDuration,I=A.sourceDuration,N=tr[e](A),w=function(k,C){for(var p=[],x=k;x<C;x++)p.push(x);return p}(N.start,N.end).map(function(k){return function(C){var p=k.duration,x=k.timescale,ge=x===void 0?1:x,B=k.periodStart,ke=k.startNumber;return{number:(ke===void 0?1:ke)+C,duration:p/ge,timeline:B,time:C*p}}}(A));if(e==="static"){var se=w.length-1,W=typeof o=="number"?o:I;w[se].duration=W-t/n*se}return w},Ps=function(A){var e=A.baseUrl,t=A.initialization,r=t===void 0?{}:t,n=A.sourceDuration,o=A.indexRange,I=o===void 0?"":o,N=A.periodStart,w=A.presentationTime,se=A.number,W=se===void 0?0:se,k=A.duration;if(!e)throw new Error("NO_BASE_URL");var C=si({baseUrl:e,source:r.sourceURL,range:r.range}),p=si({baseUrl:e,source:e,indexRange:I});if(p.map=C,k){var x=Xi(A);x.length&&(p.duration=x[0].duration,p.timeline=x[0].timeline)}else n&&(p.duration=n,p.timeline=N);return p.presentationTime=w||N,p.number=W,[p]},ws=function(A,e,t){var r,n=A.sidx.map?A.sidx.map:null,o=A.sidx.duration,I=A.timeline||0,N=A.sidx.byterange,w=N.offset+N.length,se=e.timescale,W=e.references.filter(function($e){return $e.referenceType!==1}),k=[],C=A.endList?"static":"dynamic",p=A.sidx.timeline,x=p,ge=A.mediaSequence||0;r=typeof e.firstOffset=="bigint"?ot().BigInt(w)+e.firstOffset:w+e.firstOffset;for(var B=0;B<W.length;B++){var ke,Ve=e.references[B],ue=Ve.referencedSize,Ue=Ve.subsegmentDuration;ke=typeof r=="bigint"?r+ot().BigInt(ue)-ot().BigInt(1):r+ue-1;var He=Ps({baseUrl:t,timescale:se,timeline:I,periodStart:p,presentationTime:x,number:ge,duration:Ue,sourceDuration:o,indexRange:r+"-"+ke,type:C})[0];n&&(He.map=n),k.push(He),r+=typeof r=="bigint"?ot().BigInt(ue):ue,x+=Ue/se,ge++}return A.segments=k,A},ir=["AUDIO","SUBTITLES"],sr=1/60,Is=function(A){return(e=A,t=function(r){return r.timeline},ii(e.reduce(function(r,n){return n.forEach(function(o){r[t(o)]=o}),r},{}))).sort(function(r,n){return r.timeline>n.timeline?1:-1});var e,t},_s=function(A){var e,t,r=[];return e=A,t=function(n,o,I,N){r=r.concat(n.playlists||[])},ir.forEach(function(n){for(var o in e.mediaGroups[n])for(var I in e.mediaGroups[n][o]){var N=e.mediaGroups[n][o][I];t(N)}}),r},Rs=function(A){var e=A.playlist,t=A.mediaSequence;e.mediaSequence=t,e.segments.forEach(function(r,n){r.number=e.mediaSequence+n})},Ds=function(A){return A&&A.uri+"-"+(t=typeof(e=A.byterange).offset=="bigint"||typeof e.length=="bigint"?ot().BigInt(e.offset)+ot().BigInt(e.length)-ot().BigInt(1):e.offset+e.length-1,e.offset+"-"+t);var e,t},Gi=function(A){return ii(A.reduce(function(e,t){var r,n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(r=e[n].segments).push.apply(r,t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{})).map(function(e){var t;return e.discontinuityStarts=(t=e.segments||[],t.reduce(function(r,n,o){return n.discontinuity&&r.push(o),r},[])),e})},ji=function(A,e){var t=Ds(A.sidx),r=t&&e[t]&&e[t].sidx;return r&&ws(A,r,A.sidx.resolvedUri),A},rr=function(A,e){if(e===void 0&&(e={}),!Object.keys(e).length)return A;for(var t in A)A[t]=ji(A[t],e);return A},nr=function(A){var e,t=A.attributes,r=A.segments,n=A.sidx,o=A.discontinuityStarts,I={attributes:(e={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuityStarts:o,timelineStarts:t.timelineStarts,segments:r};return t.contentProtection&&(I.contentProtection=t.contentProtection),n&&(I.sidx=n),I},ar=function(A){var e=A.attributes;return e.mimeType==="video/mp4"||e.mimeType==="video/webm"||e.contentType==="video"},or=function(A){var e=A.attributes;return e.mimeType==="audio/mp4"||e.mimeType==="audio/webm"||e.contentType==="audio"},dr=function(A){var e=A.attributes;return e.mimeType==="text/vtt"||e.contentType==="text"},Ns=function(A){return A?Object.keys(A).reduce(function(e,t){var r=A[t];return e.concat(r.playlists)},[]):[]},Cs=function(A){var e,t=A.dashPlaylists,r=A.locations,n=A.sidxMapping,o=n===void 0?{}:n,I=A.previousManifest;if(!t.length)return{};var N=t[0].attributes,w=N.sourceDuration,se=N.type,W=N.suggestedPresentationDelay,k=N.minimumUpdatePeriod,C=Gi(t.filter(ar)).map(nr),p=Gi(t.filter(or)),x=Gi(t.filter(dr)),ge=t.map(function(Le){return Le.attributes.captionServices}).filter(Boolean),B={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:w,playlists:rr(C,o)};k>=0&&(B.minimumUpdatePeriod=1e3*k),r&&(B.locations=r),se==="dynamic"&&(B.suggestedPresentationDelay=W);var ke,Ve,ue,Ue,He,$e,qe,J=B.playlists.length===0,Te=p.length?function(Le,We,Ze){var it;We===void 0&&(We={}),Ze===void 0&&(Ze=!1);var st=Le.reduce(function(ft,ct){var rt=ct.attributes.role&&ct.attributes.role.value||"",_t=ct.attributes.lang||"",At=ct.attributes.label||"main";if(_t&&!ct.attributes.label){var Ft=rt?" ("+rt+")":"";At=""+ct.attributes.lang+Ft}ft[At]||(ft[At]={language:_t,autoselect:!0,default:rt==="main",playlists:[],uri:""});var Ut=ji(function(bt,ci){var ni,Bt=bt.attributes,Rt=bt.segments,Ei=bt.sidx,bi=bt.mediaSequence,Li=bt.discontinuitySequence,Pi=bt.discontinuityStarts,ai={attributes:(ni={NAME:Bt.id,BANDWIDTH:Bt.bandwidth,CODECS:Bt.codecs},ni["PROGRAM-ID"]=1,ni),uri:"",endList:Bt.type==="static",timeline:Bt.periodStart,resolvedUri:"",targetDuration:Bt.duration,discontinuitySequence:Li,discontinuityStarts:Pi,timelineStarts:Bt.timelineStarts,mediaSequence:bi,segments:Rt};return Bt.contentProtection&&(ai.contentProtection=Bt.contentProtection),Ei&&(ai.sidx=Ei),ci&&(ai.attributes.AUDIO="audio",ai.attributes.SUBTITLES="subs"),ai}(ct,Ze),We);return ft[At].playlists.push(Ut),it===void 0&&rt==="main"&&((it=ct).default=!0),ft},{});return it||(st[Object.keys(st)[0]].default=!0),st}(p,o,J):null,Pe=x.length?function(Le,We){return We===void 0&&(We={}),Le.reduce(function(Ze,it){var st=it.attributes.lang||"text";return Ze[st]||(Ze[st]={language:st,default:!1,autoselect:!1,playlists:[],uri:""}),Ze[st].playlists.push(ji(function(ft){var ct,rt=ft.attributes,_t=ft.segments,At=ft.mediaSequence,Ft=ft.discontinuityStarts,Ut=ft.discontinuitySequence;_t===void 0&&(_t=[{uri:rt.baseUrl,timeline:rt.periodStart,resolvedUri:rt.baseUrl||"",duration:rt.sourceDuration,number:0}],rt.duration=rt.sourceDuration);var bt=((ct={NAME:rt.id,BANDWIDTH:rt.bandwidth})["PROGRAM-ID"]=1,ct);return rt.codecs&&(bt.CODECS=rt.codecs),{attributes:bt,uri:"",endList:rt.type==="static",timeline:rt.periodStart,resolvedUri:rt.baseUrl||"",targetDuration:rt.duration,timelineStarts:rt.timelineStarts,discontinuityStarts:Ft,discontinuitySequence:Ut,mediaSequence:At,segments:_t}}(it),We)),Ze},{})}(x,o):null,j=C.concat(Ns(Te),Ns(Pe)),Be=j.map(function(Le){return Le.timelineStarts});return B.timelineStarts=Is(Be),ke=j,Ve=B.timelineStarts,ke.forEach(function(Le){Le.mediaSequence=0,Le.discontinuitySequence=di(Ve,function(We){return We.timeline===Le.timeline}),Le.segments&&Le.segments.forEach(function(We,Ze){We.number=Ze})}),Te&&(B.mediaGroups.AUDIO.audio=Te),Pe&&(B.mediaGroups.SUBTITLES.subs=Pe),ge.length&&(B.mediaGroups["CLOSED-CAPTIONS"].cc=ge.reduce(function(Le,We){return We&&We.forEach(function(Ze){var it=Ze.channel,st=Ze.language;Le[st]={autoselect:!1,default:!1,instreamId:it,language:st},Ze.hasOwnProperty("aspectRatio")&&(Le[st].aspectRatio=Ze.aspectRatio),Ze.hasOwnProperty("easyReader")&&(Le[st].easyReader=Ze.easyReader),Ze.hasOwnProperty("3D")&&(Le[st]["3D"]=Ze["3D"])}),Le},{})),I?(Ue=(ue={oldManifest:I,newManifest:B}).oldManifest,He=ue.newManifest,$e=Ue.playlists.concat(_s(Ue)),qe=He.playlists.concat(_s(He)),He.timelineStarts=Is([Ue.timelineStarts,He.timelineStarts]),function(Le){var We=Le.oldPlaylists,Ze=Le.timelineStarts;Le.newPlaylists.forEach(function(it){it.discontinuitySequence=di(Ze,function(rt){return rt.timeline===it.timeline});var st=function(rt,_t){for(var At=0;At<rt.length;At++)if(rt[At].attributes.NAME===_t)return rt[At];return null}(We,it.attributes.NAME);if(st&&!it.sidx){var ft=it.segments[0],ct=di(st.segments,function(rt){return Math.abs(rt.presentationTime-ft.presentationTime)<sr});if(ct===-1)return Rs({playlist:it,mediaSequence:st.mediaSequence+st.segments.length}),it.segments[0].discontinuity=!0,it.discontinuityStarts.unshift(0),void((!st.segments.length&&it.timeline>st.timeline||st.segments.length&&it.timeline>st.segments[st.segments.length-1].timeline)&&it.discontinuitySequence--);st.segments[ct].discontinuity&&!ft.discontinuity&&(ft.discontinuity=!0,it.discontinuityStarts.unshift(0),it.discontinuitySequence--),Rs({playlist:it,mediaSequence:st.segments[ct].number})}})}({oldPlaylists:$e,newPlaylists:qe,timelineStarts:He.timelineStarts}),He):B},hr=function(A,e,t){var r=A.NOW,n=A.clientOffset,o=A.availabilityStartTime,I=A.timescale,N=I===void 0?1:I,w=A.periodStart,se=w===void 0?0:w,W=A.minimumUpdatePeriod,k=(r+n)/1e3+(W===void 0?0:W)-(o+se);return Math.ceil((k*N-e)/t)},ks=function(A,e){for(var t=A.type,r=A.minimumUpdatePeriod,n=r===void 0?0:r,o=A.media,I=o===void 0?"":o,N=A.sourceDuration,w=A.timescale,se=w===void 0?1:w,W=A.startNumber,k=W===void 0?1:W,C=A.periodStart,p=[],x=-1,ge=0;ge<e.length;ge++){var B=e[ge],ke=B.d,Ve=B.r||0,ue=B.t||0;x<0&&(x=ue),ue&&ue>x&&(x=ue);var Ue=void 0;if(Ve<0){var He=ge+1;Ue=He===e.length?t==="dynamic"&&n>0&&I.indexOf("$Number$")>0?hr(A,x,ke):(N*se-x)/ke:(e[He].t-x)/ke}else Ue=Ve+1;for(var $e=k+p.length+Ue,qe=k+p.length;qe<$e;)p.push({number:qe,duration:ke/se,time:x,timeline:C}),x+=ke,qe++}return p},lr=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Os=function(A,e){return A.replace(lr,function(t){return function(r,n,o,I){if(r==="$$")return"$";if(t[n]===void 0)return r;var N=""+t[n];return n==="RepresentationID"?N:(I=o?parseInt(I,10):1,N.length>=I?N:""+new Array(I-N.length+1).join("0")+N)}}(e))},ur=function(A,e){var t={RepresentationID:A.id,Bandwidth:A.bandwidth||0},r=A.initialization,n=r===void 0?{sourceURL:"",range:""}:r,o=si({baseUrl:A.baseUrl,source:Os(n.sourceURL,t),range:n.range}),I=function(N,w){return N.duration||w?N.duration?Xi(N):ks(N,w):[{number:N.startNumber||1,duration:N.sourceDuration,time:0,timeline:N.periodStart}]}(A,e);return I.map(function(N){t.Number=N.number,t.Time=N.time;var w=Os(A.media||"",t),se=A.timescale||1,W=A.presentationTimeOffset||0,k=A.periodStart+(N.time-W)/se;return{uri:w,timeline:N.timeline,duration:N.duration,resolvedUri:Lt(A.baseUrl||"",w),map:o,number:N.number,presentationTime:k}})},cr=function(A,e){var t=A.duration,r=A.segmentUrls,n=r===void 0?[]:r,o=A.periodStart;if(!t&&!e||t&&e)throw new Error("SEGMENT_TIME_UNSPECIFIED");var I,N=n.map(function(w){return function(se,W){var k=se.baseUrl,C=se.initialization,p=C===void 0?{}:C,x=si({baseUrl:k,source:p.sourceURL,range:p.range}),ge=si({baseUrl:k,source:W.media,range:W.mediaRange});return ge.map=x,ge}(A,w)});return t&&(I=Xi(A)),e&&(I=ks(A,e)),I.map(function(w,se){if(N[se]){var W=N[se],k=A.timescale||1,C=A.presentationTimeOffset||0;return W.timeline=w.timeline,W.duration=w.duration,W.number=w.number,W.presentationTime=o+(w.time-C)/k,W}}).filter(function(w){return w})},pr=function(A){var e,t,r=A.attributes,n=A.segmentInfo;n.template?(t=ur,e=vt(r,n.template)):n.base?(t=Ps,e=vt(r,n.base)):n.list&&(t=cr,e=vt(r,n.list));var o={attributes:r};if(!t)return o;var I=t(e,n.segmentTimeline);if(e.duration){var N=e,w=N.duration,se=N.timescale,W=se===void 0?1:se;e.duration=w/W}else I.length?e.duration=I.reduce(function(k,C){return Math.max(k,Math.ceil(C.duration))},0):e.duration=0;return o.attributes=e,o.segments=I,n.base&&e.indexRange&&(o.sidx=I[0],o.segments=[]),o},Bs=function(A){return A.map(pr)},Tt=function(A,e){return Kt(A.childNodes).filter(function(t){return t.tagName===e})},Wi=function(A){return A.textContent.trim()},Si=function(A){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(A);if(!e)return 0;var t=e.slice(1),r=t[0],n=t[1],o=t[2],I=t[3],N=t[4],w=t[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(n||0)+86400*parseFloat(o||0)+3600*parseFloat(I||0)+60*parseFloat(N||0)+parseFloat(w||0)},Ms={mediaPresentationDuration:function(A){return Si(A)},availabilityStartTime:function(A){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=A)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(A){return Si(A)},suggestedPresentationDelay:function(A){return Si(A)},type:function(A){return A},timeShiftBufferDepth:function(A){return Si(A)},start:function(A){return Si(A)},width:function(A){return parseInt(A,10)},height:function(A){return parseInt(A,10)},bandwidth:function(A){return parseInt(A,10)},startNumber:function(A){return parseInt(A,10)},timescale:function(A){return parseInt(A,10)},presentationTimeOffset:function(A){return parseInt(A,10)},duration:function(A){var e=parseInt(A,10);return isNaN(e)?Si(A):e},d:function(A){return parseInt(A,10)},t:function(A){return parseInt(A,10)},r:function(A){return parseInt(A,10)},DEFAULT:function(A){return A}},kt=function(A){return A&&A.attributes?Kt(A.attributes).reduce(function(e,t){var r=Ms[t.name]||Ms.DEFAULT;return e[t.name]=r(t.value),e},{}):{}},gr={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Di=function(A,e){return e.length?Mt(A.map(function(t){return e.map(function(r){return Lt(t,Wi(r))})})):A},Yi=function(A){var e=Tt(A,"SegmentTemplate")[0],t=Tt(A,"SegmentList")[0],r=t&&Tt(t,"SegmentURL").map(function(k){return vt({tag:"SegmentURL"},kt(k))}),n=Tt(A,"SegmentBase")[0],o=t||e,I=o&&Tt(o,"SegmentTimeline")[0],N=t||n||e,w=N&&Tt(N,"Initialization")[0],se=e&&kt(e);se&&w?se.initialization=w&&kt(w):se&&se.initialization&&(se.initialization={sourceURL:se.initialization});var W={template:se,segmentTimeline:I&&Tt(I,"S").map(function(k){return kt(k)}),list:t&&vt(kt(t),{segmentUrls:r,initialization:kt(w)}),base:n&&vt(kt(n),{initialization:kt(w)})};return Object.keys(W).forEach(function(k){W[k]||delete W[k]}),W},fr=function(A,e,t){return function(r){var n,o=kt(r),I=Di(e,Tt(r,"BaseURL")),N=Tt(r,"Role")[0],w={role:kt(N)},se=vt(A,o,w),W=Tt(r,"Accessibility")[0],k=(n=kt(W)).schemeIdUri==="urn:scte:dash:cc:cea-608:2015"?(typeof n.value!="string"?[]:n.value.split(";")).map(function(Ve){var ue,Ue;if(Ue=Ve,/^CC\d=/.test(Ve)){var He=Ve.split("=");ue=He[0],Ue=He[1]}else/^CC\d$/.test(Ve)&&(ue=Ve);return{channel:ue,language:Ue}}):n.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"?(typeof n.value!="string"?[]:n.value.split(";")).map(function(Ve){var ue={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(Ve)){var Ue=Ve.split("="),He=Ue[0],$e=Ue[1],qe=$e===void 0?"":$e;ue.channel=He,ue.language=Ve,qe.split(",").forEach(function(J){var Te=J.split(":"),Pe=Te[0],j=Te[1];Pe==="lang"?ue.language=j:Pe==="er"?ue.easyReader=Number(j):Pe==="war"?ue.aspectRatio=Number(j):Pe==="3D"&&(ue["3D"]=Number(j))})}else ue.language=Ve;return ue.channel&&(ue.channel="SERVICE"+ue.channel),ue}):void 0;k&&(se=vt(se,{captionServices:k}));var C=Tt(r,"Label")[0];if(C&&C.childNodes.length){var p=C.childNodes[0].nodeValue.trim();se=vt(se,{label:p})}var x=Tt(r,"ContentProtection").reduce(function(Ve,ue){var Ue=kt(ue);Ue.schemeIdUri&&(Ue.schemeIdUri=Ue.schemeIdUri.toLowerCase());var He=gr[Ue.schemeIdUri];if(He){Ve[He]={attributes:Ue};var $e=Tt(ue,"cenc:pssh")[0];if($e){var qe=Wi($e);Ve[He].pssh=qe&&function(J){for(var Te,Pe=(Te=J,ot().atob?ot().atob(Te):Nt.from(Te,"base64").toString("binary")),j=new Uint8Array(Pe.length),Be=0;Be<Pe.length;Be++)j[Be]=Pe.charCodeAt(Be);return j}(qe)}}return Ve},{});Object.keys(x).length&&(se=vt(se,{contentProtection:x}));var ge=Yi(r),B=Tt(r,"Representation"),ke=vt(t,ge);return Mt(B.map(function(Ve,ue,Ue){return function(He){var $e=Tt(He,"BaseURL"),qe=Di(ue,$e),J=vt(Ve,kt(He)),Te=Yi(He);return qe.map(function(Pe){return{segmentInfo:vt(Ue,Te),attributes:vt(J,{baseUrl:Pe})}})}}(se,I,ke)))}},mr=function(A,e){return function(t,r){var n=Di(e,Tt(t.node,"BaseURL")),o=vt(A,{periodStart:t.attributes.start});typeof t.attributes.duration=="number"&&(o.periodDuration=t.attributes.duration);var I=Tt(t.node,"AdaptationSet"),N=Yi(t.node);return Mt(I.map(fr(o,n,N)))}},xs=function(A,e){e===void 0&&(e={});var t=e,r=t.manifestUri,n=r===void 0?"":r,o=t.NOW,I=o===void 0?Date.now():o,N=t.clientOffset,w=N===void 0?0:N,se=Tt(A,"Period");if(!se.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var W=Tt(A,"Location"),k=kt(A),C=Di([n],Tt(A,"BaseURL"));k.type=k.type||"static",k.sourceDuration=k.mediaPresentationDuration||0,k.NOW=I,k.clientOffset=w,W.length&&(k.locations=W.map(Wi));var p=[];return se.forEach(function(x,ge){var B=kt(x),ke=p[ge-1];B.start=function(Ve){var ue=Ve.attributes,Ue=Ve.priorPeriodAttributes,He=Ve.mpdType;return typeof ue.start=="number"?ue.start:Ue&&typeof Ue.start=="number"&&typeof Ue.duration=="number"?Ue.start+Ue.duration:Ue||He!=="static"?null:0}({attributes:B,priorPeriodAttributes:ke?ke.attributes:null,mpdType:k.type}),p.push({node:x,attributes:B})}),{locations:k.locations,representationInfo:Mt(p.map(mr(k,C)))}},Ki=function(A){if(A==="")throw new Error("DASH_EMPTY_MANIFEST");var e,t,r=new wt.DOMParser;try{t=(e=r.parseFromString(A,"application/xml"))&&e.documentElement.tagName==="MPD"?e.documentElement:null}catch(n){}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return t},yr="0.21.1",vr=function(A,e){e===void 0&&(e={});var t=xs(Ki(A),e),r=Bs(t.representationInfo);return Cs({dashPlaylists:r,locations:t.locations,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest})},Sr=function(A){return function(e){var t=Tt(e,"UTCTiming")[0];if(!t)return null;var r=kt(t);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return r}(Ki(A))};function Qi(){let A=["283789lmBnaw","25536216WXKpCG","../","666mqbCQw","uri","bandwidth","965IrcYbA","42872lnFmtk","parse","addRendition","segments","1745862vDJoTj","1XvipSs","4334058OUSpaU","playlists","430MABtVl","22252xEyBIu","addSegment","startsWith","resolvedUri","Error parsing MPD manifest: ","attributes","261822mUqzAh","targetDuration","7faUmDA"];return(Qi=function(){return A})()}let Vs=zi;function zi(A,e){let t=Qi();return(zi=function(r,n){return t[r-=393]})(A,e)}(function(A){let e=zi,t=A();for(;;)try{if(parseInt(e(408))/1*(parseInt(e(393))/2)+-parseInt(e(407))/3+-parseInt(e(412))/4*(-parseInt(e(402))/5)+-parseInt(e(409))/6*(-parseInt(e(395))/7)+parseInt(e(403))/8*(parseInt(e(399))/9)+parseInt(e(411))/10*(parseInt(e(396))/11)+-parseInt(e(397))/12==722864)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Qi);class Er{static[Vs(404)](e,t,r,n){let o=Vs,I=t;try{let se=K[o(404)](I,{url:e})[o(410)];for(var N of se){let W=new Ce;W[o(401)]=N[o(417)].BANDWIDTH,W.uri=N[o(415)],W[o(394)]=N.targetDuration;let k=W[o(400)];for(var w of((!W[o(400)]||W[o(400)]=="")&&(k=N[o(417)]),r[o(405)](k,W),N[o(406)])){let C=w[o(400)];for(;C[o(414)](o(398));)C=C.replace(o(398),"");r[o(413)](k,w[o(415)],C)}}}catch(se){d.default.debug(g.BalancerTag,o(416),se)}}}let xt=Ni;function Ni(A,e){let t=Ji();return(Ni=function(r,n){return t[r-=168]})(A,e)}function Ji(){let A=["emit","url","setContent","ifByteArrayToString","random","pathname","data","compressedBytes","timeout","Success","initialEstimatedTime","Fail","verbose","resource","activeP2PSendProcesses","21CHkurK","updateP2PId","onSuccess","total","56AEIIwv","size","Parsed DASH manifest -> ","10PtEtIp","11123ytxaNE","createdAt","isManifest","finalUrl","2785sJHkOd","length","toJSON","origRes","Range","triedCdns","getPerfLoadTime","now","isMedia","headers","route","failedOriginalCount","debug","forceHttp","startTime","ORIGINAL","triedP2P","instantBandwidth","pathName","progressDownloadedBytesLastUpdate","cdnProvider","retryBecauseNewHeaders","endsWith","BYTLELENGHT ",".m3u8","5085505DAlYrn","downloadTimeMs","round","hash","6388356FaPImh",".mpd","failed","lastEstimatedTime","loaded","551012rFYvlN","announcedP2P","cdnName","isMasterPlaylist","Done ","byteLength","download","Parsed HLS manifest -> ","duration","350XcQQzW","getRenditions","sliceByFirstSpecial","includes","segmentDuration","P2PManager","parse","High risk of buffer. ","undefined"," Total time -> ","targetDuration","search","params","trunc","progressDownloadedBytes","retries","host","2414448sWYXRQ","Update P2P ID ","getNewUrl","slice","arrayBuffer","uncompressedBytes","bandwidth","_resource","endTime","p2pId","realBodySize","41702694sYvmTO","push","Util","getEntriesByType"," renditions -> "," downloaded by p2p -> ","Problem slicing the array"];return(Ji=function(){return A})()}(function(A){let e=Ni,t=A();for(;;)try{if(-parseInt(e(172))/1*(parseInt(e(215))/2)+-parseInt(e(265))/3*(parseInt(e(206))/4)+-parseInt(e(197))/5+-parseInt(e(201))/6+-parseInt(e(168))/7*(-parseInt(e(269))/8)+parseInt(e(232))/9+parseInt(e(272))/10*(parseInt(e(243))/11)==537076)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Ji);class Tr extends S{constructor(e,t,r,n={},o=3,I=!1,N=!1){let w=Ni;var se;super(),this[w(190)]="",this[w(256)]=new ArrayBuffer(1),this[w(270)]=0,this[w(238)]=0,this.startTime=0,this[w(240)]=0,this[w(198)]=0,this[w(203)]=!1,this[w(258)]=!1,this[w(229)]=0,this.progressDownloadedBytesLastUpdate=0,this.instantBandwidth=0,this[w(214)]=0,this.initialEstimatedTime=0,this[w(204)]=0,this[w(170)]=!1,this.isMasterPlaylist=!1,this[w(180)]=!1,this[w(212)]=!0,this[w(242)]=0,this.readyForP2P=!0,this[w(207)]=!1,this[w(264)]=0,this[w(193)]=0,this[w(185)]=!1,this.peer=void 0,this[w(169)]=Date[w(179)](),this[w(183)]=0,this.segmentDuration=void 0;let W=new URL(t);this[w(251)]=t,this[w(171)]=t,this.origRes=t,this[w(231)]=W[w(231)],this[w(182)]=W[w(255)],this[w(227)]=W[w(226)],this.headers=n,this[w(230)]=o,this.useP2P=I,this[w(188)]=!1,this[w(208)]="",this[w(192)]="",this[w(236)]=N,this[w(177)]=[],this[w(239)]=r,this[w(190)]=e,this.id=Math.floor(100*Math[w(254)]())+"-"+Date[w(179)]();let k=((se=this[w(181)])===null||se===void 0?void 0:se[w(176)])||"";this[w(241)]=window[w(220)]?window[w(220)][w(245)][w(200)](this[w(190)]+k):""+this[w(190)]+k}[xt(266)](){let e=xt;var t;if(!window[e(220)])return;let r=((t=this[e(181)])===null||t===void 0?void 0:t[e(176)])||"";d.default.debug(g.BalancerTag,e(233)+this.pathName+r),this[e(241)]=window.P2PManager[e(245)][e(200)](this[e(190)]+r)}[xt(234)](e){let t=xt,r=!1;this[t(170)]?(this.isManifest&&this[t(203)]||this.isManifest&&e)&&(r=!0):r=!0;let n=r?this[t(171)]:this[t(251)];return this[t(227)]&&(n=n[t(218)]("?")?n+"&"+this[t(227)]:n+"?"+this.params),n}addParametersToUrl(e){let t=xt,r=e;return this.params&&r&&(r=r[t(218)]("?")?r+"&"+this.params:r+"?"+this[t(227)]),r}changeCDN(e,t,r){let n=xt;if(r!=n(187)){let o=new URL(e);this[n(231)]=o[n(231)],this[n(182)]=o.pathname,this.triedCdns[n(244)](t)}this[n(208)]=t,this.cdnProvider=r}[xt(252)](e){let t=xt;this.data=e,this[t(270)]=e[t(211)],this[t(250)](u.yL[t(259)],{segment:this,data:e})}noContentObtained(){let e=xt;this[e(250)](u.yL[e(261)],{segment:this})}[xt(178)](e){let t=xt;var r;if(typeof performance!==t(223)&&typeof performance[t(246)]=="function"){let n=performance[t(246)](t(263));if(n&&n.length>0)for(let o of n){let I=o[t(174)]();if(!((r=I==null?void 0:I.name)===null||r===void 0)&&r.includes(e))return Math[t(199)](I==null?void 0:I[t(214)])}}return-1}onProgress(e,t){let r=xt;t.total>0&&(this[r(242)]=t[r(268)]),this.progressDownloadedBytesLastUpdate==0&&(this[r(191)]=this[r(186)]);let n=Date.now(),o=n-this[r(191)];if(this.endTime=Date[r(179)](),o<150)return;o!=0&&(this.instantBandwidth=(t[r(205)]-this[r(229)])/((n-this.progressDownloadedBytesLastUpdate)/1e3)*8,this[r(191)]=n,t[r(205)]&&(this[r(229)]=t.loaded));let I=(n-this[r(186)])/(t.loaded/t[r(268)]);this[r(260)]=this[r(260)]==0?I:this[r(260)],this[r(204)]=I,this.duration>0&&I!=0&&1e3*this.duration<I&&d.default[r(184)](g.BalancerTag,r(222)+this.origRes),d.default[r(262)](g.BalancerTag,r(210)+this[r(175)]+r(224)+(Date[r(179)]()-this[r(186)]))}[xt(267)](e,t,r=!1){let n=xt;if(this[n(240)]=Date.now(),e==null||e[n(173)]==0)return!1;this.downloadTimeMs=this[n(240)]-this[n(186)],this[n(178)](this.route);let o=r?m[n(217)](this.url):this[n(251)],I=new URL(o)[n(255)];if(I[n(194)](n(196))){e=m.ifByteArrayToString(e);let N=gt[n(221)](this[n(251)],e,this._resource);this.isMasterPlaylist=N[n(209)],d.default.debug(g.BalancerTag,n(213)+this.url+n(247)+this[n(239)][n(216)]().size),N[n(225)]!=null&&(this[n(219)]=1e3*N[n(225)])}if(I[n(194)](n(202))){e=m[n(253)](e);let N={duration:void 0};Er[n(221)](this.url,e,this[n(239)],N),this[n(209)]=!0,d.default[n(184)](g.BalancerTag,n(271)+this.url+" renditions -> "+this[n(239)][n(216)]()[n(270)]),N[n(214)]!=null&&(this[n(219)]=1e3*N.duration)}if(d.default[n(262)](g.BalancerTag,n(195)+e.byteLength+n(248)+this[n(188)]),e[n(211)]!=0)try{this[n(256)]=e[n(235)](0,e.byteLength),this.size=this.downloadTimeMs>5?this.data[n(211)]:0,this.cachedSize=this[n(198)]>5?0:this.data[n(211)],this[n(238)]=Math[n(228)](this[n(198)]>5?this.data.byteLength/(this.downloadTimeMs/1e3):0),this[n(256)][n(211)]>0&&(this.realBodySize=this[n(256)][n(211)]),this[n(189)]=0,this[n(229)]=this.size;let N=parseInt(t,10);!isNaN(N)&&N>0&&(this[n(257)]=N,this[n(237)]=this[n(256)][n(211)]||e.byteLength||this[n(242)])}catch(N){d.default.debug(g.BalancerTag,n(249))}else this[n(256)][n(211)]!=this[n(242)]&&(this[n(256)]=new ArrayBuffer(1));return this[n(191)]=this.endTime,!0}}function Ci(A,e){let t=$i();return(Ci=function(r,n){return t[r-=343]})(A,e)}let It=Ci;function $i(){let A=["lastCleanPos","2615195ydzzbv","getBandwidthsPos","push","3641040VUAwAE","getSegments","6RDuqdk","15276zuyOQn","clean","sort","cleaning","10268928MECKDB","updateAvailableBandwidths","12bKbvla","23987UVsJhF","bandwidthPosition","96vFlOqy","pos","9yoGYIL","renditions","fileName","getRenditions","get","isAudio","15884750lRtOaK","100DgFWao","getSegmentsSize","values","getRendition","delete","endsWith","bandwidths","addSegment","6479578gmqzsv","isMaxRendition","bandwidth","forEach","getVideoRenditions","length"];return($i=function(){return A})()}(function(A){let e=Ci,t=A();for(;;)try{if(parseInt(e(380))/1*(parseInt(e(343))/2)+-parseInt(e(370))/3+parseInt(e(373))/4*(-parseInt(e(352))/5)+-parseInt(e(372))/6*(-parseInt(e(360))/7)+-parseInt(e(377))/8+-parseInt(e(345))/9*(-parseInt(e(351))/10)+parseInt(e(367))/11*(-parseInt(e(379))/12)==854084)break;t.push(t.shift())}catch(r){t.push(t.shift())}})($i);class Ar{constructor(){let e=Ci;this.masterUri="",this.renditions=new Map,this.route="",this[e(347)]="",this[e(358)]=[],this[e(344)]=0,this[e(366)]=0,this[e(376)]=!1}[It(374)](){let e=It;this[e(376)]||this[e(344)]-this.lastCleanPos>1e5&&(this[e(376)]=!0,this.delete(this.lastCleanPos,this[e(366)]+5e3),this[e(366)]=this[e(366)]+5e3,this.cleaning=!1)}[It(359)](e,t,r){let n=It;var o;this[n(344)]++,(o=this[n(346)][n(349)](e))===null||o===void 0||o.addSegment(t,r,this[n(344)])}getSize(){let e=It,t=0;for(let r of this[e(346)][e(354)]())t+=r[e(353)]();return t}[It(356)](e,t){let r=It;for(let n of this[r(346)][r(354)]())for(let[o,I]of n[r(371)]())I[r(344)]>=e&&I[r(344)]<=t&&n[r(371)]()[r(356)](o)}addRendition(e,t){let r=It;this[r(346)].set(e,t),this[r(378)]()}[It(348)](){return this[It(346)]}[It(364)](){let e=It,t=new Map;return this[e(346)][e(363)](function(r,n){r[e(350)]||t.set(n,r)}),t}[It(355)](e){let t=It,r;return this[t(346)][t(363)](function(n){let o=t;n[o(371)]()[o(363)](function(I){e[o(357)](I.uri)&&(r=n)})}),r}[It(378)](){let e=It,t=new Array;this[e(346)][e(363)](function(r){let n=e;r[n(350)]||t[n(369)](Number(r[n(362)]))}),t[e(375)](function(r,n){return r-n}),this[e(358)]=t,this.renditions[e(363)](r=>{let n=e;!r[n(350)]&&(r[n(381)]=this[n(368)](r[n(362)]),r[n(381)]+1==this[n(358)][n(365)]&&(r[n(361)]=!0))})}[It(368)](e){let t=0,r=-1;return this[It(358)].forEach(function(n){e==n&&(r=t),t++}),r}}let Qt=mi;(function(A){let e=mi,t=A();for(;;)try{if(-parseInt(e(408))/1*(parseInt(e(350))/2)+-parseInt(e(430))/3+-parseInt(e(437))/4+parseInt(e(360))/5+-parseInt(e(414))/6+parseInt(e(405))/7+parseInt(e(412))/8*(parseInt(e(436))/9)==602248)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(Zi);function Zi(){let A=["1714185hmJdop","parse","Performing decision request with URL ","gotEmptyResponse","debug","DECISION_FINISHED","9IxomVV","871992tATETK","true","delete","options","BALANCER","unregisterCommonVariable","__awaiter","now","_loader","PROFILE_NAME","slice","CDNLoader","pathname","apply"," + (host: ","createUpdateTimer","response","balancerEnabled","onFailedApiResponse","size","Products","2NUsAhR","storage","setVideoAnalyticsEnabled","disable","Storing ","devHost","forEach","getInstance"," for /decision requests","API call failed due to a network error.","3257915MuHuVx","API call failed with status code ","Creating setTimeout for decision request with resource ","qualityPriority","Error parsing Balancer API response: ","send","onerror","setReportTimeout","registerCommonVariable","performHashmapCleanup","onSucessfullApiResponse","start","videoAnalyticsEnabled","setBalancerEnabled","setActiveSwitchingOnLegacy","LAST_USED_CDN","has","value","getIsEnabled","origin","Origin","P2PLoader","-js","throw","BalancerVariables","loadBalancerData","onload","adsAnalyticsEnabled","wasSelectorCommunicationSuccessful","cdnPriority","getCdnList","readyState","signManifestUsingApi","diagnosticTool","open","isValidUrl","clearReportTimeout","verbose","route","_manifestMap","Using development environment -> ","formatParameters","lastIndexOf","setSettings","shouldPerformDecision","659631aFqtPZ","status","getRouteAndFilename","1127183isuNCH","then","AS_ENABLED","startMonitoring","22442968nJxnah","replace","6194178qFngWm","host","getPluginVersion","Empty response received","set"," from manifest hashmap since older than ","GET","Using ","next","https://","split","Empty response received from Balancer API","decisionReloadIntervalPerManifestMilliseconds","timeout","BUCKET","deleteOldestFromManifestMap"];return(Zi=function(){return A})()}function mi(A,e){let t=Zi();return(mi=function(r,n){return t[r-=348]})(A,e)}class br{constructor(e){this[Qt(399)]=new Map,this._loader=e}loadBalancerData(e,t,r,n,o,I,N,w,se,W,k){return C=this,p=void 0,ge=function*(){let B=mi;if(!this._loader[B(378)]())return void V.default[B(357)]().registerCommonVariable(Re.default.Products[B(441)],Re.default[B(384)][B(435)],!0);if(!this[B(404)](t))return d.default[B(434)](g.BalancerTag,"Not performing decision since time between requests has not passed yet."),void this[B(452)](e,t,r,n,o!=null&&o,I!=null&&I,w,se,W,k);let ke=Date[B(444)](),Ve=m[B(395)](t)?this[B(407)](t):{route:"",fileName:""};d.default[B(397)](g.BalancerTag,B(400)+I);let ue=I?u.df[B(355)]:u.df[B(415)];ue=W||ue,d.default[B(434)](g.BalancerTag,B(421)+ue+B(358));let Ue=new XMLHttpRequest,He=ue+"/"+e+"/"+(w?w+"/":"")+"decision";He=He[B(413)]("//","/"),He=B(423)+He;let $e={resource:""+Ve[B(398)]+Ve.fileName,live:""+r,extended:B(438),npawPluginInfo:B(438),originCode:se!=null?se:"",v:V.default[B(416)]()[B(424)](B(382))[0],dynamicRules:k!=null?k:""},qe=this;yield new Promise((J,Te)=>{let Pe=B;Ue[Pe(386)]=function(){let j=Pe;var Be,Le,We,Ze,it,st,ft,ct,rt,_t,At;if(Ue[j(391)]===4){if(Ue.status>0&&(qe._manifestMap[j(348)]===10&&!qe[j(399)][j(376)](t)&&qe[j(429)](),qe[j(369)](),qe[j(399)][j(418)](t,Date[j(444)]()),d.default.verbose(g.BalancerTag,j(354)+t+" in manifest hashmap")),Ue.status>=200&&Ue.status<=300){let Ut=Date[j(444)]()-ke;qe[j(445)][j(448)][j(370)](Ut);try{if(Ue[j(453)]){qe[j(440)]=JSON[j(431)](Ue[j(453)]),V.default[j(357)]().registerCommonVariable(Re.default.Products.BALANCER,Re.default.BalancerVariables[j(446)],w),V.default[j(357)]().registerCommonVariable(Re.default.Products[j(441)],Re.default[j(384)][j(428)],se),qe[j(445)][j(351)][j(403)](qe[j(440)]),qe[j(445)][j(381)]&&(qe._loader[j(381)][j(403)](qe[j(440)]),qe._loader[j(381)][j(411)]()),qe[j(445)][j(448)][j(403)](qe.options,Ve[j(398)]),qe._loader[j(448)].startMonitoring();let bt=[u.m[j(389)],u.m[j(363)]].includes(qe.options.activeSwitching)&&qe._loader[j(448)][j(390)]()[j(348)]>0;V.default.getInstance().isUsingLegacy()?V.default[j(357)]()[j(374)](bt):V.default[j(357)]()[j(368)](Re.default[j(349)][j(441)],Re.default[j(384)][j(410)],bt),Qe.default.getInstance()[j(388)](!0),Qe.default[j(357)]()[j(373)]((Le=(Be=qe.options)===null||Be===void 0?void 0:Be[j(393)])===null||Le===void 0?void 0:Le[j(454)]),Qe.default[j(357)]()[j(352)]((Ze=(We=qe.options)===null||We===void 0?void 0:We[j(393)])===null||Ze===void 0?void 0:Ze[j(372)]),Qe.default[j(357)]().setAdsAnalyticsEnabled((st=(it=qe[j(440)])===null||it===void 0?void 0:it[j(393)])===null||st===void 0?void 0:st[j(387)]),Qe.default[j(357)]()[j(367)]((ct=(ft=qe[j(440)])===null||ft===void 0?void 0:ft[j(393)])===null||ct===void 0?void 0:ct.timeout)}else d.default.debug(g.BalancerTag,j(425)),qe._loader[j(381)][j(353)](),qe._loader[j(448)][j(433)](),Qe.default[j(357)]()[j(388)](!1,j(417)),V.default[j(357)]()[j(368)](Re.default.Products[j(441)],Re.default[j(384)][j(375)],j(380))}catch(bt){d.default[j(434)](g.BalancerTag,j(364),bt)}}else{let Ut=JSON[j(431)](Ue.response);Qe.default[j(357)]()[j(388)](!1,Ut.messages[0].code),V.default[j(357)]().registerCommonVariable(Re.default[j(349)][j(441)],Re.default[j(384)][j(375)],j(380)),d.default[j(434)](g.BalancerTag,j(361)+Ue[j(406)]),qe[j(445)].CDNLoader[j(455)]()}V.default[j(357)]()[j(368)](Re.default[j(349)][j(441)],Re.default[j(384)].DECISION_FINISHED,!0);let Ft=Qe.default[j(357)]().getReportTimeout();Ft!=Qe.default.defaultReportTimeout&&((At=(_t=(rt=qe[j(440)])===null||rt===void 0?void 0:rt[j(393)])===null||_t===void 0?void 0:_t[j(427)])!==null&&At!==void 0?At:Ft)!=Ft&&(Qe.default.getInstance()[j(396)](),Qe.default[j(357)]()[j(371)]())}J()},Ue[Pe(366)]=function(){let j=Pe;qe[j(445)].CDNLoader.onFailedApiResponse(),d.default[j(434)](g.BalancerTag,j(359)),J()},N?Ue[Pe(394)]("GET",He+m[Pe(401)]($e),!1):Ue.open(Pe(420),He+m.formatParameters($e)),V.default[Pe(357)]()[Pe(368)](Re.default[Pe(349)][Pe(441)],Re.default[Pe(384)][Pe(435)],!1),V.default[Pe(357)]()[Pe(442)](Re.default[Pe(349)].BALANCER,Re.default[Pe(384)][Pe(446)]),V.default.getInstance().unregisterCommonVariable(Re.default[Pe(349)][Pe(441)],Re.default[Pe(384)].BUCKET),V.default.getInstance()[Pe(442)](Re.default[Pe(349)][Pe(441)],Re.default[Pe(384)].AS_ENABLED),d.default[Pe(397)](g.BalancerTag,Pe(432)+He+m[Pe(401)]($e)+Pe(451)+ue+")"),Ue[Pe(365)]()}),this[B(452)](e,t,r,n,o!=null&&o,I!=null&&I,w,se,W)},new((x=void 0)||(x=Promise))(function(B,ke){let Ve=mi;function ue($e){try{He(ge.next($e))}catch(qe){ke(qe)}}function Ue($e){let qe=mi;try{He(ge[qe(383)]($e))}catch(J){ke(J)}}function He($e){let qe=mi;var J;$e.done?B($e.value):(J=$e[qe(377)],J instanceof x?J:new x(function(Te){Te(J)}))[qe(409)](ue,Ue)}He((ge=ge[Ve(450)](C,p||[]))[Ve(422)]())});var C,p,x,ge}[Qt(452)](e,t,r,n,o,I,N,w,se,W){let k=Qt;n>0&&(d.default[k(397)](g.BalancerTag,k(362)+t),setTimeout(()=>{let C=k;var p;this[C(385)](e,t,r,n,o,I,(p=this[C(440)][C(392)])!==null&&p!==void 0&&p,N,w,se,W)},1e3*n))}[Qt(407)](e){let t=Qt,r=new URL(e),n=r[t(379)]+r[t(449)],o=n[t(402)]("/")+1;return{route:n[t(447)](0,o),fileName:n[t(447)](o)}}[Qt(404)](e){let t=Qt;var r;if(!this[t(399)].has(e))return!0;{let n=(r=this[t(399)].get(e))!==null&&r!==void 0?r:Date.now();if(Date[t(444)]()-n>u.df.decisionReloadIntervalPerManifestMilliseconds)return!0}return!1}[Qt(369)](){let e=Qt;this[e(399)][e(356)]((t,r)=>{let n=e;Date[n(444)]()-t>u.df[n(426)]&&(d.default[n(397)](g.BalancerTag,"Removing "+r+n(419)+u.df[n(426)]+"ms"),this[n(399)].delete(r))})}deleteOldestFromManifestMap(){let e=Qt,t,r=1/0;this[e(399)][e(356)]((n,o)=>{n<r&&(r=n,t=o)}),t!==void 0&&this[e(399)][e(439)](t)}}let Lr=li;function li(A,e){let t=es();return(li=function(r,n){return t[r-=433]})(A,e)}(function(A){let e=li,t=A();for(;;)try{if(-parseInt(e(439))/1+-parseInt(e(438))/2+parseInt(e(456))/3+-parseInt(e(436))/4+parseInt(e(454))/5*(-parseInt(e(449))/6)+-parseInt(e(442))/7*(parseInt(e(453))/8)+parseInt(e(444))/9==701346)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(es);function es(){let A=["348720tJqjMk","progressDownloadedBytesLastUpdate","size","instantBandwidth","24dpnoQu","115Qkfvku","downloadTimeMs","496908FluNew","__awaiter","value","next","788988rHGWRD","endTime","1401180sWXAKk","871434lvdeWy","limit","now","1477455KvUYKf","then","38474424uwrHSW","startTime","bandwidth","throw","apply"];return(es=function(){return A})()}class Pr{[Lr(440)](e,t){return r=this,n=void 0,I=function*(){let N=li,w=t[N(451)]/(t[N(455)]/1e3)*8;if(e!=0&&w>e){let se=1e3*t[N(451)]*8/e,W=(Date[N(441)](),t[N(445)],se-t[N(455)]);W>0&&(yield m.delay(W)),t.endTime=Date[N(441)](),t.downloadTimeMs=t[N(437)]-t.startTime,t[N(446)]=t.size/(t.downloadTimeMs/1e3),t[N(452)]=0,t[N(450)]=t[N(437)]}},new((o=void 0)||(o=Promise))(function(N,w){let se=li;function W(p){let x=li;try{C(I[x(435)](p))}catch(ge){w(ge)}}function k(p){let x=li;try{C(I[x(447)](p))}catch(ge){w(ge)}}function C(p){let x=li;var ge;p.done?N(p[x(434)]):(ge=p[x(434)],ge instanceof o?ge:new o(function(B){B(ge)}))[x(443)](W,k)}C((I=I[se(448)](r,n||[]))[se(435)]())});var r,n,o,I}}function ts(A,e){var t=ss();return(ts=function(r,n){return t[r-=226]})(A,e)}(function(A){for(var e=ts,t=A();;)try{if(parseInt(e(269))/1+-parseInt(e(232))/2*(-parseInt(e(250))/3)+-parseInt(e(275))/4+parseInt(e(234))/5+parseInt(e(241))/6+-parseInt(e(266))/7+-parseInt(e(239))/8==758800)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(ss);class is{constructor(e,t,r,n,o,I,N,w,se,W,k,C,p,x,ge,B,ke,Ve,ue,Ue,He,$e,qe,J,Te,Pe,j,Be,Le,We,Ze,it,st,ft,ct,rt,_t,At,Ft,Ut,bt,ci,ni,Bt,Rt,Ei,bi,Li,Pi,ai,cs,ps,et,$r,Zr,en,tn,sn,rn,nn){var tt=ts;this[tt(274)]=e,this[tt(233)]=t,this.is_p2p=r,this[tt(263)]=o,this[tt(264)]=I,this[tt(262)]=Ue,this[tt(258)]=He,this.max_response_bytes=$e,this[tt(228)]=qe,this[tt(243)]=J,this[tt(242)]=Te,this[tt(276)]=Pe,this[tt(278)]=j,this[tt(259)]=Be,this[tt(280)]=Le,this[tt(261)]=We,this.network_latency_samples=Ze,this[tt(256)]=it,this[tt(271)]=st,this[tt(231)]=ft,this[tt(226)]=ct,this[tt(246)]=N,this[tt(252)]=rt,this[tt(236)]=_t,this.http_3XX=At,this[tt(254)]=Ft,this[tt(257)]=Ut,this[tt(248)]=bt,this.banned_time=ci,this[tt(260)]=Bt,this[tt(230)]=ni,this[tt(240)]=Rt,this[tt(249)]=Ei,this[tt(244)]=bi,this[tt(253)]=Li,this[tt(255)]=w,this[tt(272)]=se,this[tt(235)]=W,this.banned=ai,this[tt(237)]=cs,this[tt(229)]=k,this[tt(270)]=C,this.max_ping_time=p,this.is_banned=Pi,this[tt(251)]=n,this[tt(268)]=x,this[tt(243)]=J,this.cache_hit_chunks=ge,this[tt(267)]=B,this[tt(245)]=ke,this[tt(227)]=Ve,this[tt(238)]=ue,this[tt(247)]=ps,this.internal_banned=et,this.internal_unbanned=$r,this.internal_switches=Zr,this[tt(277)]=en,this[tt(265)]=tn,this[tt(279)]=sn,this.internal_banned_time=rn,this[tt(273)]=nn}}function ss(){var A=["internal_switches_due_connectivity","8520785HDzwVk","cache_miss_chunks","resource","1300276sEKUMi","min_ping_time","min_throughput","max_bandwidth","internal_unbanned_time","provider","1959036NxVYsC","max_response_time","internal_switches_due_quality","response_time_samples","internal_switches_due_errors","min_network_latency","throughput_samples","video_downloaded_chunks","response_bytes_samples","avg_ping_time","uncompressed_video_bytes","max_throughput","2357066RyrlKd","internal_provider","495040xEacPT","min_bandwidth","http_2XX","unbanned","video_time","2661128cbWbiQ","switches","1323828SvnjPX","min_response_time","response_time","switches_due_errors","video_downloaded_bytes","errors","internal_is_banned","unbanned_time","switches_due_connectivity","3XSvPSy","is_active","http_1XX","switches_due_quality","http_4XX","time","throughput","http_5XX","min_response_bytes","network_latency","compressed_video_bytes","max_network_latency","response_bytes","downloaded_bytes","downloaded_chunks"];return(ss=function(){return A})()}function rs(A,e){var t=ns();return(rs=function(r,n){return t[r-=468]})(A,e)}(function(A){for(var e=rs,t=A();;)try{if(parseInt(e(511))/1*(parseInt(e(505))/2)+parseInt(e(488))/3*(parseInt(e(470))/4)+-parseInt(e(509))/5*(parseInt(e(474))/6)+-parseInt(e(471))/7*(parseInt(e(469))/8)+-parseInt(e(503))/9*(parseInt(e(484))/10)+-parseInt(e(515))/11+parseInt(e(493))/12==226997)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(ns);class wr{constructor(e,t,r,n,o,I,N,w,se,W,k,C,p,x,ge,B,ke,Ve,ue,Ue,He,$e,qe,J,Te,Pe,j,Be,Le,We,Ze,it,st,ft,ct,rt,_t,At,Ft,Ut,bt,ci,ni,Bt,Rt,Ei,bi,Li,Pi,ai,cs,ps){var et=rs;this[et(480)]=e,this[et(499)]=t,this[et(508)]=r,this.downloaded_bytes=n,this[et(521)]=o,this[et(489)]=I,this[et(473)]=N,this.max_bandwidth=w,this[et(498)]=se,this[et(518)]=W,this[et(500)]=k,this[et(517)]=C,this[et(492)]=p,this[et(516)]=x,this[et(495)]=ge,this[et(510)]=B,this[et(477)]=ke,this[et(502)]=Ve,this[et(476)]=ue,this[et(501)]=Ue,this[et(497)]=He,this[et(486)]=$e,this[et(524)]=qe,this[et(475)]=J,this[et(481)]=Te,this[et(472)]=Pe,this[et(520)]=j,this[et(485)]=Be,this[et(523)]=Le,this.max_response_bytes=We,this[et(483)]=Ze,this[et(479)]=it,this[et(514)]=st,this[et(504)]=ft,this[et(496)]=ct,this[et(506)]=rt,this[et(507)]=_t,this[et(487)]=At,this[et(525)]=Ft,this.throughput=Ut,this[et(491)]=bt,this[et(490)]=ci,this[et(494)]=ni,this.peers_available=Bt,this[et(512)]=Rt,this[et(513)]=Ei,this[et(482)]=bi,this[et(522)]=Li,this[et(468)]=Pi,this[et(478)]=ai,this[et(519)]=cs,this.peer_connection_time=ps}}function ns(){var A=["3350800gTLbHN","4BNkSsA","7GtQtrX","active_peers","time","270966eQGgtY","timeout_errors","upload_time","uploaded_bytes","min_peers_parallel_used","response_time","provider","other_errors","peers_used","response_bytes_samples","46740cuLQhf","response_bytes","late_downloaded_bytes","max_network_latency","111117plpFdi","errors","max_throughput","min_throughput","resource","8853540KbcdxH","throughput_samples","video_downloaded_chunks","response_time_samples","late_uploaded_bytes","min_bandwidth","internal_provider","min_ping_time","late_uploaded_chunks","uploaded_chunks","306pLPPyK","max_response_time","20Khtsco","network_latency","min_network_latency","is_p2p","20hZQYTd","video_time","44563SoXEWW","max_peers_available","min_peers_available","min_response_time","2585627HLPPxB","video_downloaded_bytes","max_ping_time","avg_ping_time","peer_discovery_time","peers","downloaded_chunks","peers_parallel_used","min_response_bytes","missed_downloaded_chunks","network_latency_samples","max_peers_parallel_used"];return(ns=function(){return A})()}function as(A,e){var t=os();return(as=function(r,n){return t[r-=346]})(A,e)}function os(){var A=["apiCallErrors","videoId","1170xPYWqx","3wfTujj","120232rGXfHU","apiCallResponses","725424YMuZuL","chunkDuration","840978kedPYx","forceDecision","apiCallsMinResponseTime","apiCallsMaxResponseTime","isLive","132158WQCsYQ","bolinaAvailable","apiCallsAvgResponseTime","545006GqhzkQ","priorityCdn","422696ValGDl","requestPlatform","2075TsqGVu","bucket"];return(os=function(){return A})()}(function(A){for(var e=as,t=A();;)try{if(parseInt(e(347))/1+parseInt(e(352))/2*(-parseInt(e(359))/3)+parseInt(e(360))/4+-parseInt(e(354))/5*(-parseInt(e(358))/6)+-parseInt(e(350))/7+parseInt(e(362))/8+parseInt(e(364))/9==138055)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(os);class Ir{constructor(e,t,r,n,o,I,N,w,se,W,k,C,p,x,ge,B){var ke=as;this[ke(356)]=e,this[ke(361)]=t,this[ke(366)]=r,this[ke(349)]=n,this[ke(367)]=o,this[ke(355)]=I,this[ke(346)]=N,this[ke(357)]=w,this[ke(365)]=se,this[ke(353)]=W,this.p2pAvailable=k,this[ke(348)]=C,this.activeSwitchingPriority=p,this[ke(351)]=x,this[ke(363)]=ge,this.announcedCdns=B}}let Vt=ui;(function(A){let e=ui,t=A();for(;;)try{if(-parseInt(e(150))/1*(parseInt(e(325))/2)+parseInt(e(264))/3*(-parseInt(e(318))/4)+parseInt(e(258))/5*(-parseInt(e(341))/6)+parseInt(e(351))/7+parseInt(e(364))/8+-parseInt(e(199))/9+parseInt(e(202))/10*(parseInt(e(324))/11)==282279)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(ds);function ds(){let A=["minThroughput","discardedUploadedChunks","getFastDataSessionToken","forEach","getReportInterval","stopped","takeMax","peerConnectionTime","trunc","isLive","lastReportedCodavelSwitchesDueToErrors","downloadedBytes","loader","value","bannedTime","next","startsWith","downloadBytesVideo","uploadedBytes","minResponseBytes","uploadedTime","maxApiCallResponseTime","from","1508408CYLRSU","getOptions","set","apiCallResponses","updateCodavelBanTimes","bannedCount","1650XWLiDu","216882KOzPZh","provider","updatePeerMetrics","downloadChunksVideo","codavelSwitches","codavelBanCount","lowestSegmentBandwidth","total","takeMin","CDNLoader","totalFailures","highestSegmentBandwidth","wasStartSent","METHOD_OPTION","profileName","compressedBytes","8670QVEguM","minBandwidth","hasValuesChanged","priorityCdn","GET","downloadedChunks","avgApiCallResponseTime","errors","usedOrProbed","banned","591052wZmYJw","http_5XX","resetOnPing","codavelSwitchesDueToErrors","samplesResponseTime","peersUsed","http2xxResponses","P2PLoader","cacheHit","resource","timeout","apiCallsMinResponseTime","BALANCER","2633112QMTfcR","size","getBucket","sumResponseTime","BALANCER_BITRATE","downloadMillis","values","Consumer","3ndYPbe","samplesNetworkLatency","sumResponseBytes","offline","BalancerPing: ","BalancerVariables","sumVideoTime","lastCdnStats","takeIf","videoTime","forceDecision","done","activePeers","peersParallelUsed","every","get","host","unBannedCount","switchesDueToErrors","cacheMiss","http4xxResponses","codavelUnbanCount","reportRequest","getForceDecision","updateData","maxResponseTime","codavelBanTime","addNQSRequest","http_3XX","getPluginVersion","discardedDownloadedBytes","http_1XX","activeSwitchingPriority","getPingTime","active","millis","downloadedChunksVideo","minNetworkLatency","internal_provider","downloadMillisVideo","otherErrors","__awaiter","started","getCdnCacheHits","lastReportedCodavelSwitchesDueToConnectivity","codavelUnbanTime","VIDEO_ANALYTICS","minResponseTime","requestPlatform","4548744YXktqR","maxResponseBytes","minApiCallResponseTime","93830UNMvoH","codavelSwitchesDueToQuality","peerDiscoveryTime","sumNetworkLatency","downloadedSegments","avgPingTime","videoId","lastReportedCodavelSwitches","codavelSwitchesDueToConnectivity","absent","lastReportedCodavelUnbanTime","samplesResponseBytes","-js","minPeersParallelUsed","isEnabled","stringify","downloadedBytesVideo","getFastDataService","lastReportedCodavelBanCount","maxPeersParallelUsed","getInstance","lastReportedCodavelUnbanCount","lateUploadedChunks","lateUploadedBytes","lastP2pStats","switches","missedDownloadedChunks","MAX_SAFE_INTEGER","lateDownloadedBytes","uuid","updateAvailability","registerCommonVariable","switchesDueToConnectivity","maxThroughput","lastReportedCodavelBanTime","name","announcedCdns","P2P","unbannedTime","uncompressedBytes","minPeersAvailable","getCdnCacheMisses","getTime","maxNetworkLatency","totalFail","peersAvailable","lastReportedCodavelSwitchesDueToQuality","failedRequests","keys","totalPeers","then","http1xxResponses","lowestPingTime","processedApiCall","chunkDuration","isUsingLegacy","1145MmPCBG","http_2XX","accountCode","highestPingTime","uploadedChunks","unbannedCount","3Txieyq","token","sumVideoBytes","AnalyticsVariables","minPingTime","discardedUploadedBytes","maxPingTime","Products","split","BALANCER_TRAFFIC","sumThroughput","apply","getIsLive","clone","report","isCodavel","throw","error","CDN","maxBandwidth","samplesThroughput","setTriedSendingBalancerStats","_instance","http3xxResponses","http_4XX","getViewCode","apiCallsAvgResponseTime","getSegmentDuration","apiCallErrors","http5xxResponses","switchesDueToQuality"];return(ds=function(){return A})()}function ui(A,e){let t=ds();return(ui=function(r,n){return t[r-=146]})(A,e)}class Ai{static[Vt(222)](e){let t=Vt;return this._instance==null&&e!=null?this[t(286)]=new Ai(e):e!=null&&this._instance!=null&&(e==null?void 0:e.uuid)!=this[t(286)][t(307)][t(231)]&&(this._instance[t(278)](),this[t(286)]=new Ai(e)),this[t(286)]}constructor(e){let t=Vt;this[t(192)]=!1,this[t(300)]=!1,this[t(157)]=new Map,this[t(226)]=new Map,this[t(166)]="",this.token="",this.accountCode="",this[t(339)]="",this[t(360)]="",this[t(236)]=void 0,this[t(212)]=void 0,this[t(220)]=void 0,this.lastReportedCodavelUnbanCount=void 0,this[t(209)]=void 0,this.lastReportedCodavelSwitchesDueToQuality=void 0,this[t(305)]=void 0,this[t(194)]=void 0,this[t(307)]=e}[Vt(174)](e,t,r,n,o){var I,N,w,se,W;return N=this,w=void 0,W=function*(){let k=ui;if(this[k(166)]=e,this.token=t,this[k(260)]=r,this[k(339)]=n!=null?n:"",this[k(360)]=o,!(V.default[k(222)]()[k(257)]()&&this.token[k(311)]("undefined")||this.started)){let C=u.xC[k(282)];V.default.getInstance().pushPeriodicDataFromCallback(V.default[k(222)]()[k(319)]()[k(153)]?Re.default[k(149)].BLACK_HOLE:Re.default[k(149)].NQS,C,C,1e3*this[k(307)][k(299)](),(I=V.default[k(222)]().getCommonVariable(Re.default.Products[k(196)],Re.default[k(267)][k(338)]))!==null&&I!==void 0?I:g.Method[k(345)],()=>{let p=k;if(V.default[p(222)]()[p(337)]())return Qe.default[p(222)]()[p(285)](!0),Ai[p(222)]()[p(278)]()},()=>{let p=k;Qe.default.getInstance()[p(177)](C)}),this.started=!0}},new((se=void 0)||(se=Promise))(function(k,C){function p(B){let ke=ui;try{ge(W[ke(310)](B))}catch(Ve){C(Ve)}}function x(B){let ke=ui;try{ge(W[ke(280)](B))}catch(Ve){C(Ve)}}function ge(B){let ke=ui;var Ve;B[ke(161)]?k(B[ke(308)]):(Ve=B[ke(308)],Ve instanceof se?Ve:new se(function(ue){ue(Ve)}))[ke(252)](p,x)}ge((W=W[ui(275)](N,w||[])).next())})}[Vt(278)](){let e=Vt;try{if(!this[e(300)]){let t=this[e(307)][e(334)].getCdnList(),r=Array[e(317)](t[e(148)]())[e(164)](C=>!C[e(349)]),n=new Map,o;o=r?new Map:new Map(t);let I=0,N=0;this[e(307)][e(334)][e(322)](),this.loader[e(358)][e(327)]();let w=!1;if(o[e(298)](C=>{let p=e;C[p(232)]();let x=C[p(277)](),ge=this[p(157)].get(C[p(237)]);I+=x.sumVideoBytes||0,N+=x[p(156)]||0;let B={downloadedBytesVideo:x[p(218)],downloadedChunksVideo:x.downloadedChunksVideo,videoTime:x[p(189)],downloadedBytes:x.downloadedBytes,downloadedChunks:x[p(346)],sumResponseBytes:x[p(152)],minResponseBytes:x[p(314)],maxResponseBytes:x[p(200)],samplesResponseBytes:x[p(213)],sumResponseTime:x[p(367)],minResponseTime:x[p(197)],maxResponseTime:x[p(175)],samplesResponseTime:x[p(355)],sumNetworkLatency:x[p(205)],minNetworkLatency:x[p(187)],maxNetworkLatency:x[p(245)],samplesNetworkLatency:x.samplesNetworkLatency,sumThroughput:x[p(274)],minThroughput:x[p(295)],maxThroughput:x[p(235)],samplesThroughput:x[p(284)],totalFailures:x[p(246)],http_1XX:x.http1xxResponses,http_2XX:x[p(357)],http_3XX:x[p(287)],http_4XX:x[p(170)],http_5XX:x[p(293)],unbannedTime:x[p(240)],bannedTime:x[p(309)],compressedBytes:x[p(340)],uncompressedBytes:x[p(241)],switches:x[p(227)],switchesDueToConnectivity:x[p(234)],switchesDueToErrors:x[p(168)],switchesDueToQuality:x[p(294)],millis:x.downloadMillis,bannedCount:x[p(323)],unbannedCount:x[p(167)],avgPingTime:x[p(207)],minPingTime:x[p(254)]===Number[p(229)]?0:x[p(254)],maxPingTime:x[p(261)],cacheHit:x.getCdnCacheHits(),cacheMiss:x[p(243)](),minBandwidth:x[p(331)]===Number[p(229)]?0:x[p(331)],maxBandwidth:x.highestSegmentBandwidth};ge&&(B.downloadedBytesVideo-=ge[p(218)],B.downloadedChunksVideo-=ge[p(186)],B[p(159)]-=ge[p(189)],B[p(306)]-=ge.downloadedBytes,B.downloadedChunks-=ge.downloadedChunks,B[p(335)]-=ge[p(246)],B[p(181)]!=null&&ge[p(253)]!=null&&(B.http_1XX-=ge[p(253)]),B[p(259)]!=null&&ge[p(357)]!=null&&(B.http_2XX-=ge[p(357)]),B[p(178)]!=null&&ge[p(287)]!=null&&(B[p(178)]-=ge.http3xxResponses),B.http_4XX!=null&&ge[p(170)]!=null&&(B[p(288)]-=ge[p(170)]),B[p(352)]!=null&&ge[p(293)]!=null&&(B[p(352)]-=ge.http5xxResponses),B.compressedBytes!=null&&ge[p(340)]!=null&&(B[p(340)]-=ge[p(340)]),B[p(241)]!=null&&ge[p(241)]!=null&&(B[p(241)]-=ge[p(241)]),B[p(227)]!=null&&ge[p(227)]!=null&&(B[p(227)]-=ge.switches),B[p(234)]!=null&&ge[p(234)]!=null&&(B[p(234)]-=ge[p(234)]),B[p(168)]!=null&&ge[p(168)]!=null&&(B.switchesDueToErrors-=ge[p(168)]),B[p(294)]!=null&&ge[p(294)]!=null&&(B[p(294)]-=ge[p(294)]),B[p(185)]-=ge[p(147)],B.bannedCount-=ge[p(323)],B[p(263)]-=ge[p(167)],B.avgPingTime-=ge[p(207)],B[p(268)]=B[p(268)]==0?B.minPingTime:B[p(268)]-ge[p(254)],B[p(270)]=B[p(270)]==0?B[p(270)]:B.maxPingTime-ge[p(261)],B[p(359)]-=ge[p(193)](),B.cacheMiss-=ge[p(243)](),B[p(342)]=B[p(342)]==0?B[p(342)]:B[p(342)]-ge[p(331)],B[p(283)]=B[p(283)]==0?B[p(283)]:B[p(283)]-ge[p(336)]);let ke=C.isCodavel()?"CODAVEL":C[p(326)];if(C[p(279)]())if(w){let Ve=new is(ke,C[p(188)],!1,C[p(184)],this.takeIf(B[p(306)],ue=>ue!=0),this.takeIf(B.downloadedChunks,ue=>ue!=0),this[p(158)](B[p(335)],ue=>ue!=0),this[p(158)](B[p(185)],ue=>ue!=0),this[p(158)](B[p(283)],ue=>ue!=0),this.takeIf(B.minBandwidth,ue=>ue!=0),this[p(158)](B[p(207)],ue=>ue!=0),this[p(158)](B.minPingTime,ue=>ue!=0),this[p(158)](B[p(270)],ue=>ue!=0),this[p(360)],this[p(158)](B.cacheHit,ue=>ue!=0),this[p(158)](B[p(169)],ue=>ue!=0),this.takeIf(B[p(218)],ue=>ue!=0),this.takeIf(B.downloadedChunksVideo,ue=>ue!=0),this[p(158)](B[p(159)],ue=>ue!=0),B[p(152)],this.takeMin(B[p(314)]),this[p(301)](B[p(200)]),B.samplesResponseBytes,B[p(367)],this[p(333)](B[p(197)]),this.takeMax(B[p(175)]),B[p(355)],B.sumNetworkLatency,this[p(333)](B[p(187)]),this.takeMax(B[p(245)]),B[p(151)],B[p(274)],this.takeMin(B.minThroughput),this.takeMax(B.maxThroughput),B[p(284)],this[p(158)](B.http_1XX,ue=>ue!=0),this[p(158)](B[p(259)],ue=>ue!=0),this[p(158)](B[p(178)],ue=>ue!=0),this[p(158)](B[p(288)],ue=>ue!=0),this[p(158)](B.http_5XX,ue=>ue!=0),void 0,void 0,this[p(158)](B.uncompressedBytes,ue=>ue!=0),this[p(158)](B[p(340)],ue=>ue!=0),void 0,void 0,void 0,void 0,void 0,void 0,void 0,C[p(350)],this[p(158)](B[p(323)],ue=>ue!=0),this[p(158)](B.unbannedCount,ue=>ue!=0),this[p(158)](B[p(227)],ue=>ue!=0),this[p(158)](B[p(234)],ue=>ue!=0),this.takeIf(B.switchesDueToErrors,ue=>ue!=0),this[p(158)](B[p(294)],ue=>ue!=0),B[p(309)],B.unbannedTime);n.set(C[p(237)],Ve),this[p(157)][p(320)](C.name,x)}else{let Ve=0;this[p(307)][p(334)][p(330)]!=null&&(Ve=this.lastReportedCodavelBanCount!=null?this[p(307)][p(334)][p(330)]-this[p(220)]:this[p(307)].CDNLoader[p(330)]);let ue=0;this[p(307)][p(334)][p(171)]!=null&&(ue=this[p(223)]!=null?this.loader[p(334)][p(171)]-this[p(223)]:this.loader[p(334)][p(171)]);let Ue=0;this[p(307)][p(334)].codavelBanTime!=null&&(Ue=this[p(236)]!=null?this[p(307)].CDNLoader[p(176)]-this.lastReportedCodavelBanTime:this.loader.CDNLoader.codavelBanTime);let He=0;this[p(307)][p(334)].codavelUnbanTime!=null&&(He=this[p(212)]!=null?this[p(307)][p(334)][p(195)]-this[p(212)]:this.loader[p(334)][p(195)]);let $e=0;this[p(307)][p(334)].codavelSwitches!=null&&($e=this[p(209)]!=null?this[p(307)].CDNLoader.codavelSwitches-this[p(209)]:this[p(307)][p(334)][p(329)]);let qe=0;this[p(307)].CDNLoader.codavelSwitchesDueToQuality!=null&&(qe=this[p(248)]!=null?this.loader[p(334)].codavelSwitchesDueToQuality-this[p(248)]:this[p(307)][p(334)][p(203)]);let J=0;this.loader[p(334)][p(210)]!=null&&(J=this[p(194)]!=null?this[p(307)][p(334)].codavelSwitchesDueToConnectivity-this[p(194)]:this[p(307)].CDNLoader.codavelSwitchesDueToConnectivity);let Te=0;this[p(307)].CDNLoader.codavelSwitchesDueToErrors!=null&&(Te=this.lastReportedCodavelSwitchesDueToErrors!=null?this.loader[p(334)].codavelSwitchesDueToErrors-this.lastReportedCodavelSwitchesDueToErrors:this[p(307)].CDNLoader[p(354)]);let Pe=new is(ke,C.internal_provider,!1,C[p(184)],this.takeIf(B.downloadedBytes,j=>j!=0),this[p(158)](B[p(346)],j=>j!=0),this[p(158)](B[p(335)],j=>j!=0),this.takeIf(B[p(185)],j=>j!=0),this.takeIf(B.maxBandwidth,j=>j!=0),this[p(158)](B[p(342)],j=>j!=0),this.takeIf(B.avgPingTime,j=>j!=0),this[p(158)](B[p(268)],j=>j!=0),this[p(158)](B[p(270)],j=>j!=0),this[p(360)],this[p(158)](B[p(359)],j=>j!=0),this[p(158)](B.cacheMiss,j=>j!=0),this.takeIf(B[p(218)],j=>j!=0),this[p(158)](B.downloadedChunksVideo,j=>j!=0),this[p(158)](B[p(159)],j=>j!=0),B[p(152)],this[p(333)](B[p(314)]),this[p(301)](B[p(200)]),B[p(213)],B[p(367)],this.takeMin(B.minResponseTime),this[p(301)](B.maxResponseTime),B[p(355)],B[p(205)],this[p(333)](B[p(187)]),this[p(301)](B[p(245)]),B[p(151)],B[p(274)],this[p(333)](B[p(295)]),this.takeMax(B[p(235)]),B[p(284)],this.takeIf(B.http_1XX,j=>j!=0),this[p(158)](B.http_2XX,j=>j!=0),this.takeIf(B[p(178)],j=>j!=0),this[p(158)](B[p(288)],j=>j!=0),this.takeIf(B[p(352)],j=>j!=0),He,Ue,this[p(158)](B[p(241)],j=>j!=0),this[p(158)](B[p(340)],j=>j!=0),this[p(158)]($e,j=>j!=0),this[p(158)](J,j=>j!=0),this[p(158)](Te,j=>j!=0),this[p(158)](qe,j=>j!=0),this[p(307)].CDNLoader.codavelAllBanned,this.takeIf(Ve,j=>j!=0),this.takeIf(ue,j=>j!=0),C[p(350)],this[p(158)](B.bannedCount,j=>j!=0),this[p(158)](B[p(263)],j=>j!=0),this[p(158)](B[p(227)],j=>j!=0),this[p(158)](B[p(234)],j=>j!=0),this[p(158)](B[p(168)],j=>j!=0),this[p(158)](B.switchesDueToQuality,j=>j!=0),B[p(309)],B[p(240)]);n[p(320)](C[p(237)],Pe),this[p(157)][p(320)](C.name,x),w=!0}else{let Ve=new is(ke,C[p(188)],!1,C[p(184)],this.takeIf(B[p(306)],ue=>ue!=0),this[p(158)](B.downloadedChunks,ue=>ue!=0),this.takeIf(B[p(335)],ue=>ue!=0),this[p(158)](B.millis,ue=>ue!=0),this[p(158)](B[p(283)],ue=>ue!=0),this[p(158)](B.minBandwidth,ue=>ue!=0),this[p(158)](B[p(207)],ue=>ue!=0),this.takeIf(B[p(268)],ue=>ue!=0),this.takeIf(B[p(270)],ue=>ue!=0),this[p(360)],this[p(158)](B[p(359)],ue=>ue!=0),this[p(158)](B[p(169)],ue=>ue!=0),this[p(158)](B[p(218)],ue=>ue!=0),this[p(158)](B[p(186)],ue=>ue!=0),this.takeIf(B[p(159)],ue=>ue!=0),B[p(152)],this[p(333)](B[p(314)]),this[p(301)](B[p(200)]),B[p(213)],B[p(367)],this.takeMin(B[p(197)]),this[p(301)](B[p(175)]),B[p(355)],B.sumNetworkLatency,this[p(333)](B[p(187)]),this.takeMax(B[p(245)]),B[p(151)],B[p(274)],this[p(333)](B[p(295)]),this[p(301)](B[p(235)]),B.samplesThroughput,this[p(158)](B[p(181)],ue=>ue!=0),this[p(158)](B.http_2XX,ue=>ue!=0),this[p(158)](B[p(178)],ue=>ue!=0),this[p(158)](B[p(288)],ue=>ue!=0),this[p(158)](B[p(352)],ue=>ue!=0),B[p(240)],B.bannedTime,this[p(158)](B.uncompressedBytes,ue=>ue!=0),this[p(158)](B[p(340)],ue=>ue!=0),this.takeIf(B[p(227)],ue=>ue!=0),this[p(158)](B.switchesDueToConnectivity,ue=>ue!=0),this.takeIf(B[p(168)],ue=>ue!=0),this.takeIf(B[p(294)],ue=>ue!=0),C[p(350)],this[p(158)](B[p(323)],ue=>ue!=0),this.takeIf(B[p(263)],ue=>ue!=0));n[p(320)](C[p(237)],Ve),this.lastCdnStats[p(320)](C.name,x)}}),this[e(307)][e(358)][e(216)]()){let C=this[e(307)][e(358)].getStats(),p=this[e(226)][e(165)](e(239));I+=C[e(266)]||0,N+=C[e(156)]||0;let x={downloadedBytes:C[e(306)],downloadedChunks:C[e(206)],errors:C.failedRequests[e(332)],millis:C[e(147)],maxBandwidth:C[e(283)],minBandwidth:C.minBandwidth===Number[e(229)]?0:C[e(342)],avgPingTime:C[e(207)],minPingTime:C[e(268)]===Number[e(229)]?0:C[e(268)],maxPingTime:C[e(270)],downloadMillisVideo:C.downloadMillisVideo,downloadBytesVideo:C[e(312)],downloadChunksVideo:C.downloadChunksVideo,uploadedBytes:C[e(313)],uploadedChunks:C[e(262)],uploadedTime:C[e(315)],lateUploadedChunks:C[e(296)],lateUploadedBytes:C[e(269)],lateDownloadedBytes:C[e(180)],missedDownloadedChunks:C.failedRequests[e(211)],timeoutErrors:C[e(249)][e(361)],otherErrors:C[e(249)].error,activePeers:C[e(162)],totalPeers:C[e(251)],sumResponseBytes:C[e(152)],minResponseBytes:C[e(314)],maxResponseBytes:C[e(200)],samplesResponseBytes:C.samplesResponseBytes,sumResponseTime:C[e(367)],minResponseTime:C[e(197)],maxResponseTime:C[e(175)],samplesResponseTime:C[e(355)],sumNetworkLatency:C[e(205)],minNetworkLatency:C.minNetworkLatency,maxNetworkLatency:C[e(245)],samplesNetworkLatency:C[e(151)],sumThroughput:C[e(274)],minThroughput:C[e(295)],maxThroughput:C[e(235)],samplesThroughput:C[e(284)],peersAvailable:C[e(247)],minPeersAvailable:C[e(242)],maxPeersAvailable:C.maxPeersAvailable,peersUsed:C.peersUsed,peersParallelUsed:C[e(163)],minPeersParallelUsed:C[e(215)],maxPeersParallelUsed:C[e(221)],peerDiscoveryTime:C[e(204)],peerConnectionTime:C[e(302)]};p&&(x.downloadedBytes-=p.downloadedBytes,x.downloadedChunks-=p[e(206)],x[e(348)]-=p[e(249)].total,x.millis-=p[e(147)],x[e(283)]=x.maxBandwidth==0?x.maxBandwidth:x[e(283)]-p.maxBandwidth,x.minBandwidth=x.minBandwidth==0?x[e(342)]:x[e(342)]-p.minBandwidth,x[e(207)]-=p.avgPingTime,x[e(268)]=x[e(268)]==0?x.minPingTime:x.minPingTime-p[e(268)],x[e(270)]=x.maxPingTime==0?x[e(270)]:x[e(270)]-p[e(270)],x[e(268)]-=p[e(268)],x.maxPingTime-=p[e(270)],x[e(189)]-=p.downloadMillisVideo,x.downloadBytesVideo-=p.downloadBytesVideo,x[e(328)]-=p[e(328)],x[e(313)]-=p[e(313)],x[e(262)]-=p[e(262)],x[e(315)]-=p.uploadedTime,x[e(224)]-=p.discardedUploadedChunks,x[e(225)]-=p[e(269)],x[e(230)]-=p.discardedDownloadedBytes,x[e(228)]-=p[e(249)][e(211)],x.timeoutErrors-=p[e(249)].timeout,x[e(190)]-=p.failedRequests[e(281)],x[e(162)]-=p[e(162)],x[e(251)]-=p.totalPeers,x[e(247)]!=null&&p[e(247)]!=null&&(x[e(247)]-=p[e(247)]),x.peersUsed!=null&&p[e(356)]!=null&&(x.peersUsed-=p.peersUsed),x[e(163)]!=null&&p[e(163)]!=null&&(x[e(163)]-=p[e(163)]),x[e(204)]!=null&&p[e(204)]!=null&&(x[e(204)]-=p[e(204)]),x.peerConnectionTime!=null&&p[e(302)]!=null&&(x[e(302)]-=p[e(302)]));let ge=new wr(e(239),e(239),!0,this.takeIf(x[e(306)],B=>B!=0),this[e(158)](x[e(346)],B=>B!=0),this.takeIf(x[e(348)],B=>B!=0),this[e(158)](x[e(185)],B=>B!=0),this.takeIf(x[e(283)],B=>B!=0),this[e(158)](x[e(342)],B=>B!=0),this[e(158)](x.avgPingTime,B=>B!=0),this[e(158)](x[e(268)],B=>B!=0),this[e(158)](x[e(270)],B=>B!=0),this[e(360)],this[e(158)](x.downloadBytesVideo,B=>B!=0),this.takeIf(x[e(328)],B=>B!=0),this.takeIf(x.downloadMillisVideo,B=>B!=0),this[e(158)](x[e(313)],B=>B!=0),this[e(158)](x[e(262)],B=>B!=0),this.takeIf(x[e(315)],B=>B!=0),this[e(158)](x[e(224)],B=>B!=0),this.takeIf(x[e(225)],B=>B!=0),this[e(158)](x[e(230)],B=>B!=0),this[e(158)](x[e(228)],B=>B!=0),this[e(158)](x.timeoutErrors,B=>B!=0),this.takeIf(x[e(190)],B=>B!=0),this[e(158)](x[e(162)],B=>B!=0),this[e(158)](x[e(251)],B=>B!=0),x[e(152)],x[e(314)],x[e(200)],x[e(213)],x.sumResponseTime,x[e(197)],x.maxResponseTime,x.samplesResponseTime,x[e(205)],x.minNetworkLatency,x[e(245)],x.samplesNetworkLatency,x.sumThroughput,x[e(295)],x[e(235)],x[e(284)],this[e(158)](x[e(247)],B=>B!=0),this[e(301)](x.maxPeersAvailable),this[e(333)](x[e(242)]),this.takeIf(x[e(356)],B=>B!=0),this.takeIf(x[e(163)],B=>B!=0),this[e(301)](x[e(221)]),this[e(333)](x[e(215)]),this[e(158)](x[e(204)],B=>B!=0),this.takeIf(x[e(302)],B=>B!=0));n.set("P2P",ge),this[e(226)][e(320)](e(239),C)}let se={};n[e(298)]((C,p)=>{se[p]=C});let W=N>0?8*I*1e3/N:0,k;if(V.default[e(222)]()[e(233)](Re.default[e(271)][e(363)],Re.default[e(155)][e(273)],I),V.default[e(222)]()[e(233)](Re.default[e(271)].BALANCER,Re.default[e(155)][e(146)],W),this[e(307)].CDNLoader[e(255)]&&(k=new Ir(this[e(307)][e(334)][e(292)],this.loader[e(334)][e(321)],this[e(307)].CDNLoader[e(201)]!==void 0?Math[e(303)](this.loader.CDNLoader[e(201)]):void 0,this.loader[e(334)][e(347)]!==void 0?Math[e(303)](this[e(307)].CDNLoader.avgApiCallResponseTime):void 0,this.loader[e(334)][e(316)]!==void 0?Math[e(303)](this[e(307)].CDNLoader.maxApiCallResponseTime):void 0,this.loader.CDNLoader[e(366)](),this.loader[e(334)][e(276)](),this.token,this[e(307)][e(334)][e(173)](),"Plugin",this[e(307)][e(334)].p2pAvailable,this[e(307)][e(334)].bolinaAvailable,this[e(307)][e(334)][e(182)],this[e(307)].CDNLoader[e(344)],this[e(307)][e(334)][e(291)](),this[e(307)].CDNLoader[e(238)])),o[e(298)](C=>{C[e(353)]()}),this[e(307)][e(358)].isEnabled()&&this[e(307)][e(358)][e(353)](),this[e(307)][e(334)].resetOnPing(),d.default.verbose(g.BalancerTag,e(154)+JSON[e(217)](se)),n[e(365)]>0)return this[e(172)](this[e(265)],this[e(260)],this[e(339)],this.resource,JSON[e(217)](se),k)}}catch(t){}}[Vt(343)](e){return Object[Vt(250)](e).some(t=>e[t]!=0)}[Vt(158)](e,t){return e!==void 0&&t(e)?e:void 0}[Vt(333)](e){return e!==void 0?e:Number[Vt(229)]}[Vt(301)](e){return e!==void 0?e:Number.MIN_SAFE_INTEGER}[Vt(172)](e,t,r,n,o,I){let N=Vt;if(o==""||o=="{}")return;let w={};return w=I!=null?{timemark:new Date()[N(244)](),code:V.default[N(222)]().isUsingLegacy()?V.default[N(222)]()[N(289)]():e,sessionRoot:V.default.getInstance()[N(297)](),v:V.default[N(179)]().split("-js")[0],pluginVersion:V.default[N(179)](),pingTime:V.default[N(222)]().getFastDataService()[N(183)](),token:e,accountCode:t,profileName:r,data:o,api_errors:I[N(292)],api_responses:I[N(321)],api_min_response_time:I[N(362)],api_avg_response_time:I[N(290)],api_max_response_time:I.apiCallsAvgResponseTime,bucket:I.bucket,is_live:I[N(304)],video_id:I[N(208)],force_decision:I[N(160)],request_platform:I[N(198)],p2p_available:I.p2pAvailable,bolina_available:I.bolinaAvailable,active_switching_priority:I[N(182)],priority_cdn:I[N(344)],chunk_duration:I[N(256)],announced_cdns:I[N(238)]}:{timemark:new Date().getTime(),code:V.default[N(222)]()[N(257)]()?V.default[N(222)]().getViewCode():e,sessionRoot:V.default[N(222)]().getFastDataSessionToken(),v:V.default.getPluginVersion()[N(272)](N(214))[0],pingTime:V.default[N(222)]()[N(219)]()[N(183)](),token:e,accountCode:t,profileName:r,data:o},w}}let Us={randomUUID:typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},ki,_r=new Uint8Array(16);function Rr(){if(!ki&&(ki=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ki))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ki(_r)}let Ct=[];for(let A=0;A<256;++A)Ct.push((A+256).toString(16).slice(1));let Dr=function(A,e,t){if(Us.randomUUID&&!e&&!A)return Us.randomUUID();let r=(A=A||{}).random||(A.rng||Rr)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let n=0;n<16;++n)e[t+n]=r[n];return e}return function(n,o=0){return Ct[n[o+0]]+Ct[n[o+1]]+Ct[n[o+2]]+Ct[n[o+3]]+"-"+Ct[n[o+4]]+Ct[n[o+5]]+"-"+Ct[n[o+6]]+Ct[n[o+7]]+"-"+Ct[n[o+8]]+Ct[n[o+9]]+"-"+Ct[n[o+10]]+Ct[n[o+11]]+Ct[n[o+12]]+Ct[n[o+13]]+Ct[n[o+14]]+Ct[n[o+15]]}(r)},lt=zt;(function(A){let e=zt,t=A();for(;;)try{if(-parseInt(e(401))/1+-parseInt(e(320))/2+-parseInt(e(383))/3*(-parseInt(e(311))/4)+parseInt(e(440))/5*(-parseInt(e(354))/6)+parseInt(e(415))/7+parseInt(e(424))/8*(-parseInt(e(438))/9)+parseInt(e(305))/10*(parseInt(e(355))/11)==689768)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(hs);function zt(A,e){let t=hs();return(zt=function(r,n){return t[r-=292]})(A,e)}function hs(){let A=["triedP2P","downloadAvgBw","updateTime","getFastDataSessionToken","479954hCKdSW","dynamicRules","onSuccess","abort","Request was canceled due a timeout -> ","P2P PATH FOR ID ","failed","now","processSegment","targetDuration","removeActiveSegment","_balancerBusinessObject","onAbort","hasOwnProperty","statsReportBusinessObject","off","byteLength","duration","readyStateChangeEM","clean","getResponseHeader","retries","allowSpecialDelimitersInUrl","isMedia","Detected rendition -> ","downloadMillis","isDev","isAudio","cdnProvider","getRendition","loadCDNBalancerData","signManifestUsingApi","d1.npaw.com","done","14646eoLuTw","33EuEinT","Segment request failed, no more retries ","setManifestResource","startTime","_accountCode","statusCode","size","bucketName","enable","cdnName","replace","CDNLoader","getIsEnabled","totalDownloadedBytes","timeout","rendition","currentRenditionPos","next","loadBalancerData","onProcessSegmentFail","currentRenditionBandwidth","debug","errorEM","timeBetweenHeads","requestReadTimeout","Fail","length","profileName","3eGrbqb","limit","P2P"," -> ","verbose","route","VIEW_CODE","status","forceDecisionCall","getMaxBandwidth","totalBandwidth","_$1","realBodySize","getSegment","setActive","response","updateCDNStatsOnSuccess","setMaxBandwidth","1024157OEfEZd","push","onProgress","Products","resource","useP2P","apiHost","trunc","_options","enableCDN will be deprecated use setActive instead.","storage","updateCDNStatsOnFailure","value","getInstance","8833097kzbMNw","data","isEnabled","isLive","setMaxBandwith","delete","bandwidthPosition","Content-Length","updateProgressStats","8jTUmFi","Success","warn","newDownloadedSegment","pathname","P2PLoader","toLowerCase","apply","uuid","timeBetweenBurstsMilliseconds","headers","getStats","url","stringify","4268898EywQWo","onProcessSegmentSuccess","2345wpEWEI","updateData","AnalyticsVariables","bandwidth","host","updateUrl","segmentsMap","_resource","href","loadStartEM","disable","_segments","set","total","camelToSnake","4078460kAaQAo","downloadedBytes","VIDEO_ANALYTICS","storeSegment","request","cdns","4350576qItWkc","reportTime","readTimeoutMilliseconds","throw"," for "];return(hs=function(){return A})()}class Oi{constructor(e,t,r){let n=zt;this[n(301)]=new Map,this[n(296)]=new Map,this[n(417)]=!0,this[n(359)]=e,this._options=t,this._resource=new Ar,this[n(411)]=new Dt(this),this[n(407)]=r,this[n(409)][n(378)]&&this[n(409)].timeBetweenHeads>=1e3&&(u.wc[n(433)]=this[n(409)][n(378)]),this[n(429)]=new Ee(this._accountCode,t,this.storage),this[n(366)]=new Je(t,this[n(297)],this.P2PLoader,this[n(407)]),this[n(334)]=Ai[n(414)](this),de[n(414)](this),le[n(414)](this[n(429)]),this.uuid=Dr();let o=new br(this);this._balancerBusinessObject=o,(t[n(391)]||t[n(351)])&&this[n(350)](!0)}getReportInterval(){let e=zt;return!this._options[e(312)]||this[e(409)][e(312)]<1?5:this._options[e(312)]}camelToSnake(e){let t=zt,r={};for(let n in e)e[t(333)](n)&&(r[n[t(365)](/([A-Z])/g,t(394))[t(430)]()]=e[n]);return r}[lt(350)](e){let t=lt;var r,n,o,I,N,w,se,W,k,C;let p=this[t(409)][t(321)]?JSON[t(437)](this[t(304)](this[t(409)][t(321)])):"";e!=null&&e&&this[t(331)][t(373)](this._accountCode,"/",(r=this[t(409)][t(418)])!==null&&r!==void 0&&r,(n=this._options[t(318)])!==null&&n!==void 0?n:0,(o=this[t(409)][t(376)])!==null&&o!==void 0&&o,(I=this[t(409)][t(346)])!==null&&I!==void 0&&I,(N=this[t(409)][t(351)])!==null&&N!==void 0&&N,this[t(409)][t(382)],this[t(409)].bucketName,this._options[t(294)],p),this[t(409)][t(405)]&&this[t(409)][t(405)]!=""&&this[t(331)].loadBalancerData(this[t(359)],this._options[t(405)],(w=this._options[t(418)])!==null&&w!==void 0&&w,(se=this[t(409)][t(318)])!==null&&se!==void 0?se:0,(W=this[t(409)].debug)!==null&&W!==void 0&&W,(k=this._options[t(346)])!==null&&k!==void 0&&k,(C=this[t(409)][t(351)])!==null&&C!==void 0&&C,this[t(409)][t(382)],this[t(409)][t(362)],this._options[t(294)],p)}[lt(328)](e,t,r,n,o=u._C[lt(341)],I=!1,N){let w=lt,se=m.isMedia(e[w(428)]),W=!se&&m.isManifest(e[w(428)],this[w(409)][w(342)]),k=this[w(429)][w(417)]()&&se;d.default[w(387)](g.BalancerTag,w(325)+e.pathname);let C=new Tr(e[w(428)],e[w(298)],this[w(297)],n,o,k,I);if(C.download=t,C[w(434)]=n,this[w(301)][w(302)](C.id,C),!W){let ge=this[w(297)][w(349)](e[w(428)]);ge!=null&&(d.default.verbose(g.BalancerTag,w(344)+ge[w(293)]+" "+(ge==null?void 0:ge[w(421)])+" isAudio "+ge[w(347)]+w(315)+e),C[w(337)]=ge[w(329)],C[w(370)]=ge,!ge.isAudio&&(this.CDNLoader[w(375)]=ge[w(293)],this[w(366)][w(371)]=ge[w(421)]+1,this[w(366)].renditionCount=this._resource.getVideoRenditions()[w(361)]))}this[w(297)]&&this._resource[w(339)]();let p=V.default[w(414)]().getCommonVariable(Re.default[w(404)][w(307)],Re.default[w(292)][w(389)]),x=V.default[w(414)]()[w(319)]()+(p?"_"+p:"");return!x&&(x=this[w(432)]),this[w(334)][w(441)](w(352),x,this[w(359)],this[w(409)].profileName,e.toString()),C.isManifest=W,C[w(343)]=se,t&&(C.on(u.yL[w(425)],ge=>{return B=this,ke=void 0,ue=function*(){this.onProcessSegmentSuccess(C),r[0](C)},new((Ve=void 0)||(Ve=Promise))(function(Ue,He){let $e=zt;function qe(Pe){let j=zt;try{Te(ue[j(372)](Pe))}catch(Be){He(Be)}}function J(Pe){let j=zt;try{Te(ue[j(314)](Pe))}catch(Be){He(Be)}}function Te(Pe){let j=zt;var Be;Pe[j(353)]?Ue(Pe[j(413)]):(Be=Pe[j(413)],Be instanceof Ve?Be:new Ve(function(Le){Le(Be)})).then(qe,J)}Te((ue=ue[$e(431)](B,ke||[]))[$e(372)]())});var B,ke,Ve,ue}),C.on(u.yL[w(380)],ge=>{let B=w;this[B(374)](C,!0),C[B(341)]==0&&r[B(381)]>1&&r[1](),d.default.error(g.BalancerTag,B(356)+C[B(388)])})),this.CDNLoader[w(295)](C)!==w(385)?this.CDNLoader.getActiveRequests().set(C.id,C):(C[w(364)]=w(385),C[w(348)]=w(385),this.P2PLoader[w(309)](C,void 0)),C[w(358)]=Date[w(327)](),C}[lt(374)](e,t){let r=lt,n=e[r(364)];e[r(326)]=!0,this[r(366)][r(412)](n,e),e[r(316)]&&e.useP2P==1&&(e[r(406)]=!1,this[r(366)][r(295)](e))}[lt(439)](e){let t=lt;de.getInstance().newDownloadedSegment(e),le[t(414)]()[t(427)](e),e.off(u.yL[t(425)]),e[t(335)](u.yL[t(380)]);let r=this[t(366)][t(392)](e[t(364)]);r>0&&new Pr()[t(384)](r,e),this.CDNLoader[t(399)](e),this[t(366)][t(330)](e),this[t(429)][t(417)]()&&e[t(343)]&&!this[t(429)][t(396)](e)&&this.P2PLoader.storeSegment(e),this[t(301)][t(420)](e.id)}enableCDN(e,t){let r=lt;return d.default[r(426)](g.BalancerTag,r(410)),this[r(397)](e,t)}[lt(397)](e,t){let r=lt;return e==="P2P"?(t?this[r(429)].enable():this[r(429)][r(300)](),!0):this[r(366)].changeStatusCDN(e,t)}[lt(419)](e,t){let r=lt;return e!=="P2P"&&(this.CDNLoader[r(400)](e,t)||!1)}[lt(332)](e,t){let r=lt;t&&!t.failed&&t.timeout&&(d.default[r(376)](g.BalancerTag,r(324)+t[r(436)]),this.onProcessSegmentFail(t,!1))}loadEM(e,t,r){}[lt(299)](e,t,r){let n=lt;t!=null&&r[n(303)]>0&&this[n(429)][n(417)]()&&t[n(343)]&&!this[n(429)][n(396)](t)&&e[n(398)]&&e[n(398)][n(336)]&&e[n(398)][n(336)]>0&&(t[n(416)]=e.response,t.realBodySize=r[n(303)],this[n(429)][n(308)](t))}progressEM(e,t,r){let n=lt;t!=null&&(this[n(429)].isEnabled()&&t[n(343)]&&!this[n(429)].getSegment(t)&&e[n(398)]&&e[n(398)].byteLength&&e[n(398)][n(336)]>0&&(d.default[n(376)](g.BalancerTag,"the status is -> "+e[n(390)]),t[n(416)]=e[n(398)],r[n(303)]>0&&(t[n(395)]=r[n(303)]),this[n(429)][n(308)](t)),t[n(403)](e,r),this[n(366)][n(423)]())}[lt(338)](e,t,r){let n=lt;switch(e.readyState){case 2:t&&!t[n(379)]&&(t[n(379)]=setTimeout(()=>this[n(369)](e,t),u._C[n(313)]));break;case 4:if(t!=null){if(clearTimeout(t[n(379)]),delete t[n(379)],t[n(360)]=e.status,e[n(390)]>=200&&e.status<400){let o=t[n(322)](e[n(398)],e[n(340)](n(422))||"0",r.options[n(342)]);return t.isManifest&&r[n(357)](t[n(436)]),o?this[n(439)](t):this[n(374)](t,!1),!0}return d.default[n(376)](g.BalancerTag,"SEGMENT FAILED WITH STATUS "+e[n(390)]+n(386)+t.id),this[n(374)](t,!1),!1}}return!0}timeout(e,t){let r=lt;t[r(369)]=!0,e[r(323)]()}loadEndEM(e,t,r){}[lt(377)](e,t,r){}[lt(435)](){let e=lt,t=this.CDNLoader[e(435)](),r=this[e(429)][e(435)](),n=!1,o=0;return r&&this[e(429)]&&this[e(366)][e(435)]()[e(368)]>0&&(n=!0,o=8*r[e(306)]/(r.downloadMillis/1e3)),this[e(429)][e(417)]()&&(t[e(310)][e(402)]({downloadedBytes:r[e(306)]||0,downloadedChunks:r.downloadedSegments||0,bandwidth:Math[e(408)](o||0),instantBandwidth:Math.trunc(0),lastInstantBandwidth:Math.trunc(0),peakBandwidth:Math[e(408)](0),failures:0,totalFailures:0,retries:0,downloadTime:r[e(345)],provider:"P2P",profileName:e(385),isActive:this[e(429)][e(417)](),ptb:0,usedOnce:n,hugeChunks:0,firstHugeChunkSize:0,lastChunksLapse:0,maxBandwidth:0,banned:!1,lastBandwidth:0,scoringBandwidth:0}),t[e(393)]=t[e(393)]+(r[e(317)]||0),t.totalDownloadedBytes=t[e(368)]+(r[e(306)]||0)),t}[lt(363)](){this[lt(417)]=!0}[lt(300)](){this[lt(417)]=!1}[lt(367)](){return this[lt(417)]}}function ri(A,e){let t=ls();return(ri=function(r,n){return t[r-=472]})(A,e)}let ut=ri;(function(A){let e=ri,t=A();for(;;)try{if(parseInt(e(562))/1*(-parseInt(e(563))/2)+parseInt(e(538))/3*(-parseInt(e(610))/4)+parseInt(e(587))/5*(parseInt(e(661))/6)+-parseInt(e(532))/7+-parseInt(e(589))/8*(-parseInt(e(520))/9)+parseInt(e(583))/10+-parseInt(e(487))/11==270142)break;t.push(t.shift())}catch(r){t.push(t.shift())}})(ls);function ls(){let A=["apply","notice","getPeersBehind","interceptors","sliceByFirstSpecial","loadend","downloadedBytes","realBodySize","devHost","STREBOPX","getStats","media","5665451gTGMpr"," original -> ","responseURL","readyState","?rnpaw=","loadStartEM","downloadedChunks","P2P TIMEOUTERROR BY ME: ","useTheoplayer","getInstance","data"," peer version: ","P2P DISPATCH READY STATE","host","ifByteArrayToString","abort","getLoader","isDev","decisionCallWaitTime","__awaiter","balanceSubtitles","p2pId"," ip: ","getUploadedUniqPeers","open","getIsEnabled","getNewUrl","CDNLoader","components","set","P2P/SMB Traffic "," size -> ","cdnName","314469HpEEiG"," UniqPeers: ","defineProperty","origRes","signManifestUsingApi","balancer","XHR-not-intercepted -> ","call"," peer id: ","&rnpaw=","includes","getIp","885395hVayxu","responseType","requestHeader","status","response","map","3iLSkll","GET","balanceManifests","resetP2PConnection","throw","getUploadRequests","startsWith","peer","Fetching segment via P2P for -> ","getVersion","FORCE","join","Could not parse URL ","reload","P2P DISPATCH LOAD ","setRequestHeader","kb ","setManifestResource","headers","P2P Error on event load event","progressEM","request","segments-> (","size","1Bbpgva","192916KmdBgU","timeouts","isTheoplayer","disable","dispatchEvent","uploaded: (MB/#/%) ","P2P2 Download done -> ","loader","now","getAllResponseHeaders","arraybuffer","toFixed","length","getActiveRequests","isManifest","byteLength","retryBecauseNewHeaders","updateUrl","getUploadRequestsFailed","send","5251300trnYIr","allResponseHeader","blob","onAbort","60YoeKve","forceHttp","56kNXvat","Sending join to tracker due to new manifest","setOptions","getSegment","isAudio","provider","simpleRequest","addEventListener","pathname","loadEndEM","balanceAudio","P2PLoader","getRecommendedManifest","isEnabled","stopMonitor","loadInterceptor","url","getId","prototype","toString","P2P Error on event load end","1058956CcnyIs"," last length -> ","next","getBitmovinSendHttpRequest","ur: ","getResponseHeader","method","readyStateChangeEM","overrideMimeType","responseHeader","isBitmovin","P2P Failure Update url on problems with p2p ","removeInterceptors","isAsync","trim","buffer","rnpaw","loadCDNBalancerData","peers: ","segment","enable","options"," TIMEOUTS ","verbose","timeout","_accountCode","string","statusText"," byte length-> ","manifest","loadstart","then","split","lastDecisionTimestamp","body","getUploadedChunks"," peer id -> ","resource","onreadystatechange","getAccountCode","debug","slice","Range","apiHost"," downloaded through P2P. Size: "," TIME: ","openAndSend","destroy","P2P DISPATCH LOAD END","updateP2PId","load","251574wwTcbZ","Destroying CDN Balancer","useP2P","segmentsMap","getPeers","Fetching segment via CDN for -> ","P2P DISPATCH LOAD START","getPeersNothing","P2P"];return(ls=function(){return A})()}class Nr extends S{constructor(e,t){let r=ut;var n;if(super(),this.isEnabled=!0,this.defaultChunkDownloadTimeout=0,this[r(620)]=!1,this[r(565)]=!1,this.lastDecisionTimestamp=0,this[r(653)]="gnsnpaw.com",this[r(635)]=e,this[r(631)]=new H,this[r(570)]=new Oi(this[r(635)],this.options,this[r(653)]),this[r(478)]=new F(this),t&&((n=t[r(515)])===null||n===void 0?void 0:n[r(525)])!==void 0&&!t[r(515)].balancer)return this[r(602)]=!1,this.loader[r(566)](),void this[r(570)][r(600)][r(566)]();let o=this;this.responseHeader=XMLHttpRequest[r(607)][r(615)],XMLHttpRequest[r(607)][r(615)]=function(I){return o[r(619)].call(this,I)},this[r(584)]=XMLHttpRequest.prototype[r(572)],XMLHttpRequest.prototype[r(572)]=function(){let I=r;return o.allResponseHeader[I(527)](this)},this.abort=XMLHttpRequest[r(607)][r(502)],XMLHttpRequest[r(607)][r(502)]=function(){let I=r,N=this[I(629)];o.getLoader()[I(586)](this,N),o[I(502)][I(527)](this)},this[r(618)]=XMLHttpRequest[r(607)].overrideMimeType,XMLHttpRequest[r(607)][r(618)]=function(I){let N=r;o[N(618)][N(527)](this,I)},this[r(534)]=XMLHttpRequest[r(607)][r(553)],XMLHttpRequest[r(607)].setRequestHeader=function(I,N,...w){let se=r,W=this[se(629)];W&&(W[se(556)][I]=N,W[se(579)]=W[se(579)]==0?1:W[se(579)]),o[se(534)].call(this,I,N,...w)},this[r(582)]=XMLHttpRequest[r(607)][r(582)],XMLHttpRequest.prototype[r(582)]=function(I,...N){var w,se,W,k,C,p,x,ge,B,ke,Ve,ue,Ue,He,$e,qe;return Ue=this,He=void 0,qe=function*(){let J=ri;(!this[J(634)]||this[J(634)]>u._C.connectTimeoutMilliseconds)&&this.isAsync&&(this.timeout=u._C.connectTimeoutMilliseconds);let Te=this[J(629)];if((!o.isEnabled||!Te||Te[J(577)])&&(!Te||!((w=o[J(631)][J(540)])!==null&&w!==void 0&&w||(se=o.options[J(524)])!==null&&se!==void 0&&se)))return void o.send.call(this,I,...N);if(Te[J(579)]==1)return Te[J(579)]=2,Te[J(659)](),void o[J(656)](this,Te);try{let Be=o.getLoader()[J(485)]().cdns,Le=0,We=0,Ze=0,it=0,st=0,ft=0,ct=((W=o.getLoader())===null||W===void 0?void 0:W.P2PLoader.getUploadedBytes())||0,rt=((k=o.getLoader())===null||k===void 0?void 0:k[J(600)][J(645)]())||0;ct=ct/1024/1024;for(let Rt=0;Rt<Be.length;Rt++)Be[Rt][J(594)]===J(474)?(We+=Be[Rt][J(481)],it+=Be[Rt][J(493)]):Be[Rt][J(594)]==="STREBOOS"||Be[Rt][J(594)]===J(484)?(st+=Be[Rt][J(481)],ft+=Be[Rt].downloadedChunks):(Le+=Be[Rt][J(481)],Ze+=Be[Rt][J(493)]);let _t=(C=o[J(503)]())===null||C===void 0?void 0:C.P2PLoader[J(543)](),At=(p=o[J(503)]())===null||p===void 0?void 0:p[J(600)][J(581)](),Ft=(x=o[J(503)]())===null||x===void 0?void 0:x[J(600)][J(510)](),Ut=0,bt=0,ci=0;try{Ut=We/(We+Le+st)*100,bt=st/(We+Le+st)*100,ci=ct/((We+Le+st)/1024/1024)*100}catch(Rt){}let ni=o.getLoader()[J(600)][J(665)]()[J(561)]||0,Bt=" ("+o.getLoader()[J(600)][J(477)]()+"/"+o[J(503)]()[J(600)][J(473)]()+"/"+o[J(503)]()[J(600)].getPeersAhead()+") ";d.default[J(633)](g.BalancerTag,J(517)+Ut[J(574)](2)+"% "+bt[J(574)](2)+`%
MB(CDN/SB/P2P) `+(Le/1024/1024)[J(574)](2)+"/"+(st/1024/1024)[J(574)](2)+"/"+(We/1024/1024)[J(574)](2)+`
`+J(560)+Ze+"/"+ft+"/"+it+`)
`+J(628)+ni+Bt+`
`+J(568)+ct[J(574)](2)+"/"+rt+"/"+ci[J(574)](2)+`
`+J(614)+_t+"|"+At+J(521)+Ft)}catch(Be){}let Pe=Date[J(571)]();Te[J(659)]();let j=o[J(570)][J(600)][J(592)](Te);if(Te[J(519)]!==J(474)||Te.forceHttp)d.default[J(633)](g.BalancerTag,(Te[J(588)]?J(548):"")+"HTTP for -> "+Te[J(523)]),o[J(503)]()[J(514)][J(576)]()[J(516)](Te.id,Te),d.default[J(476)](g.BalancerTag,J(666)+Te[J(523)]),o.send[J(527)](this,I,...N);else{let Be=!1;d.default.notice(g.BalancerTag,J(546)+Te[J(523)]),Te.forceHttp=!0,Te[J(663)]=!1;let Le=j==null?void 0:j[J(497)],We=j&&(j==null?void 0:j[J(497)][J(578)])>0&&(Le==null?void 0:Le[J(578)])===(j==null?void 0:j.realBodySize)&&(j==null?void 0:j[J(482)])&&(j==null?void 0:j.realBodySize)>0,Ze=0;for(;!We;)yield new Promise(it=>setTimeout(it,20)),j=o[J(570)][J(600)][J(592)](Te),Le=j==null?void 0:j.data,Ze=(Le==null?void 0:Le[J(578)])||0,We=j&&(j==null?void 0:j[J(482)])>0&&(j==null?void 0:j[J(497)][J(578)])>0&&(Le==null?void 0:Le[J(578)])===(j==null?void 0:j[J(482)])&&(j==null?void 0:j.realBodySize)!=null,Date[J(571)]()-Pe>u.LI[J(634)]?(We=!0,Le=void 0,Be=!0,d.default[J(633)](g.BalancerTag,J(494)+o[J(570)][J(600)][J(606)]()+J(655)+(Date[J(571)]()-Pe)+J(528)+Te.peer.id+J(498)+Te[J(545)][J(547)]()+J(509)+Te[J(545)][J(531)]()+" "+Ze/((j==null?void 0:j[J(482)])||1)*100+"%")):Date[J(571)]()-Pe>2e3&&(j==null||j.data==null||Ze<20)&&(We=!0,Le=void 0,Be=!0,d.default[J(633)](g.BalancerTag,"P2P TIMEOUTERROR BY NO DATA ME:"+o[J(570)][J(600)][J(606)]()+" "+(Date[J(571)]()-Pe>2e3)+" peer id: "+Te.peer.id+J(498)+Te[J(545)][J(547)]()+" ip: "+Te[J(545)].getIp()+J(611)+Ze));if(Le&&(Le=Le[J(651)](0,Le[J(578)])),Be&&(Te[J(545)]&&(Te[J(545)][J(564)]=Te[J(545)][J(564)]+1),d.default[J(633)](g.BalancerTag,"P2P TIMEOUTERROR "+Te[J(523)]+" "+Te.id+" "+((ge=j==null?void 0:j[J(497)])===null||ge===void 0?void 0:ge.byteLength)+" "+(j==null?void 0:j[J(482)])+" PEER ID -> "+((B=Te.peer)===null||B===void 0?void 0:B.id)+J(632)+Te[J(545)][J(564)])),d.default[J(633)](g.BalancerTag,"P2P READY FOR "+Te.origRes+" "+(Le==null?void 0:Le.byteLength)+" "+(j==null?void 0:j[J(482)])+J(646)+Te[J(545)].id+" segmnet p2p id -> "+Te[J(508)]),j=o.loader[J(600)][J(592)](Te),Le&&((ke=j==null?void 0:j[J(497)])===null||ke===void 0?void 0:ke[J(578)])==(j==null?void 0:j.realBodySize)&&(j==null?void 0:j[J(482)])!=null&&(j==null?void 0:j[J(482)])>0){d.default.notice(g.BalancerTag,Te[J(523)]+J(654)+(((Ve=j==null?void 0:j[J(497)])===null||Ve===void 0?void 0:Ve.byteLength)/1048576)[J(574)](2)+"MB"),Le instanceof Uint8Array&&(Le=Le[J(625)]);let it=new CustomEvent("readystatechange"),st=new CustomEvent(J(480)),ft=new CustomEvent(J(660)),ct=new CustomEvent(J(640));Object.defineProperty(this,J(536),{writable:!0}),Object[J(522)](this,J(535),{writable:!0}),Object[J(522)](this,J(637),{writable:!0}),Object[J(522)](this,J(490),{writable:!0}),Object[J(522)](this,"byteLength",{writable:!0}),Object[J(522)](this,J(489),{writable:!0}),Object[J(522)](this,J(533),{writable:!0}),this[J(578)]=Le[J(578)],this[J(536)]=Le,this[J(535)]=200,this[J(637)]="OK",this[J(490)]=XMLHttpRequest.DONE,this.responseURL=Te[J(523)],this[J(533)]=J(573),d.default[J(633)](g.BalancerTag,J(472));try{this.dispatchEvent(ct)}catch(rt){d.default.verbose(g.BalancerTag,"P2P Error on event load start")}yield new Promise(rt=>setTimeout(rt,6)),d.default.verbose(g.BalancerTag,J(499));try{this.dispatchEvent(it)}catch(rt){d.default.verbose(g.BalancerTag,"P2P Error on event ready state change")}d.default[J(633)](g.BalancerTag,J(552));try{this[J(567)](ft)}catch(rt){d.default[J(633)](g.BalancerTag,J(557))}d.default[J(633)](g.BalancerTag,J(658));try{this[J(567)](st)}catch(rt){d.default.verbose(g.BalancerTag,J(609))}d.default[J(633)](g.BalancerTag,J(569)+(Date[J(571)]()-Pe)+"ms id:"+Te[J(508)]+J(518)+Le.byteLength/1024+J(554)+Te.origRes+" peer version "+Te.peer[J(547)]()+" ip: "+Te[J(545)][J(531)]())}else d.default[J(633)](g.BalancerTag,J(621)+(Date[J(571)]()-Pe)+"ms timeout: "+u.LI[J(634)]+J(638)+((ue=j==null?void 0:j.data)===null||ue===void 0?void 0:ue[J(578)])+" real size-> "+(j==null?void 0:j.realBodySize)+J(488)+Te.origRes),Te[J(588)]=!0,o[J(503)]()[J(514)].getActiveRequests()[J(516)](Te.id,Te),o[J(503)]()[J(514)][J(580)](Te),o[J(656)](this,Te)}},new(($e=void 0)||($e=Promise))(function(J,Te){let Pe=ri;function j(We){let Ze=ri;try{Le(qe[Ze(612)](We))}catch(it){Te(it)}}function Be(We){let Ze=ri;try{Le(qe[Ze(542)](We))}catch(it){Te(it)}}function Le(We){let Ze=ri;var it;We.done?J(We.value):(it=We.value,it instanceof $e?it:new $e(function(st){st(it)}))[Ze(641)](j,Be)}Le((qe=qe[Pe(475)](Ue,He||[]))[Pe(612)]())})},this.open=XMLHttpRequest[r(607)][r(511)],XMLHttpRequest.prototype[r(511)]=function(I,N,w=!0,...se){let W=r;var k;if(this[W(623)]=w,!o[W(602)])return o[W(511)][W(527)](this,I,N,w,...se);let C=N;typeof N!==W(636)&&(C=N[W(608)]());let p=C,x=p[W(642)]("?");p=m[W(479)](p,o.options.allowSpecialDelimitersInUrl);try{let ge=new URL(p),B=m[W(577)](ge[W(597)]),ke=m.isMedia(ge[W(597)]),Ve=m[W(593)](ge.pathname),ue=m.isSubtitles(ge[W(597)]);if(this[W(629)]==null&&Object[W(522)](this,W(629),{writable:!0}),!C[W(530)](W(529))&&!C.includes(W(491))){if(I===W(539)&&(B||ke||Ve&&o[W(631)][W(599)]||ue&&o[W(631)][W(507)])){let Ue;x.length>1&&(Ue=x[1]);let He=this[W(629)];He==null&&(He=o.simpleRequest(x[0],Ue,{})),this.segment==null&&(this[W(629)]=He),this[W(596)](W(660),function(J){let Te=W;o[Te(503)]()[Te(492)](this,He,J)}),this.addEventListener(W(640),function(J){o[W(503)]().loadStartEM(this,He,J)});let $e=this.onreadystatechange,qe=J=>{let Te=W;$e==null||$e.call(this,J),o[Te(503)]()[Te(617)](this,He,o)};return o[W(620)]||o[W(565)]?this[W(648)]=qe:this[W(596)]("readystatechange",qe),this.addEventListener("progress",function(J){let Te=W;o[Te(503)]()[Te(558)](this,He,J)}),this[W(596)](W(480),function(J){let Te=W;o[Te(503)]()[Te(598)](this,He,J)}),this[W(596)]("error",function(J){}),o[W(511)][W(527)](this,I,He[W(513)]((k=o.options[W(524)])!==null&&k!==void 0&&k),w,...se)}{let Ue=new URL(N),He=Ue.searchParams;He.delete(W(626)),Ue.search=He.toString(),N=Ue[W(608)]()}}}catch(ge){d.default.debug(g.BalancerTag,W(550)+p)}return d.default.debug(g.BalancerTag,W(526)+N),o[W(511)].call(this,I,N,w,...se)}}[ut(657)](){let e=ut;d.default[e(650)](g.BalancerTag,e(662)),de[e(496)]()[e(603)](),this.loader.P2PLoader.destroy(),this[e(602)]&&(XMLHttpRequest.prototype[e(615)]=this[e(619)],XMLHttpRequest[e(607)][e(572)]=this[e(584)],XMLHttpRequest[e(607)][e(502)]=this[e(502)],XMLHttpRequest[e(607)].overrideMimeType=this[e(618)],XMLHttpRequest[e(607)][e(553)]=this[e(534)],XMLHttpRequest[e(607)][e(582)]=this.send,XMLHttpRequest[e(607)].open=this[e(511)]),this[e(478)][e(622)]()}[ut(649)](){return this[ut(635)]}[ut(591)](e){let t=ut;var r;for(let n in e)this.options[n]=e[n];this[t(653)]=((r=this[t(631)][t(500)])!==null&&r!==void 0?r:this.options[t(504)])?u.df[t(483)]:u.df[t(500)],this[t(570)]=new Oi(this._accountCode,this[t(631)],this[t(653)])}[ut(656)](e,t){let r=ut;var n,o,I;try{e[r(511)](r(539),t[r(513)]((n=this[r(631)].signManifestUsingApi)!==null&&n!==void 0&&n)),!((o=t[r(556)])===null||o===void 0)&&o[r(652)]&&e[r(553)](r(652),t[r(556)][r(652)]),e[r(582)]()}catch(N){d.default.debug(g.BalancerTag,"Error on request "+t[r(513)]((I=this[r(631)][r(524)])!==null&&I!==void 0&&I))}}[ut(559)](e,t,r,n,o,I,N){this[ut(570)].processSegment(e,!0,r,n,o,I,N)}[ut(555)](e){let t=ut,r=Date[t(571)]()-this[t(643)];e&&(this[t(631)][t(647)]!==e||r>u.df[t(505)])&&(this[t(631)][t(647)]=e,this[t(570)]&&this[t(570)].P2PLoader&&this[t(570)].P2PLoader.isEnabled()&&(d.default[t(650)](g.BalancerTag,t(590)),this.loader[t(600)].sendJoin()),!this[t(570)]&&(this[t(570)]=new Oi(this[t(635)],this[t(631)],this[t(653)])),this.loader[t(514)].setResourceInfo(e),this[t(570)][t(627)](),this[t(643)]=Date[t(571)]())}[ut(503)](){return this[ut(570)]}addInterceptor(e,t){let r=ut;this[r(478)][r(604)](e,t)}getRecommendedManifest(){let e=ut;return this.loader[e(514)][e(601)]()}[ut(495)](){this.isTheoplayer=!0}[ut(613)](){let e=ut;return this[e(620)]=!0,function(t,r){let n=e;return t===void 0||!t[n(544)](n(486))&&!t[n(544)](n(639))?null:{getResponse:()=>new Promise(o=>{let I=ri;var N;let w=Date[I(571)](),se={request:r,url:r[I(605)],headers:[],status:0,statusText:"",body:void 0},W=new XMLHttpRequest;W[I(533)]=(N=r[I(533)])!==null&&N!==void 0?N:I(573),W[I(648)]=function(k){let C=I;if(W[C(490)]===2)se.timeToFirstByte=(Date[C(571)]()-w)/1e3;else if(W[C(490)]===4)if(se[C(535)]=W[C(535)],se[C(637)]=W.statusText,se.elapsedTime=(Date[C(571)]()-w)/1e3,W[C(535)]>=200&&W[C(535)]<400){W[C(533)]!==C(573)&&W[C(533)]!==C(585)?(se[C(644)]=m[C(501)](W[C(536)]),se.length=se[C(644)][C(575)]):(se[C(644)]=W[C(536)],W.responseType===C(573)?se[C(575)]=se.body[C(578)]:W.responseType===C(585)&&(se[C(575)]=se.body[C(561)]));let p=W[C(572)]()[C(624)]()[C(642)](/[\r\n]+/)[C(537)](x=>{let ge=C,B=x[ge(642)](": ");return{name:B.shift(),value:B[ge(549)](": ")}});se[C(556)]=p,o(se)}else o(se)},W.open(r[I(616)],r[I(605)]);for(let k in r.headers)W[I(553)](k,r[I(556)][k]);W[I(582)](r==null?void 0:r[I(644)])}),cancel(){},setProgressListener(){}}}}[ut(541)](){let e=ut;this[e(570)].P2PLoader[e(541)](),this[e(631)][e(647)]=void 0}[ut(595)](e,t,r){let n=ut;var o;Qe.default[n(496)]().setInterceptedRequests(!0);let I=new URL(e),N=this.loader.processSegment(I,!1,[],r);N.params=t;let w=(r==null?void 0:r.Range)||"";return this[n(570)][n(664)][n(516)](N.getNewUrl((o=this[n(631)][n(524)])!==null&&o!==void 0&&o)+w,I[n(608)]()),N}[ut(630)](){let e=ut;this[e(602)]=!0,this[e(570)][e(630)](),this[e(570)].P2PLoader[e(630)]()}[ut(566)](){let e=ut;this.isEnabled=!1,this.loader[e(566)](),this[e(570)][e(600)].disable()}[ut(512)](){return this.isEnabled}[ut(551)](e){let t=ut;e!=null&&(this[t(631)]=new H(e)),this[t(570)].P2PLoader.destroy(),this.loader=new Oi(this[t(635)],this[t(631)],this.apiHost),this[t(602)]=!0}}var Cr=Y(6014),kr=Y.n(Cr),Or=Y(2507),Bi=Y.n(Or),Br=Y(4954),Mr=Y.n(Br),xr=Y(3782),St=Y.n(xr),Vr=Y(7061),Ur=Y.n(Vr),Fr=Y(2071),qr=Y.n(Fr);class us{constructor(e,t,r,n,o){this.method=g.Method.GET,this.service=e,this.params=t||{},this.body=r,this.onSuccessCallback=n,this.onFailCallback=o}getService(){return this.service}getMethod(){return this.method}setMethod(e){this.method=e}getParams(){return this.params}getOnSuccess(){return this.onSuccessCallback}getOnFail(){return this.onFailCallback}getParam(e){return this.params[e]}setParam(e,t){return this.params[e]=t,this}setParams(e){this.params=e}getBody(){return this.body}setBody(e){this.body=e}isPost(){return this.method===g.Method.POST}}var Fs=Y(108);class Hr{constructor(){this.readyToSend=!1,this.servicesToWait=[Fs.A.Service.SESSION_START],this.onWillSendAnalyticsRequestListeners=[],this._requests=[],this._waitingForToken=[]}destroy(){this._requests=[],this._waitingForToken=[],this.readyToSend=!1}shouldSendStats(){return this.readyToSend}sendRequest(e){if(V.default.getInstance().getFastDataSessionToken()==="")return void this._waitingForToken.push(e);this._waitingForToken.forEach(o=>this.prepareParams(o)),this._requests.push(...this._waitingForToken),this._waitingForToken=[];let t=e.getParams(),r=e.getService(),n=this.onWillSendAnalyticsRequestListeners;for(let o of n)o(r,t);this.prepareParams(e),this._requests.push(e),this._processRequests()}prepareParams(e){let t=e.getService();e.setParam("sessionId",e.getParam("sessionId")||V.default.getInstance().getFastDataSessionToken()),t==Fs.A.Service.SESSION_START&&e.setParam("beatTime",e.getParam("beatTime")||V.default.getInstance().getFastDataService().getBeatTime())}buildRequest(e,t,r,n,o,I){r=r||g.Method.GET;let N=new us(e,t,n,o,I);return N.setMethod(r),N}_processRequests(){let e=this._requests;this._requests=[];let t=[];for(;e.length;){let r=e.shift();if(this.servicesToWait.indexOf(r.getService())!==-1&&(this.readyToSend=!0),this.readyToSend)for(V.default.getInstance().pushData(V.default.getInstance().getOptions().offline?Re.default.Consumer.BLACK_HOLE:Re.default.Consumer.NQS,r.getService(),r.getMethod(),r.getParams(),r.getOnSuccess(),r.getOnFail());t.length;){let n=t.shift();V.default.getInstance().pushData(V.default.getInstance().getOptions().offline?Re.default.Consumer.BLACK_HOLE:Re.default.Consumer.NQS,n.getService(),n.getMethod(),n.getParams(),n.getOnSuccess(),n.getOnFail())}else t.push(r)}this._requests.push(...t)}}var qs=Y(9637),Xr=Y.n(qs),yi=Y(1577),Gr=Y(9835),jr=Y.n(Gr),Wr=Y(5804),Yr=Y.n(Wr);class Kr{constructor(e){this.options=e}getUsername(){return this.options["user.name"]}getPluginVersion(){return V.default.getPluginVersion()}getRequestNumber(){return Math.random()}getUserType(){return this.options["user.type"]}getAnonymousUser(){return this.options["user.anonymousId"]}getReferer(){let e=this.options.referer||"";return!e&&typeof window!="undefined"&&window.location&&(e=window.location.href),e}getReferral(){let e=this.options.referral||"";return e||typeof document=="undefined"||(e=document.referrer),e}getPageName(){let e=this.options.title||"";return e||typeof document=="undefined"||(e=document.title),e}getLanguage(){return typeof navigator!="undefined"?navigator.language:void 0}getScreenResolution(){let e;try{if(window&&window.screen){let t=window.devicePixelRatio||1;e=window.screen.width*t+"x"+window.screen.height*t}}catch(t){}return e}getDeviceInfo(){let e={};return this.getDeviceCode()&&(e.deviceCode=this.getDeviceCode()),this.getModel()&&(e.model=this.getModel()),this.getBrand()&&(e.brand=this.getBrand()),this.getDeviceType()&&(e.deviceType=this.getDeviceType()),this.getDeviceName()&&(e.deviceName=this.getDeviceName()),this.getOsName()&&(e.osName=this.getOsName()),this.getOsVersion()&&(e.osVersion=this.getOsVersion()),this.getBrowserName()&&(e.browserName=this.getBrowserName()),this.getBrowserVersion()&&(e.browserVersion=this.getBrowserVersion()),this.getBrowserType()&&(e.browserType=this.getBrowserType()),this.getBrowserEngine()&&(e.browserEngine=this.getBrowserEngine()),Object.keys(e).length!==0?e:void 0}getDeviceCode(){return this.options["device.code"]}getModel(){return this.options["device.model"]}getBrand(){return this.options["device.brand"]}getDeviceType(){return this.options["device.type"]}getDeviceName(){return this.options["device.name"]}getOsName(){return this.options["device.osName"]}getOsVersion(){return this.options["device.osVersion"]}getBrowserName(){return this.options["device.browserName"]}getBrowserVersion(){return this.options["device.browserVersion"]}getBrowserType(){return this.options["device.browserType"]}getBrowserEngine(){return this.options["device.browserEngine"]}getIsBlocked(){return this.options["ad.blockerDetected"]}isMethodPostEnabled(){return this.options.method&&this.options.method.toUpperCase()===Xr().POST}getDeviceUUID(){let e;return this.options["device.isAnonymous"]||(e=this.options["device.id"]||new(Yr())().getKey()),e}getLibVersion(){return jr()}getAppName(){return this.options["app.name"]}getAppReleaseVersion(){return this.options["app.releaseVersion"]}getIp(){return this.options["network.ip"]}getIsp(){return this.options["network.isp"]}getConnectionType(){return this.options["network.connectionType"]}getEDID(){let e=this.options["device.EDID"];return e?e.toString():void 0}getObfuscateIp(){return this.options["user.obfuscateIp"]}getPrivacyProtocol(){let e=this.options["user.privacyProtocol"];return typeof e=="string"&&(e=e.toLowerCase()),e==="optin"||e==="optout"?e:void 0}getCustomDimensions(){let e=this.options["content.customDimensions"];return typeof e=="object"?e:void 0}getExtraparam1(){return this.options["content.customDimension.1"]}getExtraparam2(){return this.options["content.customDimension.2"]}getExtraparam3(){return this.options["content.customDimension.3"]}getExtraparam4(){return this.options["content.customDimension.4"]}getExtraparam5(){return this.options["content.customDimension.5"]}getExtraparam6(){return this.options["content.customDimension.6"]}getExtraparam7(){return this.options["content.customDimension.7"]}getExtraparam8(){return this.options["content.customDimension.8"]}getExtraparam9(){return this.options["content.customDimension.9"]}getExtraparam10(){return this.options["content.customDimension.10"]}getExtraparam11(){return this.options["content.customDimension.11"]}getExtraparam12(){return this.options["content.customDimension.12"]}getExtraparam13(){return this.options["content.customDimension.13"]}getExtraparam14(){return this.options["content.customDimension.14"]}getExtraparam15(){return this.options["content.customDimension.15"]}getExtraparam16(){return this.options["content.customDimension.16"]}getExtraparam17(){return this.options["content.customDimension.17"]}getExtraparam18(){return this.options["content.customDimension.18"]}getExtraparam19(){return this.options["content.customDimension.19"]}getExtraparam20(){return this.options["content.customDimension.20"]}isParseManifest(){return this.options["parse.manifest"]}isParseCdnNode(){return this.options["parse.cdnNode"]}isCdnSwitch(){return this.options["parse.cdnSwitchHeader"]}getParseCdnNodeList(){return this.options["parse.cdnNode.list"]}getParseCdnNodeNameHeader(){return this.options["parse.cdnNameHeader"]}getParseNodeHeader(){return this.options["parse.cdnNodeHeader"]}canOverwriteAdapters(){return yi.default.parseBoolean(this.options["adapters.overwrite"])}getAdaptersProperties(){return this.options["adapters.properties"]}isAppAnalyticsAutoBegin(){return yi.default.parseBoolean(this.options["check.appAnalytics.autoBegin"])}isAppAnalyticsEnabled(){return yi.default.parseBoolean(this.options["check.appAnalytics.enabled"])}isVideoAnalyticsEnabled(){return yi.default.parseBoolean(this.options["check.videoAnalytics.enabled"])}isRefreshLMAConfigurationEnabled(){return yi.default.parseBoolean(this.options["lma.refresh.configuration.enabled"])}isPluginLogsEnabled(){return yi.default.parseBoolean(this.options["debug.pluginLogs.enabled"])}isPlayerLogsEnabled(){return yi.default.parseBoolean(this.options["debug.playerLogs.enabled"])}refreshLMAConfigurationSeconds(){return this.options["lma.refresh.configuration.seconds"]}getPlayheadMonitorEnabled(){return this.options["playhead.monitor"]}getReadyStateMonitorEnabled(){return this.options["readyState.monitor"]}}class Qr{constructor(e){this.options=new(Ur()),this.core=V.default.getInstance(),this.coreStorage=this.core.getCoreStorage(),this.analyticsRequestHandler=new Hr,this.accountCode=e,this.requestBuilder=new(qr()),this._beat=new(Mr())(this._sendBeat.bind(this),3e4),this.sessionExpire=this.coreStorage.getSessionExpire()||18e4,this.appAnalyticsStarted=!1,this.appAnalyticsStopped=!1,this._lastNavigation={page:"",route:""},this._registeredProperties=null}destroy(){this._beat.stop(),this.analyticsRequestHandler.destroy()}setOptions(e){this.options=e}getOptions(){return this.options}begin(e={}){this.core.isUsingLegacy()||(this.appAnalyticsStarted||(this._logBeginEvent(e),this._registeredProperties=this.coreStorage.getAppAnalyticsRegisteredProperties()),this.fireSessionStart(e))}newSession(e,t={}){this.core.isUsingLegacy()||(this._logFireNewSessionListener(e!=null?e:{},t),(this.appAnalyticsStarted||this.appAnalyticsStopped)&&this.endSession(),e&&this.setOptions(e),this.begin(t))}endSession(e={}){this.core.isUsingLegacy()||this.appAnalyticsStarted&&this.fireSessionStop(e)}_setLastActive(){this._firstActive||(this._firstActive=this.getFirstActive()),this.coreStorage.setLastActive(new Date().getTime().toString())}getAccountCode(){return this.accountCode}getFirstActive(){return this.coreStorage.getLastActive()||0}getIsDataExpired(){let e=new Date().getTime();return!this.coreStorage.isEnabled()||!this.coreStorage.getStoredData()||this.getFirstActive()<e-this.sessionExpire}fireSessionStart(e={}){this.core.isUsingLegacy()||(this._logFireSessionStartEvent(e),this.appAnalyticsStopped&&(this.core.refreshSessionToken(),this.appAnalyticsStopped=!1),this.appAnalyticsStarted||(this.coreStorage.setAppAnalyticsStarted(!0),this.appAnalyticsStarted=!0,this._processSessionStart(this._getParamsJson(e,null,null,!0,!0)),this._setLastActive()))}fireSessionStop(e={}){this.core.isUsingLegacy()||(this._logFireSessionStopEvent(e),this.appAnalyticsStarted&&(this.appAnalyticsStopped=!0,this.appAnalyticsStarted=!1,this.coreStorage.removeAppAnalyticsStarted(),this._processSessionStop(e),this.coreStorage.removeStoredData(),this.coreStorage.removeSession(),this.coreStorage.removeLastActive(),this.core.refreshSessionToken()))}fireNav(e={}){this.core.isUsingLegacy()||(this._logFireNavListener(e),this.isActive()&&(this.appAnalyticsStarted=!0,this._processNavigation(this._getParamsJson(e,null,null,!0))))}fireEvent(e="",t={},r={},n={}){if(!this.core.isUsingLegacy()&&(this._logFireEventListener(e),this.appAnalyticsStarted)){let o=this._getParamsJson(t,r,e);Bi().assign(o.params,n||{}),this._processCustomEvent(o),this._setLastActive()}}register(e={},t={}){this._registeredProperties={dimensions:e,values:t},this.coreStorage.setAppAnalyticsRegisteredProperties(JSON.stringify(this._registeredProperties))}registerOnce(e,t){this._registeredProperties||this.register(e,t)}unregister(){this._registeredProperties=null,this.coreStorage.removeAppAnalyticsRegisteredProperties()}_getParamsJson(e,t,r,n,o){let I={};if(r&&(I.name=r),I.dimensions=e||{},I.values=t||{},this._registeredProperties){for(let w in this._registeredProperties.dimensions)I.dimensions[w]=this._registeredProperties.dimensions[w];for(let w in this._registeredProperties.values)I.values[w]=this._registeredProperties.values[w]}let N={params:I};return n&&(N.params.dimensions.page&&(N.params.page=N.params.dimensions.page,delete N.params.dimensions.page),N.params.dimensions.route&&(N.params.route=N.params.dimensions.route,delete N.params.dimensions.route),o||delete N.params.dimensions,delete N.params.values),N}isActive(){if(this.core.isUsingLegacy())return!1;if(this.appAnalyticsStarted||this.coreStorage.getAppAnalyticsStarted())return!0;let e=new Date().getTime();return this.coreStorage.getLastActive()+this.sessionExpire>e}_sendAppAnalytics(e,t){if(!this.core.isUsingLegacy()&&(t=this.requestBuilder.buildParams(t,e,[this,new Kr(this.options)]))!==null&&this.options.enabled){let r=new us(e,t);this.isMethodPostEnabled()&&r.setMethod(g.Method.POST),this.analyticsRequestHandler.prepareParams(r),this.analyticsRequestHandler.sendRequest(r)}}addOnWillSendRequestListener(e){var t;(t=this.analyticsRequestHandler)===null||t===void 0||t.onWillSendAnalyticsRequestListeners.push(e)}removeOnWillSendRequestListener(e){var t;this.analyticsRequestHandler&&(this.analyticsRequestHandler.onWillSendAnalyticsRequestListeners=(t=this.analyticsRequestHandler)===null||t===void 0?void 0:t.onWillSendAnalyticsRequestListeners.filter(r=>r!==e))}_processNavigation(e){e=this._parseInternalParams(e),this._checkDifferentNavigation(e)?(this._sendAppAnalytics(St().Service.NAV,e),this._beat.isRunning||this._beat.start(),d.default.notice(g.AppAnalyticsTag,"["+this.core.getFastDataSessionToken()+"] "+St().Service.NAV+" "+e.route),this._lastNavigation.page=e.page,this._lastNavigation.route=e.route):d.default.warn(g.AppAnalyticsTag,"Same navigation detected and ignored for Page and Route")}_processSessionStart(e){e=this._parseInternalParams(e),this._sendAppAnalytics(St().Service.SESSION_START,e),this._beat.isRunning||this._beat.start(),d.default.notice(g.AppAnalyticsTag,"["+this.core.getFastDataSessionToken()+"] "+St().Service.SESSION_START+" "+e.route)}_processSessionStop(e){e=this._parseInternalParams(e),this._sendAppAnalytics(St().Service.SESSION_STOP,e),this._beat.isRunning&&this._beat.stop(),d.default.notice(g.AppAnalyticsTag,"["+this.core.getFastDataSessionToken()+"] "+St().Service.SESSION_STOP+" "+e.route)}_processCustomEvent(e){e=this._parseInternalParams(e),this._sendAppAnalytics(St().Service.EVENT,e),d.default.notice(g.AppAnalyticsTag,"["+this.core.getFastDataSessionToken()+"] "+St().Service.EVENT+" "+e.name)}_parseInternalParams(e){return e&&(e.params||e)||{}}_sendBeat(e){let t={diffTime:e};this._sendAppAnalytics(St().Service.BEAT,t),this&&this._setLastActive(),d.default.verbose(g.AppAnalyticsTag,St().Service.BEAT)}_checkDifferentNavigation(e){e=e||{};let t=this._lastNavigation&&e.route===this._lastNavigation.route,r=this._lastNavigation&&e.page===this._lastNavigation.page;return!t||!r}getSessionMetrics(){return Bi().getMetricsFrom(this.options["session.metrics"])}isPlayerLogsEnabled(){return d.default.debug(g.AppAnalyticsTag,"isPlayerLogsEnabled: "+this.options["debug.playerLogs.enabled"]),Bi().parseBoolean(this.options["debug.playerLogs.enabled"])}isPluginLogsEnabled(){return d.default.debug(g.AppAnalyticsTag,"isPluginLogsEnabled: "+this.options["debug.pluginLogs.enabled"]),Bi().parseBoolean(this.options["debug.pluginLogs.enabled"])}isMethodPostEnabled(){return this.options.method&&this.options.method.toUpperCase()===qs.POST}_sendPluginLogs(e,t,r){if(!this.core.isUsingLegacy()&&this.isPluginLogsEnabled()){try{if(r&&r.logType&&r.logAction){let n=this.core.getFastDataSessionToken();d.default.notice(g.AppAnalyticsTag,n.length?"["+n+"] ":r.logType+": Action "+r.logAction)}}catch(n){}if(r.timemark=new Date().getTime(),(r=this.requestBuilder.buildParams(r,t))!==null&&this.options.enabled){let n=new us(t,r);this.isMethodPostEnabled()&&n.setMethod(g.Method.POST),this.analyticsRequestHandler.prepareParams(n),this.analyticsRequestHandler.sendRequest(n)}}}_logBeginEvent(e){let t={logs:{data:e},logAction:"beginSession",logType:"pluginMethod"};this._sendPluginLogs(St().WillSendLog.WILL_SEND_LOG_INFINITY_BEGIN,St().Service.APP_ANALYTICS_PLUGIN_LOGS,t)}_logFireSessionStartEvent(e){let t={logs:{data:e},logAction:"startSession",logType:"pluginMethod"};this._sendPluginLogs(St().WillSendLog.WILL_SEND_LOG_INFINITY_START,St().Service.APP_ANALYTICS_PLUGIN_LOGS,t)}_logFireSessionStopEvent(e){let t={logs:{data:e},logAction:"stopSession",logType:"pluginMethod"};this._sendPluginLogs(St().WillSendLog.WILL_SEND_LOG_INFINITY_START,St().Service.APP_ANALYTICS_PLUGIN_LOGS,t)}_logFireEventListener(e){let t={logs:{data:e},logAction:"eventSession",logType:"pluginMethod"};this._sendPluginLogs(St().WillSendLog.WILL_SEND_LOG_INFINITY_EVENT,St().Service.APP_ANALYTICS_PLUGIN_LOGS,t)}_logFireNavListener(e){let t={logs:{data:e},logAction:"nav",logType:"pluginMethod"};this._sendPluginLogs(St().WillSendLog.WILL_SEND_LOG_INFINITY_NAV,St().Service.APP_ANALYTICS_PLUGIN_LOGS,t)}_logFireNewSessionListener(e,t){let r={logs:{data:e,params:t},logAction:"newSession",logType:"pluginMethod"};this._sendPluginLogs(St().WillSendLog.WILL_SEND_LOG_INFINITY_NAV,St().Service.APP_ANALYTICS_PLUGIN_LOGS,r)}}var zr=Y(2602);Y.g.LogLevel=d.LogLevel,Y.g.NpawPluginOptions=zr.A;class Jr{constructor(e,t){this.core=V.default.getInstance(e,t,!0),this.cdnBalancer=new Nr(e,t),this.appAnalytics=new Qr(e),this.videoAnalytics=new(kr()).Plugin(this.appAnalytics),this.diagnostic=Qe.default.getInstance(!0),this.diagnostic.start(this)}destroy(){this.cdnBalancer.destroy(),this.videoAnalytics.videos.getVideoKeys().forEach(e=>{var t,r;(t=this.videoAnalytics.getAdapter(e))===null||t===void 0||t.fireStop(),(r=this.videoAnalytics.getAdsAdapter(e))===null||r===void 0||r.fireStop()}),this.videoAnalytics.destroy(),this.appAnalytics.destroy(),this.diagnostic.destroy(),this.core.destroy()}setLogLevel(e){d.default.setLogLevel(e)}setBalancerOptions(e){this.cdnBalancer.setOptions(e)}setManifestResource(e){this.cdnBalancer.setManifestResource(e)}addInterceptor(e,t){this.cdnBalancer.addInterceptor(e,t)}getBitmovinSendHttpRequest(){return this.cdnBalancer.getBitmovinSendHttpRequest()}getRecommendedManifest(){return this.cdnBalancer.getRecommendedManifest()}isBalancerEnabled(){return this.cdnBalancer.getIsEnabled()}registerAdapter(e,t,r,n,o){this.core.isUsingLegacy()||this.registerAdapterInModule(!1,e,t,r,n,o)}registerAdapterFromClass(e,t,r,n,o){t!==void 0&&typeof t=="function"?this.registerAdapterFromClassInModule(!1,e,new t,r,n,o):d.default.error(g.AnalyticsTag,"Adapter is not valid")}registerAdapterFromString(e,t,r,n,o){t!==void 0&&typeof t=="string"?(this.videoAnalytics.registerAdapter(e,t,r,n),o==null||o()):d.default.error(g.AnalyticsTag,"The provided adapter is not from a valid type")}registerDefaultAdapter(e,t){this.core.isUsingLegacy()||this.videoAnalytics.registerAdapter(void 0,"{}",t,e)}removeAdapter(e){this.core.isUsingLegacy()||(e&&this.videoAnalytics.videos.existsVideo(e)&&this.getAdapter(e)&&this.getAdapter(e).fireStop&&this.getAdapter(e).fireStop(),this.videoAnalytics.removeAdapter(e))}getAdapter(e){return this.videoAnalytics.getAdapter(e)}getAdsAdapter(e){return this.videoAnalytics.getAdsAdapter(e)}registerAdsAdapter(e,t,r,n,o){this.core.isUsingLegacy()||this.registerAdapterInModule(!0,e,t,r,n,o)}registerAdsAdapterFromClass(e,t,r,n,o){t!==void 0&&typeof t=="function"?this.registerAdapterFromClassInModule(!0,e,new t,r,n,o):d.default.error(g.AnalyticsTag,"Adapter is not valid")}registerAdsAdapterFromString(e,t,r,n,o){t!==void 0&&typeof t=="string"?(this.videoAnalytics.registerAdsAdapter(e,t,r,n),o==null||o()):d.default.error(g.AnalyticsTag,"The provided adapter is not from a valid type")}updateAdsAdapter(e,t){t=t!=null?t:"default",e!==void 0&&e!=""?this.videoAnalytics.updateAdsAdapter(e,t):d.default.debug(g.AnalyticsTag,"Invalid ads adapter name")}registerDefaultAdsAdapter(e,t){this.core.isUsingLegacy()||this.videoAnalytics.registerAdsAdapter(void 0,"{}",t,e)}removeAdsAdapter(e){this.core.isUsingLegacy()||this.videoAnalytics.removeAdsAdapter(e)}setAnalyticsOptions(e){this.core.isUsingLegacy()||(this.videoAnalytics.setOptions(e),this.appAnalytics.setOptions(this.videoAnalytics.options),this.core.setOptions(this.videoAnalytics.options),this.diagnostic.setOptions(this.videoAnalytics.options))}setVideoOptions(e,t){e?this.videoAnalytics.setVideoOptions(e,t!=null?t:"default"):d.default.debug(g.AnalyticsTag,"Provided options object is not valid")}fireOfflineEvents(){this.core.isUsingLegacy()||(this.videoAnalytics.videos.getVideoKeys().length>0?d.default.notice(g.AnalyticsTag,"Unable to send offline events because there's at least one adapter registered"):this.core.sendOfflineEvents())}registerAdapterFromClassInModule(e,t,r,n,o,I){e?this.videoAnalytics.registerAdsAdapter(t,r,n,o):this.videoAnalytics.registerAdapter(t,r,n,o),I==null||I()}registerAdapterInModule(e,t,r,n,o,I){if(r.length===0&&d.default.error("Adapter URL can't be empty!"),typeof fetch!="undefined")fetch(r).then(N=>N.json()).then(N=>{let w=JSON.stringify(N);e?this.videoAnalytics.registerAdsAdapter(t,w,n,o):this.videoAnalytics.registerAdapter(t,w,n,o),I==null||I()});else{let N=new XMLHttpRequest;N.addEventListener("readystatechange",()=>{if(N.readyState===4&&N.status>=200&&N.status<400){let w=N.response;e?this.videoAnalytics.registerAdsAdapter(t,w,n,o):this.videoAnalytics.registerAdapter(t,w,n,o),I==null||I()}}),N.open("GET",r),N.send()}}}})(),X.default})())});var Zs=Ii((qi,Ls)=>{(function(ne,re){typeof qi=="object"&&typeof Ls=="object"?Ls.exports=re():typeof define=="function"&&define.amd?define([],re):typeof qi=="object"?qi.NpawPluginAdapters=re():ne.NpawPluginAdapters=re()})(self,()=>(()=>{"use strict";var ne={d:(s,i)=>{for(var a in i)ne.o(i,a)&&!ne.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:i[a]})},o:(s,i)=>Object.prototype.hasOwnProperty.call(s,i)},re={};ne.d(re,{default:()=>H});class Y{constructor(){this.lastPlayhead=null}getVersion(){return"7.0.7-Bitmovin8-ads-jsclass"}getPlayhead(){let i=null;return this.player&&this.flags&&this.flags.isStarted&&(i=this.player.getCurrentTime()),i}getTitle(){return this.title}getDuration(){return this.duration}getResource(){return this.src}getRendition(){return this.getNpawUtils().buildRenditionString(this.width,this.height,this.bitrate)}getBitrate(){return 1e3*this.bitrate}getAudioEnabled(){let i=!0;return this.player&&(i=this.player.getVolume()>0&&!this.player.isMuted()),i}getIsSkippable(){return this.skippable}getIsFullscreen(){let i=!1;return this.player&&(i=this.player.getViewMode()==="fullscreen"),i}getIsVisible(){let i=!1;return this.player&&this.player.getVideoElement&&this.player.getVideoElement()&&(i=this.getNpawUtils().calculateAdViewability(this.player.getVideoElement())),i}getCreativeId(){return this.creativeId}getPosition(){let i=this.position,a=this.getVideo().getAdapter();return a&&!a.flags.isJoined&&(i=this.getNpawReference().Constants.AdPosition.Preroll),i}registerListeners(){let i=this.player.exports.PlayerEvent;this.monitorPlayhead(!0,!0),this.references={},this.references[i.AdBreakStarted]=this.breakStartListener.bind(this),this.references[i.AdBreakFinished]=this.breakEndListener.bind(this),this.references[i.AdStarted]=this.adStartListener.bind(this),this.references[i.AdFinished]=this.adEndListener.bind(this),this.references[i.AdQuartile]=this.quartileListener.bind(this),this.references[i.AdSkipped]=this.skipListener.bind(this),this.references[i.AdClicked]=this.clickListener.bind(this),this.references[i.AdError]=this.errorListener.bind(this),this.references[i.Destroy]=this.destroyListener.bind(this),this.references[i.Paused]=this.pauseListener.bind(this),this.references[i.Playing]=this.resumeListener.bind(this),this.references[i.TimeChanged]=this.timeupdateListener.bind(this);for(let a in this.references)this.player.on(a,this.references[a])}pauseListener(){this.firePause()}resumeListener(){this.fireResume()}timeupdateListener(){this.lastPlayhead=this.getPlayhead()}unregisterListeners(){this.monitor&&this.monitor.stop();try{if(this.player&&this.player.off&&this.references){for(let i in this.references)this.player.off(i,this.references[i]);delete this.references}}catch(i){}}breakStartListener(i){this.getVideo().fireInit();let a=this.getVideo().getAdapter();a&&a.firePause();let S=i.adBreak.position;S==="pre"?this.position=this.getNpawReference().Constants.AdPosition.Preroll:S==="post"||a&&a.getDuration()!==0&&(a.getPlayhead()||S)>a.getDuration()-1?this.position=this.getNpawReference().Constants.AdPosition.Postroll:this.position=this.getNpawReference().Constants.AdPosition.Midroll}breakEndListener(i){if(this.fireBreakStop(),this.getVideo().requestBuilder.lastSent.adPosition!==this.getNpawReference().Constants.AdPosition.Postroll){let a=this.getVideo().getAdapter();a&&a.fireResume()}else this.getVideo().fireStop()}adStartListener(i){i.ad&&i.ad.data&&(this.title=i.ad.data.adTitle,this.bitrate=i.ad.data.bitrate,this.creativeId=i.ad.data.creative?i.ad.data.creative.id:void 0,this.src=i.ad.mediaFileUrl,this.height=i.ad.height,this.width=i.ad.width,this.skippable=i.ad.skippable,this.duration=i.ad.duration),this.lastPlayhead=0,this.counter=0,this.fireStart(),this.fireJoin()}adEndListener(i){let a=this.getVideo().getPlayhead();this.fireStop({adPlayhead:this.lastPlayhead,playhead:a}),this.getVideo().requestBuilder.lastSent.adPosition===this.getNpawReference().Constants.AdPosition.Postroll&&this.getVideo().fireStop(),this.lastPlayhead=0}quartileListener(i){let a=1;switch(i.quartile){case"midpoint":a=2;break;case"thirdQuartile":a=3}this.fireQuartile(a)}skipListener(i){let a=this.getVideo().getPlayhead();this.fireSkip({adPlayhead:this.lastPlayhead,playhead:a}),this.getVideo().requestBuilder.lastSent.adPosition===this.getNpawReference().Constants.AdPosition.Postroll&&this.getVideo().fireStop(),this.lastPlayhead=0}clickListener(i){this.fireClick(i.clickThroughUrl)}errorListener(i){let a=i.data?i.data:i;this.fireError(a.code,a.message)}destroyListener(i){this.player=null,this.tag=null;let a=this.getVideo().getPlayhead();this.fireStop({adPlayhead:this.lastPlayhead,playhead:a}),this.lastPlayhead=0,this.getVideo().removeAdsAdapter()}}class X{getResource(i){let a="",S=this._getShaka(i);return typeof S.getManifestUri=="function"?a=S.getManifestUri():typeof S.getCurrentSrc=="function"&&(a=S.getCurrentSrc()),a}getBitrate(i){let a=-1,S=this._getShaka(i);if(typeof S.getStats=="function")a=S.getStats().streamBandwidth;else if(typeof S.getVideoTracks=="function"&&typeof S.getVideoTrackCurrentIndex=="function"){let _=S.getVideoTrackCurrentIndex(),O=S.getVideoTracks();for(let ae in O){let he=O[ae];he.index==_&&(a=he.bitrate)}}return a}isUsed(i){return!!this._getShaka(i)}getRendition(i){let a=this._getShaka(i),S=a.getStats(),_=this.getNpawUtils().buildRenditionString(S.width,S.height,S.streamBandwidth),O=a.getVariantTracks();for(let ae in O){let he=O[ae];if(he.active&&he.type==="video"){_=this.getNpawUtils().buildRenditionString(he.width,he.height,he.bandwidth);break}}return _}_getShaka(i){let a=i.getTech();return a.shakaPlayer||a._shakaplayerInstance}}class K{getTech(i){let a=i.getTech();return a.vhs||a.hls||a.hls_||a.hlsplayer}getRendition(i){let a=null,S=this.getTech(i).currentLevel;if(S!==void 0&&S!==-1&&this.getTech(i).levels){let _=this.getTech(i).levels[S];_&&(a=this.getNpawUtils().buildRenditionString(_.width,_.height,_.bitrate))}return a}isUsed(i){return!!this.getTech(i)}getHls(i){return this.getTech(i)}getResource(i){let a=null;return this.getTech(i)&&this.getTech(i).url?a=this.getTech(i).url:this.getHls(i)&&this.getHls(i).source_&&(a=this.getHls(i).source_.src),a}getBitrate(i){let a=null,S=this.getTech(i).currentLevel;if(S!==void 0&&S!==-1&&this.getTech(i).levels){let _=this.getTech(i).levels[S];_&&_.bitrate&&(a=_.bitrate)}return a}}class V{getTech(i){return i.getTech().hlsProvider}getRendition(i){let a,S=this.getTech(i).getQuality();return S!==void 0&&S.width&&S.height&&S.bitrate&&(a=this.getNpawUtils().buildRenditionString(S.width,S.height,S.bitrate)),a}isUsed(i){return!!this.getTech(i)}getHls(i){return this.getTech(i)}getResource(i){let a=null,S=this.getTech(i).getQuality();return S!==void 0&&S.url&&S._urlId&&(a=S.url[S._urlId]),a}getBitrate(i){let a,S=this.getTech(i).getQuality();return S!==void 0&&S.bitrate&&(a=S.bitrate),a}}class d{getBitrate(i){return i.player.dash.shakaPlayer.getStats().streamBandwidth}getResource(i){let a="",S=i.player.dash.shakaPlayer;return typeof S.getManifestUri=="function"?a=S.getManifestUri():typeof S.getAssetUri=="function"&&(a=S.getAssetUri()),a}isUsed(i){return i.player.dash&&i.player.dash.shakaPlayer}getRendition(i){let a=i.player.dash.shakaPlayer,S=a.getStats(),_=this.getNpawUtils().buildRenditionString(S.width,S.height,S.streamBandwidth),O=a.getVariantTracks();for(let ae in O){let he=O[ae];he.active&&he.type==="video"&&(_=this.getNpawUtils().buildRenditionString(he.width,he.height,he.bandwidth))}return _}}class g{getResource(i){return this._getDashPlayer(i).getSource()}_getDashPlayer(i){return i.player.dash.mediaPlayer}isUsed(i){return i.player.dash&&i.player.dash.mediaPlayer&&!i.player.dash.shakaPlayer}getRendition(i){let a=null,S=this._getDashPlayer(i);if(S){let _=S.getQualityFor("video");if(_){let O=S.getBitrateInfoListFor("video")[_];O&&(a=this.getNpawUtils().buildRenditionString(O.width,O.height,O.bitrate))}}return a}getBitrate(i){let a=null,S=this._getDashPlayer(i);if(S){let _=S.getQualityFor("video");_&&(a=S.getBitrateInfoListFor("video")[_].bitrate)}return a}}class u{isUsed(i){return!!this.getHls(i)}getRendition(i){let a=null,S=this.getHls(i).playlists.media();if(i.player.qualityLevels){let _=i.player.qualityLevels(),O=_[_.selectedIndex];O&&(a=this.getNpawUtils().buildRenditionString(O.width,O.height,O.bitrate))}else if(S&&S.attributes){let _=S.attributes;_.RESOLUTION?a=this.getNpawUtils().buildRenditionString(_.RESOLUTION.width,_.RESOLUTION.height,_.BANDWIDTH):_.BANDWIDTH?a=this.getNpawUtils().buildRenditionString(_.BANDWIDTH):_.NAME&&(a=_.NAME)}return a}getHls(i){return i.getTech().vhs||i.getTech().hls||i.getTech().hls_||i.getTech().hlsplayer}getTotalBytes(i){let a=this.getHls(i),S=a.bytesReceived;return!S&&a.stats&&(S=a.stats.mediaBytesTransferred-i.acumBytes),S}getBitrate(i){let a=null,S=this.getHls(i).playlists.media();if(i.player.qualityLevels){let _=i.player.qualityLevels(),O=_[_.selectedIndex];O&&(a=O.bitrate)}else S&&S.attributes&&S.attributes.BANDWIDTH?a=S.attributes.BANDWIDTH:i.player.tech_&&i.player.tech_.vhs&&i.player.tech_.vhs.stats?a=i.player.tech_.vhs.stats.bandwidth:i.player.tech_&&i.player.tech_.hls&&i.player.tech_.hls.bandwidth?a=i.player.tech_.hls.bandwidth:i.player.hls&&i.player.hls.bandwidth&&(a=i.player.hls.bandwidth);return a}}class R{initProperties(){this.isGeneric=!0}getVersion(){return"7.0.9-videojs-ads-jsclass"}registerListeners(){if(this.references={adstart:this.adStartListener.bind(this),adend:this.adEndListener.bind(this),adskip:this.adSkipListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this)},this.player)for(var i in this.references)this.player.on(i,this.references[i])}unregisterListeners(){if(this.player&&this.references){for(var i in this.references)this.player.off(i,this.references[i]);delete this.references}}adStartListener(i){this.firePlayerLog("adStartListener",{}),this.fireStart(),this.fireJoin()}adEndListener(i){this.firePlayerLog("adEndListener",{}),this.fireStop()}adSkipListener(i){this.firePlayerLog("adSkipListener",{}),this.fireSkip()}errorListener(i){this.firePlayerLog("adErrorListener",{}),this.fireError()}clickListener(i){this.firePlayerLog("adClickListener",{}),this.fireClick()}}class T{isUsed(){return typeof google!="undefined"&&this.player.ima3&&this.player.ads}getVersion(){let i=null;return typeof google!="undefined"&&google.ima&&(i="bcove-ima-jsclass "+google.ima.VERSION),i}getPlayhead(){let i=this.getVideo().getAdapter().player;return this.player.ima3&&this.player.ima3&&this.player.ima3.adPlayer&&(i=this.player.ima3.adPlayer),i.currentTime()}getDuration(){let i=null;if(this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration)i=this.player.ads.ad.duration;else{let a=this.getVideo().getAdapter().player;this.player.ima3&&(a=this.player.ima3.adPlayer),i=a&&a.duration?a.duration():null}return i}getPosition(){let i=this.getNpawReference().Constants.AdPosition.Midroll;if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":i=this.getNpawReference().Constants.AdPosition.Preroll;break;case"MIDROLL":i=this.getNpawReference().Constants.AdPosition.Midroll;break;case"POSTROLL":i=this.getNpawReference().Constants.AdPosition.Postroll}else this.getVideo().getAdapter().getPlayhead()>=this.getVideo().getAdapter().getDuration()&&(i=this.getNpawReference().Constants.AdPosition.Postroll);return this.getVideo().getAdapter().flags.isJoined||(i=this.getNpawReference().Constants.AdPosition.Preroll),i}getResource(){let i="unknown";return this.player.ima3&&(i=this.player.ima3.currentAd.getMediaUrl()),i}getTitle(){let i=null;return this.player.ima3&&this.player.ima3.currentAd&&(i=this.player.ima3.currentAd.getTitle()),i}getPlayerVersion(){let i=null;return this.player.ima3&&(i=this.player.ima3.VERSION),i}getGivenBreaks(){let i=null;return this.player.ima3&&(i=this.player.ima3.adsManager.getCuePoints().length),i}getBreaksTime(){let i=null;if(this.player.ima3){let a=this.player.ima3.adsManager.getCuePoints();for(let S in a)(!a[S]&&a[S]!==0||a[S]===-1)&&(a[S]=this.getVideo().getAdapter().getDuration());i=a}return i}getGivenAds(){let i=null;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getAdPodInfo()&&(i=this.player.ima3.currentAd.getAdPodInfo().getTotalAds()),i}getAudioEnabled(){let i=null;return i=!this.player.muted()&&!!this.player.volume(),i}getIsSkippable(){let i=!1;return this.player.ima3&&(i=this.player.ima3.currentAd&&this.player.ima3.currentAd.isSkippable()),i}getIsFullscreen(){let i=null;if(this.getPlugin().deviceDetector.isIphone())i=!this.getPlugin().deviceDetector.isInBackground;else{let a=null;this.player.ima3&&(a=this.player.ima3.el),i=!!a&&window.innerHeight<=a.clientHeight+30&&window.innerWidth<=a.clientWidth+30}return i}getIsVisible(){let i=null;return this.getPlugin().deviceDetector.isIphone()?i=!this.getPlugin().deviceDetector.isInBackground:this.player.ima3&&(i=this.getNpawUtils().calculateAdViewability(this.player.ima3.el)),i}getBitrate(){let i=-1;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getVastMediaBitrate()&&(i=this.player.ima3.currentAd.getVastMediaBitrate()),i}getCreativeId(){let i=null;return this.player.ima3&&this.player.ima3.currentAd?i=this.player.ima3.currentAd.getCreativeAdId()||this.player.ima3.currentAd.getCreativeId():this.titles&&(i=this.titles[(this.getVideo().requestBuilder.lastSent.adNumber||1)-1]._creativeId),i}registerListeners(){if(this.monitorPlayhead(!0,!1),this.references={"ima3-started":this.startJoinListener.bind(this),"ima3-paused":this.pausedListener.bind(this),"ima3-resumed":this.resumedListener.bind(this),"ima3-complete":this.adEndedListener.bind(this),"ima3-skipped":this.skippedListener.bind(this),"ima3-ad-error":this.errorListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-click":this.clickListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},this.player)for(let i in this.references)this.player.on(i,this.references[i])}startJoinListener(i){this.getVideo().getAdapter()&&this.getVideo().getAdapter().firePause(),this.fireStart(),this.fireJoin()}pausedListener(i){this.firePause()}resumedListener(i){this.fireResume()}skippedListener(i){this.fireSkip(),this.getVideo().getAdapter()&&this.getVideo().getAdapter().fireResume()}adEndedListener(i){let a=this.getVideo().requestBuilder.lastSent.adPosition===this.getNpawReference().Constants.AdPosition.Preroll?0:this.getVideo().getAdapter().lastPlayhead;this.fireStop({playhead:a,adPlayhead:this.getDuration()})}errorListener(i){if(this.player.ima3)if(i.getError&&i.getError()){let a=i.getError();this.fireError(a.getCode(),a.getMessage())}else this.fireError()}clickListener(i){if(this.player.ima3){let a=null;this.player.ima3.currentAd&&this.player.ima3.currentAd.g&&(a=this.player.ima3.currentAd.g.clickThroughUrl),this.fireClick(a)}}firstQuartileListener(i){this.fireQuartile(1)}secondQuartileListener(i){this.fireQuartile(2)}thirdQuartileListener(i){this.fireQuartile(3)}podEndListener(i){this.fireBreakStop()}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(let i in this.references)this.player.off(i,this.references[i]);delete this.references}}adPlayerErrorListener(i){let a=i.data.AdError;[1012,1005,301,402,302].indexOf(a.getErrorCode())>=0?this.fireManifest(youbora.Constants.ManifestError.NO_RESPONSE,a.getMessage()):[1007,1009,303].indexOf(a.getErrorCode())>=0?this.fireManifest(youbora.Constants.ManifestError.EMPTY,a.getMessage()):[403,100,503,101,102].indexOf(a.getErrorCode())>=0?this.fireManifest(youbora.Constants.ManifestError.WRONG,a.getMessage()):this.fireError(a.getErrorCode(),a.getMessage())}}class c{getVersion(){return"7.0.3-jwplayer-ads-jsclass"}getDuration(){return this.duration}getResource(){return this.resource}getPlayhead(){return this.playhead}getTitle(){return this.title}getPosition(){var i=this.getNpawReference().Constants.AdPosition.Midroll;return this.getVideo().getAdapter()&&!this.getVideo().getAdapter().flags.isJoined?i=this.getNpawReference().Constants.AdPosition.Preroll:this.position!==this.getNpawReference().Constants.AdPosition.Preroll&&this.position!==this.getNpawReference().Constants.AdPosition.Midroll&&this.position!==this.getNpawReference().Constants.AdPosition.Postroll||(i=this.position),i}getGivenBreaks(){var i=null;return this.manager&&this.manager.adsManager&&this.manager.adsManager.getCuePoints&&(i=this.manager.adsManager.getCuePoints().length),i}getBreaksTime(){var i=null;if(this.manager&&this.manager.adsManager&&this.manager.adsManager.getCuePoints){var a=this.manager.adsManager.getCuePoints();for(var S in a)(!a[S]&&a[S]!==0||a[S]===-1)&&(a[S]=this.getVideo()._adapter.getDuration());i=a}return i}getGivenAds(){return this.pod&&this.pod.getTotalAds?this.pod.getTotalAds():null}getAudioEnabled(){return!this.player.getMute()}getIsSkippable(){return this.skippable}getIsFullscreen(){if(typeof this.player.getFullscreen=="function")return this.player.getFullscreen();var i=this.player.getContainer();return window.innerHeight<=i.clientHeight+30&&window.innerWidth<=i.clientWidth+30}getIsVisible(){return this.getNpawUtils().calculateAdViewability(this.player.getContainer())}getCreativeId(){return this.creativeId}registerListeners(){for(var i in this.monitorPlayhead(!0,!1,1200),this.references={adTime:this.adTimeListener.bind(this),adStarted:this.adStartedListener.bind(this),adImpression:this.adImpressionListener.bind(this),adPause:this.adPauseListener.bind(this),adPlay:this.adPlayListener.bind(this),adSkipped:this.adSkippedListener.bind(this),adComplete:this.adCompleteListener.bind(this),adClick:this.adClickListener.bind(this),adError:this.adErrorListener.bind(this),adsManager:this.managerListener.bind(this)},this.references)this.player.on(i,this.references[i])}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var i in this.references)this.player.off(i,this.references[i]);delete this.references}}managerListener(i){this.manager=i}adTimeListener(i){this.playhead=i.position,this.duration=i.duration,this.getVideo()._adapter&&this.getVideo()._adapter.firePause(),i.ima&&i.ima.ad&&this._imaMetadata(i.ima.ad),this.firstStarted||(this.fireStart(),this.firstStarted=!0),this.fireJoin(),this._quartileHandler()}_imaMetadata(i){this.creativeId=i.getCreativeId()||i.getCreativeAdId(),this.resource=i.getMediaUrl(),this.clickThrough=i.g?i.g.clickThroughUrl:null,this.pod=i.getAdPodInfo(),this.skippable=!(i.getSkipTimeOffset()<=0)}_quartileHandler(){var i=this.playhead/this.duration;i>.75?this.fireQuartile(3):i>.5?this.fireQuartile(2):i>.25&&this.fireQuartile(1)}adStartedListener(i){this.position=i.adposition,this.resource=i.mediafile&&i.mediafile.file?i.mediafile.file:i.tag,this.title=i.adtitle}adImpressionListener(i){this.position=i.adposition,this.resource=i.mediafile&&i.mediafile.file?i.mediafile.file:i.tag,this.title=i.adtitle||i.tag,this.clickThrough=i.clickThroughUrl}adPauseListener(i){this.firePause()}adPlayListener(i){this.fireResume()}adSkippedListener(i){this.fireSkip(),this.firstStarted=!1}adCompleteListener(i){this.fireStop(),this.firstStarted=!1,this.resetValues()}adClickListener(i){this.fireClick(this.clickThrough)}adErrorListener(i){if(i.message){var a=i.message.toLowerCase();a.indexOf("ad tag empty")>-1?this.fireManifest(this.getNpawReference().Constants.ManifestError.EMPTY,i.message):a.indexOf("error loading ad tag")>-1||a.indexOf("invalid ad tag")>-1||a.indexOf("any valid ads")>-1?this.fireManifest(this.getNpawReference().Constants.ManifestError.WRONG,i.message):!i.adErrorCode||i.adErrorCode!==60006&&i.adErrorCode!==10403?(this.fireError(i.adErrorCode,i.message),this.fireStop(),this.resetValues(),a.indexOf("timeout")>-1&&this.fireBreakStop()):this.fireManifest(this.getNpawReference().Constants.ManifestError.WRONG,i.message)}}resetValues(){this.playhead=void 0,this.duration=void 0,this.position=void 0,this.resource=void 0,this.title=void 0}}class m{getResource(i){var a="",S=this._getShaka(i);return typeof S.getManifestUri=="function"?a=S.getManifestUri():typeof S.getCurrentSrc=="function"&&(a=S.getCurrentSrc()),a}getBitrate(i){var a=-1,S=this._getShaka(i);if(typeof S.getStats=="function")a=S.getStats().streamBandwidth;else if(typeof S.getVideoTracks=="function"&&typeof S.getVideoTrackCurrentIndex=="function"){var _=S.getVideoTrackCurrentIndex(),O=S.getVideoTracks();for(var ae in O){var he=O[ae];he.index==_&&(a=he.bitrate)}}return a}isUsed(i){return!!this._getShaka(i)}getRendition(i){var a=this._getShaka(i),S=a.getStats(),_=this.getNpawUtils().buildRenditionString(S.width,S.height,S.streamBandwidth),O=a.getVariantTracks();for(var ae in O){var he=O[ae];if(he.active&&he.type==="video"){_=this.getNpawUtils().buildRenditionString(he.width,he.height,he.bandwidth);break}}return _}_getShaka(i){var a=i.getTech();return a.shakaPlayer||a._shakaplayerInstance}}class h{getTech(i){var a=i.getTech();return a.vhs||a.hls||a.hls_||a.hlsplayer}getRendition(i){var a=null,S=this.getTech(i).currentLevel;if(S!==void 0&&S!==-1&&this.getTech(i).levels){var _=this.getTech(i).levels[S];_&&(a=this.getNpawUtils().buildRenditionString(_.width,_.height,_.bitrate))}return a}isUsed(i){return!!this.getTech(i)}getHls(i){return this.getTech(i)}getResource(i){var a=null;return this.getTech(i)&&this.getTech(i).url?a=this.getTech(i).url:this.getHls(i)&&this.getHls(i).source_&&(a=this.getHls(i).source_.src),a}getBitrate(i){var a=null,S=this.getTech(i).currentLevel;if(S!==void 0&&S!==-1&&this.getTech(i).levels){var _=this.getTech(i).levels[S];_&&_.bitrate&&(a=_.bitrate)}return a}}class f{getBitrate(i){return i.player.dash.shakaPlayer.getStats().streamBandwidth}getResource(i){var a="",S=i.player.dash.shakaPlayer;return typeof S.getManifestUri=="function"?a=S.getManifestUri():typeof S.getAssetUri=="function"&&(a=S.getAssetUri()),a}isUsed(i){return i.player.dash&&i.player.dash.shakaPlayer}getRendition(i){var a=i.player.dash.shakaPlayer,S=a.getStats(),_=this.getNpawUtils().buildRenditionString(S.width,S.height,S.streamBandwidth),O=a.getVariantTracks();for(var ae in O){var he=O[ae];he.active&&he.type==="video"&&(_=this.getNpawUtils().buildRenditionString(he.width,he.height,he.bandwidth))}return _}}class P{getResource(i){return this._getDashPlayer(i).getSource()}_getDashPlayer(i){return i.player.dash.mediaPlayer}isUsed(i){return i.player.dash&&i.player.dash.mediaPlayer&&!i.player.dash.shakaPlayer}getRendition(i){var a=null,S=this._getDashPlayer(i);if(S){var _=S.getQualityFor("video");if(_){var O=S.getBitrateInfoListFor("video")[_];O&&(a=this.getNpawUtils().buildRenditionString(O.width,O.height,O.bitrate))}}return a}getBitrate(i){var a=null,S=this._getDashPlayer(i);if(S){var _=S.getQualityFor("video");_&&(a=S.getBitrateInfoListFor("video")[_].bitrate)}return a}}class G{isUsed(i){return!!this.getHls(i)}getRendition(i){var a=null,S=this.getHls(i).playlists.media();if(i.player.qualityLevels){var _=i.player.qualityLevels(),O=_[_.selectedIndex];O&&(a=this.getNpawUtils().buildRenditionString(O.width,O.height,O.bitrate))}else if(S&&S.attributes){var ae=S.attributes;ae.RESOLUTION?a=this.getNpawUtils().buildRenditionString(ae.RESOLUTION.width,ae.RESOLUTION.height,ae.BANDWIDTH):ae.BANDWIDTH?a=this.getNpawUtils().buildRenditionString(ae.BANDWIDTH):ae.NAME&&(a=ae.NAME)}return a}getHls(i){return i.getTech().vhs||i.getTech().hls||i.getTech().hls_||i.getTech().hlsplayer}getTotalBytes(i){var a=this.getHls(i),S=a.bytesReceived;return!S&&a.stats&&(S=a.stats.mediaBytesTransferred-i.acumBytes),S}getBitrate(i){var a=null,S=this.getHls(i).playlists.media();if(i.player.qualityLevels){var _=i.player.qualityLevels(),O=_[_.selectedIndex];O&&(a=O.bitrate)}else S&&S.attributes&&S.attributes.BANDWIDTH?a=S.attributes.BANDWIDTH:i.player.tech_&&i.player.tech_.vhs&&i.player.tech_.vhs.stats?a=i.player.tech_.vhs.stats.bandwidth:i.player.tech_&&i.player.tech_.hls&&i.player.tech_.hls.bandwidth?a=i.player.tech_.hls.bandwidth:i.player.hls&&i.player.hls.bandwidth&&(a=i.player.hls.bandwidth);return a}}class D{initProperties(){this.isGeneric=!0}getVersion(){return"7.0.4-videojs-ads-jsclass"}registerListeners(){if(this.references={adstart:this.adStartListener.bind(this),adend:this.adEndListener.bind(this),adskip:this.adSkipListener.bind(this),adserror:this.errorListener.bind(this),"ads-click":this.clickListener.bind(this),"ima3-first-quartile":this.firstQuartileListener.bind(this),"ima3-midpoint":this.secondQuartileListener.bind(this),"ima3-third-quartile":this.thirdQuartileListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},this.player)for(var i in this.references)this.player.on(i,this.references[i])}firstQuartileListener(i){this.fireQuartile(1)}secondQuartileListener(i){this.fireQuartile(2)}thirdQuartileListener(i){this.fireQuartile(3)}unregisterListeners(){if(this.player&&this.references){for(var i in this.references)this.player.off(i,this.references[i]);delete this.references}}adStartListener(i){this.firePlayerLog("adStartListener",{}),this.fireStart(),this.fireJoin()}adEndListener(i){this.firePlayerLog("adEndListener",{}),this.fireStop()}adSkipListener(i){this.firePlayerLog("adSkipListener",{}),this.fireSkip()}errorListener(i){this.firePlayerLog("adErrorListener",{}),this.fireError()}clickListener(i){this.firePlayerLog("adClickListener",{}),this.fireClick()}}class v{isUsed(){return this.player.ima3&&this.player.ads}getVersion(){var i;return typeof google!="undefined"&&google.ima&&(i="bcove-ima-jsclass "+google.ima.VERSION),i}getPlayhead(){var i=this.getVideo().getAdapter().player;return this.player.ads&&this.player.ads.ad?this.player.ads.ad.currentTime:i.currentTime()}getDuration(){let i;if(this.player.ads&&this.player.ads.ad&&this.player.ads.ad.duration)i=this.player.ads.ad.duration;else{var a=this.getVideo().getAdapter().player;if(this.player.ima3&&this.player.ima3.currentAdEventInfo)return this.player.ima3.currentAdEventInfo.creativeLength[0];i=a&&a.duration?a.duration():null}return i}getPosition(){let i=this.getNpawReference().Constants.AdPosition.Midroll,a=this.getVideo().getAdapter();if(this.player.ads&&this.player.ads.ad)switch(this.player.ads.ad.type){case"PREROLL":i=this.getNpawReference().Constants.AdPosition.Preroll;break;case"MIDROLL":i=this.getNpawReference().Constants.AdPosition.Midroll;break;case"POSTROLL":i=this.getNpawReference().Constants.AdPosition.Postroll}else a.flags.isJoined?a.getPlayhead()>.1&&a.getPlayhead()<a.getDuration()?i=this.getNpawReference().Constants.AdPosition.Midroll:a.getPlayhead()>=a.getDuration()&&(i=this.getNpawReference().Constants.AdPosition.Postroll):i=this.getNpawReference().Constants.AdPosition.Preroll;return i}getResource(){var i;return this.player.ima3&&(i=this.player.ima3.currentAd.getMediaUrl()),i}getTitle(){var i;return this.player.ima3&&this.player.ima3.currentAd&&(i=this.player.ima3.currentAd.getTitle()),i}getPlayerVersion(){var i;return this.player.ima3&&(i=this.player.ima3.VERSION),i}getGivenBreaks(){var i;return this.player.ima3&&(i=this.player.ima3.adsManager.getCuePoints().length),i}getBreaksTime(){var i;if(this.player.ima3){var a=this.player.ima3.adsManager.getCuePoints();for(var S in a)(!a[S]&&a[S]!==0||a[S]===-1)&&(a[S]=this.getVideo().getAdapter().getDuration());i=a}return i}getGivenAds(){var i;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getAdPodInfo()&&(i=this.player.ima3.currentAd.getAdPodInfo().getTotalAds()),i}getAudioEnabled(){return!this.player.muted()&&!!this.player.volume()}getIsSkippable(){var i=!1;return this.player.ima3&&(i=this.player.ima3.currentAd&&this.player.ima3.currentAd.isSkippable()),i}getIsFullscreen(){var i,a;return this.getPlugin().deviceDetector.isIphone()?i=!this.getPlugin().deviceDetector.isInBackground:(this.player.ima3&&(a=this.player.ima3.el),i=!!a&&window.innerHeight<=a.clientHeight+30&&window.innerWidth<=a.clientWidth+30),i}getIsVisible(){var i;return this.getPlugin().deviceDetector.isIphone()?i=!this.getPlugin().deviceDetector.isInBackground:this.player.ima3&&(i=this.getNpawUtils().calculateAdViewability(this.player.ima3.el)),i}getBitrate(){var i;return this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.getVastMediaBitrate()&&(i=this.player.ima3.currentAd.getVastMediaBitrate(),this.lastBitrate=i),this.lastBitrate&&!i?this.lastBitrate:-1}getCreativeId(){var i;return this.player.ima3&&this.player.ima3.currentAd?i=this.player.ima3.currentAd.getCreativeAdId()||this.player.ima3.currentAd.getCreativeId():this.titles&&(i=this.titles[(this.getVideo().requestBuilder.lastSent.adNumber||1)-1]._creativeId),i}registerListeners(){if(this.monitorPlayhead(!0,!1),this.references={"ads-ad-started":this.startJoinListener.bind(this),"ima3-paused":this.pausedListener.bind(this),"ima3-resumed":this.resumedListener.bind(this),"ima3-complete":this.adEndedListener.bind(this),"ima3-skipped":this.skippedListener.bind(this),"ima3-ad-error":this.errorListener.bind(this),"ima3-first-quartile":this.firstQuartileListener.bind(this),"ima3-midpoint":this.secondQuartileListener.bind(this),"ima3-third-quartile":this.thirdQuartileListener.bind(this),"ads-pod-ended":this.podEndListener.bind(this),"ads-click":this.clickListener.bind(this),"ads-first-quartile":this.firstQuartileListener.bind(this),"ads-midpoint":this.secondQuartileListener.bind(this),"ads-third-quartile":this.thirdQuartileListener.bind(this)},this.player)for(var i in this.references)this.player.on(i,this.references[i])}startJoinListener(i){this.getVideo().getAdapter()&&this.getVideo().getAdapter().firePause(),this.fireStart(),this.fireJoin()}pausedListener(i){this.firePause()}resumedListener(i){this.fireResume()}skippedListener(i){this.fireSkip(),this.getVideo().getAdapter()&&this.getVideo().getAdapter().fireResume()}adEndedListener(i){var a=this.getVideo().requestBuilder.lastSent.adPosition===this.getNpawReference().Constants.AdPosition.Preroll?0:this.getVideo().getAdapter().lastPlayhead;this.fireStop({playhead:a,adPlayhead:this.getDuration()}),this.lastBitrate=void 0}errorListener(i){if(this.player.ima3)if(i.getError&&i.getError()){var a=i.getError();this.fireError(a.getCode(),a.getMessage())}else this.fireError()}clickListener(i){var a;this.player.ima3&&(this.player.ima3.currentAd&&this.player.ima3.currentAd.g&&(a=this.player.ima3.currentAd.g.clickThroughUrl),this.fireClick(a))}firstQuartileListener(i){this.fireQuartile(1)}secondQuartileListener(i){this.fireQuartile(2)}thirdQuartileListener(i){this.fireQuartile(3)}podEndListener(i){this.fireBreakStop()}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var i in this.references)this.player.off(i,this.references[i]);delete this.references}}adPlayerErrorListener(i){var a=i.data.AdError;[1012,1005,301,402,302].indexOf(a.getErrorCode())>=0?this.fireManifest(youbora.Constants.ManifestError.NO_RESPONSE,a.getMessage()):[1007,1009,303].indexOf(a.getErrorCode())>=0?this.fireManifest(youbora.Constants.ManifestError.EMPTY,a.getMessage()):[403,100,503,101,102].indexOf(a.getErrorCode())>=0?this.fireManifest(youbora.Constants.ManifestError.WRONG,a.getMessage()):this.fireError(a.getErrorCode(),a.getMessage())}}class y{isUsed(){return!this.player.ima3&&this.player.ads}getVersion(){return"7.0.4-videojs-bcove-ads-jsclass"}getPlayhead(){if(this.player.ads.ad)return this.player.ads.ad.currentTime}getPosition(){switch(this.player.ads.pod.ads_pod_index){case 0:return this.getNpawReference().Constants.AdPosition.Preroll;case-1:return this.getNpawReference().Constants.AdPosition.Postroll}return this.getNpawReference().Constants.AdPosition.Midroll}getResource(){if(this.player.ads.currentSrc)return this.player.ads.currentSrc}getTitle(){if(this.player.ads.ad&&this.player.ads.ad.title)return this.player.ads.ad.title}getDuration(){if(this.player.ads.ad&&this.player.ads.ad.duration)return this.lastDuration=this.player.ads.ad.duration,this.lastDuration}getPlayerName(){return"bcove-ads"}getPlayerVersion(){return this.player.ads.VERSION}registerListeners(){for(var i in this.monitorPlayhead(!0,!1),this.references=[],this.references["ads-ad-started"]=this.adStartListener.bind(this),this.references["ads-pause"]=this.adPausedListener.bind(this),this.references["ads-play"]=this.adResumedListener.bind(this),this.references["ads-ad-ended"]=this.adEndedListener.bind(this),this.references["ima3-skipped"]=this.adSkippedListener.bind(this),this.references["ima3-ad-error"]=this.errorListener.bind(this),this.references.adserror=this.errorListener.bind(this),this.references["ads-click"]=this.clickListener.bind(this),this.references["ads-first-quartile"]=this.firstQuartileListener.bind(this),this.references["ads-midpoint"]=this.secondQuartileListener.bind(this),this.references["ads-third-quartile"]=this.thirdQuartileListener.bind(this),this.references)this.player.on(i,this.references[i])}firstQuartileListener(i){this.fireQuartile(1)}secondQuartileListener(i){this.fireQuartile(2)}thirdQuartileListener(i){this.fireQuartile(3)}adStartListener(i){this.getVideo().getAdapter()&&this.getVideo().getAdapter().firePause(),this.fireStart(),this.fireJoin()}adPausedListener(i){this.firePause()}adResumedListener(i){this.fireResume()}adEndedListener(i){this.fireStop({adPlayhead:this.lastDuration});let a=this.getVideo().getAdapter();a&&a.fireResume()}adSkippedListener(i){this.fireStop({skipped:!0});let a=this.getVideo().getAdapter();a&&a.fireResume()}errorListener(i){this.fireError("Ad error")}clickListener(i){var a=null;this.player.ima3&&this.player.ima3.currentAd&&this.player.ima3.currentAd.g&&(a=this.player.ima3.currentAd.g.clickThroughUrl),this.fireClick({url:a})}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var i in this.references)this.player.off(i,this.references[i]);this.references=[]}}}class F{getPosition(){var i=this.getNpawReference().Constants.AdPosition,a=i.Midroll,S=this.getVideo();let _=(this.player.ads.currentAdBreak.integration||"")==="google-ima";if(S){var O=S.getAdapter();if(O){let ae=S.getPlayhead(),he=S.getDuration()||0;ae<.1||!_&&!O.flags.isJoined?a=i.Preroll:(_&&ae+1>=he||!_&&ae+1+this.getDuration()>=he)&&(a=i.Postroll)}}return a}quartileListener(i){var a=this.getPlayhead()/this.duration;a>=.25&&(this.fireQuartile(1),a>=.5&&(this.fireQuartile(2),a>=.75&&this.fireQuartile(3)))}resumeAdListener(i){this.fireResume()}getIsVisible(){try{var i=this.player?this.player.element:null}catch(a){}return!!i&&this.getNpawUtils().calculateAdViewability(i)}skipAdListener(i){this.fireSkip()}_getCurrentAd(){var i=this.player.ads,a=null;return i&&(i.currentAds&&i.currentAds[0]?a=i.currentAds[0]:i&&i.currentAdBreak&&i.currentAdBreak.ads[this.adCount-1]&&(a=i.currentAdBreak.ads[this.adCount-1])),a}errorAdListener(i){this.fireError(),this.flags.isStarted||(this.adCount=(this.adCount||0)+1)}getGivenBreaks(){var i=null;return this.player.ads.scheduledAdBreaks&&(i=this.player.ads.scheduledAdBreaks.length||i),i}getIsSkippable(){var i=this._getCurrentAd();return!(!i||!i.skipOffset)&&i.skipOffset>=0}getIsFullscreen(){var i=!1;return this.player.element&&this.player.element.clientWidth&&this.player.element.clientHeight&&(i=window.innerHeight<=this.player.element.clientHeight+30&&window.innerWidth<=this.player.element.clientWidth+30),i}getVersion(){return"7.0.13-theoplayer2-ads-jsclass"}getAudioEnabled(){return!this.player.muted&&this.player.volume>0}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.player.ads&&this.references){for(var i in this.references)this.player.ads.removeEventListener(i,this.references[i]);delete this.references}if(this.player&&this.playerReferences){for(var a in this.playerReferences)this.player.removeEventListener(a,this.playerReferences[a]);delete this.playerReferences}}breakBeginListener(i){this.adCount=0,this.actualSlot=i.ad}registerListeners(){if(this.player.ads){for(var i in this.isDAI=!1,this.getNpawUtils().logAllEvents(this.player.ads),this.monitorPlayhead(!0,!1,2e3),this.references={adbegin:this.playAdListener.bind(this),adend:this.endedAdListener.bind(this),aderror:this.errorAdListener.bind(this),adskip:this.skipAdListener.bind(this),adbreakbegin:this.breakBeginListener.bind(this),adbreakend:this.breakEndListener.bind(this)},typeof google!="undefined"&&google.ima.dai&&(this.isDAI=!0),this.playerReferences={pause:this.pauseAdListener.bind(this),playing:this.resumeAdListener.bind(this),play:this.resumeAdListener.bind(this),timeupdate:this.quartileListener.bind(this)},this.references)this.player.ads.addEventListener(i,this.references[i]);for(var a in this.playerReferences)this.player.addEventListener(a,this.playerReferences[a])}}getPlayhead(){let i=this.player.currentTime;return this.isDAI==1&&(i=this.player.currentTime-this.playhead),i}getDuration(){var i=this._getCurrentAd();return i&&i.duration?i.duration:this.player.duration}pauseAdListener(i){this.firePause()}breakEndListener(i){this.fireBreakStop();let a=this.getVideo().getAdapter();a&&a.fireResume(),this.getVideo().requestBuilder.lastSent.givenAds=void 0;let S=this.getNpawReference().Constants.AdPosition.Postroll;this.getPosition()===S&&this.player.ads.scheduledAds.length===0&&this.getVideo().getAdapter().fireStop({},"breakEndListener")}getGivenAds(){return this.actualSlot?this.actualSlot.ads.length:null}endedAdListener(i){let a=this.getVideo().getAdapter();a&&!a.flags.isStarted&&this.fireStart(),this.fireStop({adPlayhead:this.duration})}getResource(){var i=null,a=this._getCurrentAd();return a&&(a.mediaUrl?i=a.mediaUrl:a.mediaFiles&&(i=a.mediaFiles[0].resourceURI||a.mediaFiles[0].contentURL)),i}getTitle(){var i=this._getCurrentAd();return i&&i.title?i.title:"unknown"}playAdListener(i){this.adCount=(this.adCount||0)+1;var a=this.getVideo().getAdapter();a&&(a.ended=!1,a.fireInit(),a.firePause()),this.fireStart({adPlayhead:"0"}),this.fireJoin({adPlayhead:"0"}),this.duration=this.getDuration(),this.playhead=this.player.currentTime}}class b{getVersion(){return"7.0.3-chromecast-caf-ads-js"}getPlayerName(){return"Chromecast CAF Ads"}getPlayhead(){return this.player.getBreakClipCurrentTimeSec()}getDuration(){return this.player.getBreakClipDurationSec()}getPosition(){var i=this.getNpawReference().Constants.AdPosition.Midroll,a=this.plugin.getAdapter();return a&&(!a.flags.isJoined||a.getPlayhead()<1?i=this.getNpawReference().Constants.AdPosition.Preroll:a.getPlayhead()+1>=a.getDuration()&&(i=this.getNpawReference().Constants.AdPosition.Postroll)),i}getTitle(){return"unknown"}getResource(){return"unknown"}getCreativeId(){return this.clipId}getIsVisible(){return!0}getIsFullscreen(){return!0}getIsSkippable(){return this.isSkippable}getGivenAds(){return this.adsInBreak}getBreaksTime(){var i=this.player.getBreaks(),a=[];for(var S in i){var _=i[S].position,O=this.plugin?this.plugin.getAdapter():null;_===-1&&O&&(_=O.getDuration()),a.indexOf(_)===-1&&a.push(_)}return a}getGivenBreaks(){var i=this.player.getBreaks(),a=[];for(var S in i){var _=i[S].position,O=this.plugin?this.plugin.getAdapter():null;_===-1&&O&&(_=O.getDuration()),a.indexOf(_)===-1&&a.push(_)}return a.length}registerListeners(){var i=cast.framework.events;for(var a in this.monitorPlayhead(!0,!1,1200),this.references={},this.references[i.EventType.BREAK_CLIP_LOADING]=this.playListener.bind(this),this.references[i.EventType.BREAK_CLIP_STARTED]=this.joinListener.bind(this),this.references[i.EventType.BREAK_CLIP_ENDED]=this.stopListener.bind(this),this.references[i.EventType.BREAK_STARTED]=this.breakStartListener.bind(this),this.references[i.EventType.BREAK_ENDED]=this.breakEndListener.bind(this),this.references[i.EventType.PAUSE]=this.pauseListener.bind(this),this.references[i.EventType.PLAYING]=this.playingListener.bind(this),this.references)this.player.addEventListener(a,this.references[a])}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var i in this.references)this.player.removeEventListener(i,this.references[i]);this.references={}}}playListener(i){var a=this.plugin.getAdapter();a&&(a.fireStart({},"playListener-ads"),a.firePause({},"playListener-ads")),i!==void 0?(this.isSkippable=i.whenSkippable!==void 0,this.clipId=i.breakClipId):(this.isSkippable=!1,this.clipId=null)}joinListener(i){this._quartileTimer||(this._quartileTimer=setInterval(this.sendQuartile.bind(this),1e3));var a=this.plugin?this.plugin.getAdapter():null;a&&a.firePause({},"joinListener-ads"),this.plugin&&this.plugin.isBreakStarted&&(this.fireStart({},"joinListener"),this.fireJoin({},"joinListener"))}breakStartListener(i){this.adsInBreak=i.total,this.fireBreakStart(),this._quartileTimer||(this._quartileTimer=setInterval(this.sendQuartile.bind(this),1e3)),this.fireStart({},"breakStartListener"),this.fireJoin({},"breakStartListener")}stopListener(i){this.fireStop({},"stopListener")}breakEndListener(i){this.adsInBreak=void 0,this.fireBreakStop();var a=this.plugin?this.plugin.getAdapter():null;a&&a.fireResume({},"endListener-ads")}sendQuartile(i){var a=this.getPlayhead(),S=this.getDuration();a>S/4&&(this.fireQuartile(1),a>S/2&&(this.fireQuartile(2),a>.75*S&&(this.fireQuartile(3),this._quartileTimer&&(clearInterval(this._quartileTimer),this._quartileTimer=void 0))))}pauseListener(i){this.flags.isBuffering||this.firePause({},"pauseListener")}playingListener(i){this.fireResume({},"playingListener")}}class M{getVersion(){return"7.0.1-react-native-video-ads-jsclass"}getDuration(){return this.duration||0}getResource(){return this.resource||"N/A"}getPlayhead(){let i=this.getVideo().getAdapter();return i?i.playhead:void 0}getTitle(){return this.title||"N/A"}getPosition(){var i=this.getNpawReference().Constants.AdPosition.Midroll;return this.getVideo().getAdapter()&&!this.getVideo().getAdapter().flags.isJoined&&(i=this.getNpawReference().Constants.AdPosition.Preroll),i}onAdEvent(i){switch(i.event){case"FIRST_QUARTILE":this._quartileHandler(1);break;case"MIDPOINT":this._quartileHandler(2);break;case"THIRD_QUARTILE":this._quartileHandler(3);break;case"STARTED":this.adStartedListener();break;case"COMPLETED":this.adCompleteListener();break;case"CLICK":this.adClickListener();break;case"PAUSED":this.adPauseListener();break;case"RESUMED":this.adPlayListener();break;case"ERROR":this.adErrorListener();break;case"SKIPPED":this.adSkippedListener();break;case"CONTENT_RESUME_REQUESTED":this.adBreakFinished();break;case"CONTENT_PAUSE_REQUESTED":let a=this.getVideo().getAdapter();a.flags.isPaused||(a.firePause(),a.lastPlayhead=a.getPlayhead()),this.showingAds=!0;break;case"ALL_ADS_COMPLETED":this.getVideo().getAdapter().reactPlatform&&this.getVideo().getAdapter().reactPlatform==="ios"&&this.getVideo().getAdapter().fireStop({},"onAdEvent")}}isShowingAds(){return this.showingAds}_quartileHandler(i){this.fireQuartile(i)}adStartedListener(i){this.getVideo().getAdapter()&&this.getVideo().getAdapter().stopTimer&&clearTimeout(this.getVideo().getAdapter().stopTimer),this.showingAds=!0,this.getVideo().getAdapter().cancelSeek(),this.fireStart({},"adStartListener"),this.fireJoin({},"adStartListener")}adPauseListener(i){this.firePause({},"adPauseListener")}adPlayListener(i){this.fireResume({},"adPlayListener")}adSkippedListener(i){this.fireSkip({},"adSkippedListener")}adCompleteListener(i){this.fireStop({},"adCompleteListener"),this.resetValues()}adClickListener(i){this.fireClick(this.clickThrough)}adBreakFinished(i){this.fireBreakStop({},"adBreakFinished"),this.showingAds=!1}adErrorListener(i){if(i.message){var a=i.message.toLowerCase();a.indexOf("ad tag empty")>-1?this.fireManifest(this.getNpawReference().Constants.ManifestError.EMPTY,i.message):a.indexOf("error loading ad tag")>-1||a.indexOf("invalid ad tag")>-1||a.indexOf("any valid ads")>-1?this.fireManifest(this.getNpawReference().Constants.ManifestError.WRONG,i.message):!i.adErrorCode||i.adErrorCode!==60006&&i.adErrorCode!==10403?(this.fireError(i.adErrorCode,i.message),this.fireStop(),this.resetValues(),a.indexOf("timeout")>-1&&this.fireBreakStop()):this.fireManifest(this.getNpawReference().Constants.ManifestError.WRONG,i.message)}}resetValues(){this.playhead=void 0,this.duration=void 0,this.position=void 0,this.resource=void 0,this.title=void 0,this.showingAds=!1}}let H={video:{Hlsjs:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player.media)}catch(s){return!0}}getVersion(){return"7.0.6-hlsjs-jsclass"}getPlayhead(){var s=null;return this.getVideo()&&this.getVideo().isBreakStarted?this._lastPlayhead:(this.tag&&(s=this.tag.currentTime),s)}getPlayrate(){var s=null;return this.tag&&(s=this.tag.playbackRate),s}getDroppedFrames(){var s=null;return this.tag&&(s=this.tag.webkitDroppedFrameCount),s}getDuration(){var s=null;return this.tag&&!this.getIsLive()&&(s=this.tag.duration),s}getBitrate(){var s=null;return this.player.currentLevel!==-1&&this.player.levels[this.player.currentLevel]&&(s=this.player.levels[this.player.currentLevel].bitrate),s}getRendition(){var s=null;if(this.player.currentLevel!==-1){var i=this.player.levels[this.player.currentLevel];i&&(i.name?s=i.name:i.bitrate&&(s=this.getNpawUtils().buildRenditionString(i.width,i.height,i.bitrate)))}return s}getIsLive(){var s=null;return this.player.levels&&this.player.levels[this.player.currentLevel]&&(s=this.player.levels[this.player.currentLevel].details.live),s}getLatency(){var s=this.player.latency;return s?1e3*s:void 0}getResource(){return this.player.url}getPlayerVersion(){return typeof Hls!="undefined"?Hls.version:"unknown"}getPlayerName(){return"Hls.js"}registerListeners(){if(this._lastPlayhead=0,this.mediaFound)for(var s in this.hlsReference||this.hlsMediaReference||(this.tag=this.player?this.player.media:null,this._registerHlsRef()),this.references={play:this.playListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),seeking:this.seekingListener.bind(this),error:this.errorListener.bind(this),ended:this.endedListener.bind(this),progress:this.progressListener.bind(this),waiting:this.bufferingListener.bind(this),timeupdate:this.timeupdateListener.bind(this)},this.player.on(Hls.Events.LEVEL_SWITCHED,this.detectQualityChange.bind(this)),this.references)this.tag.addEventListener(s,this.references[s]);else this._registerHlsRef()}detectQualityChange(s,i){let a,S=this.player.levels[i.level];S&&(S.name?a=S.name:S.bitrate&&(a=this.getNpawUtils().buildRenditionString(S.width,S.height,S.bitrate))),a&&this.storeNewRendition(a)}_registerHlsRef(){this.hlsReference=this.hlsErrorListener.bind(this),this.hlsMediaReference=this.getTagListener.bind(this),this.player.on("hlsError",this.hlsReference,this),this.player.on("hlsMediaAttached",this.hlsMediaReference)}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&(this.hlsReference&&this.player.off("hlsError",this.hlsReference,this),this.hlsMediaReference&&this.player.off("hlsMediaAttached",this.hlsMediaReference),this.player.off(Hls.Events.LEVEL_SWITCHED,this.detectQualityChange.bind(this)),this.hlsReference=null,this.hlsMediaReference=null),this.tag&&this.references){for(var s in this.references)this.tag.removeEventListener(s,this.references[s]);delete this.references}}progressListener(s){this._lastPlayhead=this.getPlayhead(),this.flags.isStarted?!this.flags.isJoined&&this.getVideo().getIsLive()&&this.fireJoin({},"progressListener"):this.getPlayhead()>1&&(this.startedOnce||!this.getVideo().getIsLive())&&(this.fireStart({},"progressListener"),this.fireJoin({},"progressListener"))}timeupdateListener(s){this._lastPlayhead=this.getPlayhead(),this.flags.isStarted?!this.flags.isJoined&&this.getVideo().getIsLive()&&this.fireJoin({},"timeupdateListener"):this.getPlayhead()>1&&(this.startedOnce||!this.getVideo().getIsLive())&&(this.fireStart({},"timeupdateListener"),this.fireJoin({},"timeupdateListener"))}playListener(s){this.fireStart({},"playListener"),this.startedOnce=!0}pauseListener(s){this.flags.isBuffering||(this.firePause({},"pauseListener"),this.pauseStamp=s.timeStamp)}playingListener(s){this.fireJoin({},"playingListener"),this.fireBufferEnd({},"playingListener"),this.fireSeekEnd({},"playingListener"),this.fireResume({},"playingListener")}seekingListener(s){this.fireSeekBegin({},!1,"seekingListener")}bufferingListener(s){this.tag&&this.tag.readyState!==2||this.fireBufferBegin({},!1,"bufferingListener")}errorListener(s){this.fireError(this.tag.error.code,"PLAY FAILURE",void 0,void 0,"errorListener")}endedListener(s){let i=this.getVideo().getAdsAdapter(),a=!1;i&&i.isDAI!==void 0&&(i.isDAI||(a=i.player.getCuePoints().includes(-1))),a||this.fireStop({},"endedListener")}hlsErrorListener(s,i){i.fatal&&this.fireFatalError(i.details,"PLAYER FAILURE",void 0,void 0,"hlsErrorListener")}getTagListener(){this.tag=this.player?this.player.media:null,this.mediaFound=!0,this.registerListeners()}},Bitmovin:class{constructor(){Jt(this,"adsAdapters",{nativeAdsAdapter:Y})}getVersion(){return"7.0.6-bitmovin8-jsclass"}getPlayhead(){let s=this.player?this.player.getCurrentTime():null;return this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().flags.isStarted&&(s=this.lastPlayhead||0),s}getPlayrate(){return this.player?this.player.getPlaybackSpeed():null}getStopParams(){let s={};return this.getVideo().getPlayhead()>0&&(s={playhead:this.getVideo().getPlayhead()}),s}getDroppedFrames(){return this.player?this.player.getDroppedVideoFrames():null}getDuration(){let s=null;return this.player&&(this.lastDuration=this.player.getDuration()||this.lastDuration,s=this.lastDuration),s}getBitrate(){let s=null;if(this.player){let i=this.player.getPlaybackVideoData(),a=this.player.getVideoQuality();a&&a.bitrate?s=a.bitrate:i&&i.bitrate&&(s=i.bitrate)}return s}getRendition(){let s=null;if(this.player){let i=this.player.getPlaybackVideoData(),a=this.player.getVideoQuality();a&&a.bitrate?s=this.getNpawUtils().buildRenditionString(a.width,a.height,a.bitrate):i&&i.bitrate&&(s=this.getNpawUtils().buildRenditionString(i.width,i.height,i.bitrate))}return s}detectQualityChange(s){let i;s.targetQuality&&s.targetQuality.bitrate&&(i=this.getNpawUtils().buildRenditionString(s.targetQuality.width,s.targetQuality.height,s.targetQuality.bitrate)),i&&this.storeNewRendition&&this.storeNewRendition(i)}getTitle(){return this.player?this.player.getSource().title:null}getIsLive(){return this.player?this.player.isLive():null}getResource(){let s=null;if(this.player&&this.player.getSource&&this.player.getSource()){try{if(this.player.getStreamType&&this.player.getStreamType()&&this.player.getSource()[this.player.getStreamType()])return this.player.getSource()[this.player.getStreamType()]}catch(i){}s=this.player.getSource().progressive||this.player.getSource().hls}try{this.player&&this.player.getManifest&&this.player.getManifest()&&(s=this.player.getManifest().indexOf("MPD")>0?this.player.getSource().dash:this.player.getSource().hls)}catch(i){this.log.notice("Can't get manifest")}return s}getPlayerVersion(){return this.player?this.player.version:null}getPlayerName(){return"Bitmovin"}_checkAdsAdapter(){let s=this.getVideo().getAdsAdapter();s?s&&!s.player&&s.setPlayer(this.player):(this.plugin.setAdsAdapter(this.getAdapterClass("nativeAdsAdapter"),this.getVideo().getVideoKey()),this.getVideo().getAdsAdapter().registerListeners())}registerListeners(){let s=this.player.exports.PlayerEvent;this.monitorPlayhead(!0,!1),this.references={},this.references[s.Play]=this.playListener.bind(this),this.references[s.Paused]=this.pauseListener.bind(this),this.references[s.Playing]=this.playingListener.bind(this),this.references[s.Error]=this.errorListener.bind(this),this.references[s.Seek]=this.seekingListener.bind(this),this.references[s.TimeShift]=this.seekingListener.bind(this),this.references[s.TimeShifted]=this.seekedListener.bind(this),this.references[s.PlaybackFinished]=this.endedListener.bind(this),this.references[s.TimeChanged]=this.timeupdateListener.bind(this),this.references[s.SourceUnloaded]=this.endedListener.bind(this),this.references[s.Destroy]=this.destroyListener.bind(this),this.references[s.Ready]=this.readyListener.bind(this),this.references[s.AdBreakStarted]=this._checkAdsAdapter.bind(this),this.references[s.VideoPlaybackQualityChanged]=this.detectQualityChange.bind(this);for(let i in this.references)this.player.on(i,this.references[i]);this.plugin.setAdsAdapter(this.getAdapterClass("nativeAdsAdapter"),this.getVideo().getVideoKey()),this.getVideo().getAdsAdapter().registerListeners()}unregisterListeners(){this.monitor&&this.monitor.stop();try{if(this.getVideo()&&this.getVideo().removeAdsAdapter(),this.player&&this.player.off&&this.references){for(let s in this.references)this.player.off(s,this.references[s]);delete this.references}}catch(s){}}readyListener(s){this._checkAdsAdapter()}playListener(s){this.firePlayerLog("playListener",{}),this.lastPlayhead=0,this.fireStart(),this.failedView=!1}timeupdateListener(s){this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().flags.isStarted||(this.lastPlayhead=this.player.getCurrentTime()),this.getPlayhead()>.2&&(this.getIsLive()||this.getPlayhead()+1<this.getDuration())&&(this.fireStart(),this.failedView=!1,this.flags.isJoined||(this.monitor.skipNextTick(),this.fireJoin())),!this.player.isPaused()&&this.flags.isSeeking&&(this.fireSeekEnd({},"timeupdateListener"),this.monitor.skipNextTick())}pauseListener(s){this.firePlayerLog("pauseListener",{}),s.issuer&&s.issuer==="ui-seek"?this.fireSeekBegin({},!1,"pauseListener"):this.firePause()}playingListener(s){this.firePlayerLog("playingListener",{}),this.fireStart(),this.failedView=!1,this.fireResume(),this.flags.isJoined||this.monitor.skipNextTick()}errorListener(s){this.firePlayerLog("errorListener",{}),this.failedView||(this.flags.isStarted||(this.failedView=!0),this.fireError(s.code,s.name),this.fireStop(this.getStopParams()))}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.fireSeekEnd({},"seekedListener")}endedListener(s){this.firePlayerLog("endedListener",{}),this.fireStop(this.getStopParams())}destroyListener(s){this.player=null,this.tag=null,this.fireStop(),this.getVideo().removeAdapter()}},Videojs:class{constructor(){Jt(this,"adsAdapters",{bcoveImaAdsAdapter:T,genericAdsAdapter:R});Jt(this,"additionalContexts",{contribHlsTech:u,dashTech:g,dashShakaTech:d,hlsJsTech:K,streamrootHlsJsTech:V,shakaTech:X})}isInAds(s=!1){try{let i=this.getVideo().getAdsAdapter();return s&&i&&i.isDAI!==void 0&&!i.isDAI?i.player.getCuePoints().includes(-1):this.player.ads&&this.player.ads.inAdBreak&&typeof this.player.ads.inAdBreak=="function"&&this.player.ads.inAdBreak()}catch(i){return!1}}getBitrate(){let s=null,i=this.getUsedTech();return i&&i.getBitrate&&(s=i.getBitrate(this)),s}checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player.el())}catch(s){return!0}}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}bufferingListener(s){this.firePlayerLog("bufferingListener",{}),this.flags.isSeeking||this.fireBufferBegin({},!1,"bufferingListener")}getRendition(){let s=null,i=this.getUsedTech();return i&&i.getRendition&&(s=i.getRendition(this)),s}getPlayerVersion(){let s=null;return typeof videojs!="undefined"&&(s=videojs.VERSION),s}playListener(s){this.firePlayerLog("playListener",{}),this.isInAds()||(this.flags.isStarted?this.lastSrc&&this.lastSrc!==this.getResource()&&(this.fireStop({},"playListenerNewResource"),this.acumBytesFunc(),this.lastPlayhead=void 0,this._startEvent("playListenerNewResource"),this.lastSrc=this.getResource()):(this.lastSrc=this.getResource(),this._startEvent("playListenerNotStarted")))}loadAdsAdapter(){if(this.getVideo())if(!this.getVideo().getAdsAdapter()||this.getVideo().getAdsAdapter().isGeneric){let s=null;this.getAdapterClass("bcoveImaAdsAdapter").isUsed(this)?s=this.getAdapterClass("bcoveImaAdsAdapter"):this.getVideo().getAdsAdapter()===null&&(s=this.getAdapterClass("genericAdsAdapter"),s.initProperties()),s&&this.getVideo().setAdsAdapter(s,this.plugin,!0)}else this.getVideo().getAdsAdapter().registerImaEvents&&this.getVideo().getAdsAdapter().registerImaEvents()}errorModifyer(s,i,a){this.fatalList=s||[],this.nonFatalList=i||[],this.ignoreList=a||[]}getPlayrate(){return this.player.playbackRate()}timeupdateListener(s){this.isInAds()||(this.getPlayhead()>.1&&(this.fireJoin({},"timeupdateListener"),this.joinPolling&&this.joinPolling.stop(),!this.flags.isPaused&&this.lastSeekPlayhead&&this.lastSeekPlayhead!==this.getPlayhead()&&(this.fireSeekEnd({},"timeupdateListener"),this.lastSeekPlayhead=!1)),this.flags.isJoined||(this.lastPlayhead===void 0&&(this.lastPlayhead=this.getPlayhead()),this.lastPlayhead!==this.getPlayhead()&&(this.player.options_&&this.plugin&&!this.getVideo().options["content.id"]&&(this.getVideo().options["content.id"]=this.player.options_["data-video-id"]),this.fireStart({},"timeupdateListener"),this.fireJoin({},"timeupdateListener"),this.joinPolling&&this.joinPolling.stop(),this.lastPlayhead=void 0)),this.getVideo()._adsAdapter&&!this.getVideo()._adsAdapter.flags.isStarted&&(this.lastPlayhead=this.getPlayhead()))}getPlayhead(){let s=this.player.currentTime();return this.getVideo()._adsAdapter&&this.getVideo()._adsAdapter.flags.isStarted&&(s=this.lastPlayhead||s),s}getDuration(){var s=this.player.duration();return this.player.mediainfo&&this.player.mediainfo.duration!==void 0&&(s=this.player.mediainfo.duration),s}aderrorListener(s){this.loadAdsAdapter(),this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().adPlayerErrorListener&&this.getVideo().getAdsAdapter().adPlayerErrorListener(s)}_jointimePolling(s){this.getVideo()?this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().flags.isStarted||(this.lastPlayhead!==0&&typeof this.lastPlayhead=="number"&&this.lastPlayhead!==this.getPlayhead()&&(this.fireJoin({},"jointimePolling"),this.joinPolling&&this.joinPolling.stop()),this.lastPlayhead=this.getPlayhead()):this.joinPolling&&this.joinPolling.stop()}acumBytesFunc(){this.acumBytes+=this.getTotalBytes()||0}adsEndedListener(s){this.firePlayerLog("adsEndedListener",{}),this.adsEnded=!0,this.getVideo().requestBuilder.lastSent.adPosition===this.getNpawReference().Constants.AdPosition.Postroll&&(this.getVideo().getAdapter().fireStop({},"adsEndedListener"),this.acumBytesFunc(),this.lastPlayhead=void 0)}getVersion(){return"7.0.9-videojs-jsclass"}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.fireSeekEnd({},"seekedListener"),this.lastSeekPlayhead=this.getPlayhead()}getTech(){return this.player.tech({IWillNotUseThisInPlugins:!0})}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){try{for(var s in this.references)this.player.off(s,this.references[s])}catch(i){}delete this.references}}_startEvent(s){this.loadAdsAdapter(),this.player.options_&&this.plugin&&!this.plugin.options["content.id"]&&(this.plugin.options["content.id"]=this.player.options_["data-video-id"]),this.fireStart({},s),this.flags.isJoined||(this.joinPolling||(this.joinPolling=new(this.getNpawReference()).Timer(this._jointimePolling.bind(this),500)),this.joinPolling.start())}getIsLive(){var s=null;if(this.player.mediainfo&&(s=!0,typeof this.player.mediainfo.duration=="number"&&(s=this.player.mediainfo.duration<1||this.player.mediainfo.duration===1/0)),this.player.duration&&typeof this.player.duration=="function"){s=!0;var i=this.player.duration();typeof i=="number"&&(s=i<1||i===1/0)}return this.player.isLive&&this.player.isLive==="function"&&(s=this.player.isLive()),s}conditionalStop(s){this.firePlayerLog("conditionalStop",{}),this.isInAds(!0)||this.plugin&&(this.adsEnded=!1,this.fireStop({},"conditionalStop"),this.plugin&&!this.getVideo().options["content.id"]&&(this.getVideo().options["content.id"]=null),this.acumBytesFunc(),this.lastPlayhead=void 0)}getTitle(){var s=null;return this.player.mediainfo&&(s=this.player.mediainfo.name),s}getTotalBytes(){var s=null,i=this.getUsedTech();return i&&i.getTotalBytes&&(s=i.getTotalBytes(this)),s}registerListeners(){if(this.monitorPlayhead(!1,!1,1200),this.acumBytes=0,this.ignoreList=[],this.fatalList=[],this.nonFatalList=[],this.references={loadstart:this.loadstartListener.bind(this),adsready:this.loadAdsAdapter.bind(this),play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),ended:this.conditionalStop.bind(this),dispose:this.disposeListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),error:this.errorListener.bind(this),adserror:this.aderrorListener.bind(this),adsEnded:this.adsEndedListener.bind(this),texttrackchange:this.textListener.bind(this),waiting:this.bufferingListener.bind(this)},this.player)for(var s in this.references)this.player.on(s,this.references[s]);setTimeout(this.loadAdsAdapter.bind(this),50)}getResource(){var s=null,i=this.getUsedTech();return i&&i.getResource&&(s=i.getResource(this)),s||(s=this.player.currentSrc()),s}textListener(s){if(this.player.textTracks)for(var i=this.player.textTracks(),a=i.length,S=0;S<a;++S)i[S]&&i[S].mode==="showing"&&(this.getVideo().options["content.subtitles"]=i[S].label||i[S].language)}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}disposeListener(s){this.firePlayerLog("disposeListener",{}),this.plugin&&(this.getVideo().fireStop({},"disposeListener"),this.getVideo().removeAdsAdapter(),this.getVideo().removeAdapter())}loadstartListener(s){this.firePlayerLog("loadstartListener",{}),this.loadAdsAdapter()}getPlayerName(){var s="videojs";return this.getAdapterClass("contribHlsTech").isUsed(this)?s+="-hls":this.getAdapterClass("hlsJsTech").isUsed(this)?s+="-hlsjs":this.getAdapterClass("shakaTech").isUsed(this)?s+="-shaka":this.getAdapterClass("dashShakaTech").isUsed(this)?s+="-dash-shaka":this.getAdapterClass("dashTech").isUsed(this)&&(s+="-dash"),this.player.FreeWheelPlugin&&(s+="-fw"),this.player.mediainfo&&(s+="-bcove"),s}playingListener(s){this.firePlayerLog("playingListener",{}),this._startEvent("playingListener"),this.isInAds()||this.flags.isAdPaused||this.fireResume({},"playingListener"),this.getPlayhead()<1&&this.fireSeekEnd({},"playingListener"),this.fireBufferEnd({},"playingListener")}getUsedTech(){var s=null;if(this.getPlugin().getAdaptersProperties().usedTech){switch(this.getPlugin().getAdaptersProperties().usedTech.toLowerCase()){case"hls":this.getAdapterClass("contribHlsTech").isUsed(this)&&(s=this.getAdapterClass("contribHlsTech"));break;case"hlsjs":this.getAdapterClass("hlsJsTech").isUsed(this)&&(s=this.getAdapterClass("hlsJsTech"));break;case"shaka":this.getAdapterClass("shakaTech").isUsed(this)&&(s=this.getAdapterClass("shakaTech"));break;case"dashshaka":this.getAdapterClass("dashShakaTech").isUsed(this)&&(s=this.getAdapterClass("dashShakaTech"));break;case"streamrootHlsJsTech":this.getAdapterClass("streamrootHlsJsTech").isUsed(this)&&(s=this.getAdapterClass("streamrootHlsJsTech"));break;case"dash":this.getAdapterClass("dashTech").isUsed(this)&&(s=this.getAdapterClass("dashTech"))}if(s!=null)return s}return this.getAdapterClass("contribHlsTech").isUsed(this)?s=this.getAdapterClass("contribHlsTech"):this.getAdapterClass("hlsJsTech").isUsed(this)?s=this.getAdapterClass("hlsJsTech"):this.getAdapterClass("shakaTech").isUsed(this)?s=this.getAdapterClass("shakaTech"):this.getAdapterClass("dashShakaTech").isUsed(this)?s=this.getAdapterClass("dashShakaTech"):this.getAdapterClass("dashTech").isUsed(this)?s=this.getAdapterClass("dashTech"):this.getAdapterClass("streamrootHlsJsTech").isUsed(this)&&(s=this.getAdapterClass("streamrootHlsJsTech")),s}errorListener(s){this.firePlayerLog("errorListener",{});var i=!1,a=!1,S=null,_=null;this.player.error&&this.player.error()&&(S=Number(this.player.error().code),_=this.player.error().message),S!==null&&(this.ignoreList.includes(S)&&(i=!0),!a&&this.fatalList.includes(S)?a=!0:a&&this.nonFatalList.includes(S)&&(a=!1)),i||(a?(this.fireFatalError(S,_,void 0,void 0,"errorListener"),this.acumBytesFunc(),this.lastPlayhead=void 0,this.crashed=!0):this.fireError(S,_,void 0,void 0,"errorListener"))}},Shaka:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this._getTagFromPlayer())}catch(s){return!0}}getBitrate(){var s=this.player.getStats(),i=null;return s.streamBandwidth!==void 0&&(i=s.streamBandwidth),s.streamStats!==void 0&&(i=s.streamStats.videoBandwidth),i}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}bufferingListener(s){this.firePlayerLog("bufferingListener-"+s.buffering,{}),this.flags.isJoined?s.buffering===!0?this.fireBufferBegin({},!1,"bufferingListenerEnabled"):s.buffering===!1&&(this.flags.isSeeking?(this.fireSeekEnd({},"bufferingListenerIsSeeking"),this.cancelBuffer()):this.fireBufferEnd({},"bufferingListenerDisabled")):s.buffering===!0?this.fireBufferBegin({},!1,"bufferingListenerEnabled"):s.buffering===!1&&this.fireJoin({},"bufferingListenerNotJoined")}getLatency(){var s=this.player.getStats().liveLatency;return s?1e3*s:void 0}getRendition(){var s=this._getActiveTrack();return s?this.getNpawUtils().buildRenditionString(s.width,s.height,s.bandwidth):null}getPlayerVersion(){var s=null;return typeof shaka!="undefined"&&(shaka.Player&&(s=shaka.Player.version),shaka.player&&(s=shaka.player.Player.version)),s}playListener(s){this.firePlayerLog("playListener",{}),this._callStart("playListener")}endedListener(s){let i=this.getVideo().getAdsAdapter(),a=!1;i&&i.isDAI!==void 0&&(i.isDAI||(a=i.player.getCuePoints().includes(-1))),a||(this.firePlayerLog("endedListener",{}),this.fireStop({},"endedListener"),this.bytes=0,this.supportBytes=!1)}getPlayrate(){return typeof this.player.getPlaybackRate=="function"&&this.player.getPlaybackRate()||1}timeupdateListener(s){this.getPlayhead()!==this.initialPlayhead&&typeof this.initialPlayhead=="number"?this._callStart("timeupdateListener"):this.initialPlayhead=this.getPlayhead()}getPlayhead(){var s=this.tag||this._getTagFromPlayer();return s?s.currentTime:null}getDuration(){var s=this.tag||this._getTagFromPlayer();return s?s.duration:null}getFramesPerSecond(){var s=this._getActiveTrack();return s?s.frameRate:null}getThroughput(){return this.player.getStats().estimatedBandwidth}getDroppedFrames(){return this.player.getStats().droppedFrames}supportTotalBytes(){return this.supportBytes}getTotalBytes(){return this.bytes}_registerTag(){if(this.tag=this.tag||this._getTagFromPlayer(),this.tag)for(var s in this.references)this.tag.addEventListener(s,this.references[s]);else setTimeout(this._registerTag.bind(this),50)}getVersion(){return"7.0.5-shaka-jsclass"}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.isPlayerOnBuffering()&&this.existPlayerBufferingMethod||(this.flags.isBuffering?this.fireBufferEnd({},"seekedListener"):this.flags.isSeeking&&this.fireSeekEnd({},"seekedListener"))}unregisterListeners(){this.bytes=0,this.supportBytes=!1,this.monitor&&this.monitor.stop();var s=this.tag||this._getTagFromPlayer();if(s&&this.references){for(var i in this.references)s.removeEventListener(i,this.references[i]);delete this.references}if(this.player&&this.referencesPlayer){for(var a in this.referencesPlayer)this.player.removeEventListener(a,this.referencesPlayer[a]);delete this.referencesPlayer}}getIsLive(){return!!this.player.isLive()||!this.getDuration()}_callStart(s){this.flags.isStarted||(this.fireStart({},s),this.initialPlayhead=this.getPlayhead()),this._initialPlayheadChanged()&&this.fireJoin({},s)}getTitle(){var s=this.tag||this._getTagFromPlayer();return s?s.title:null}networkResponseFilter(s,i){try{if(s!=shaka.net.NetworkingEngine.RequestType.SEGMENT)return;i&&i.data&&(this.bytes+=i.data.byteLength)}catch(a){}}registerListeners(){for(var s in this.bytes=0,this.supportBytes=!1,this.existPlayerBufferingMethod=this.player.isBuffering&&typeof this.player.isBuffering=="function",this.monitorPlayhead(!1,!0),this.references={play:this.playListener.bind(this),loadstart:this.autoplayListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),ended:this.endedListener.bind(this),timeupdate:this.timeupdateListener.bind(this)},this.referencesPlayer={error:this.errorListener.bind(this),buffering:this.bufferingListener.bind(this),loading:this.loadingListener.bind(this)},this.tag=null,this._registerTag(),this.referencesPlayer)this.player.addEventListener(s,this.referencesPlayer[s]);this.player&&this.player.getNetworkingEngine&&typeof this.player.getNetworkingEngine=="function"&&this.player.getNetworkingEngine().registerResponseFilter&&typeof this.player.getNetworkingEngine().registerResponseFilter=="function"&&(this.supportBytes=!0,this.player.getNetworkingEngine().registerResponseFilter(this.networkResponseFilter.bind(this)))}getResource(){var s=this.tag||this._getTagFromPlayer(),i=s?s.currentSrc:null;return this.player.getAssetUri&&this.player.getAssetUri()?i=this.player.getAssetUri():this.player.getManifestUri&&this.player.getManifestUri()&&(i=this.player.getManifestUri()),i}_initialPlayheadChanged(){var s=!1;if(!this.flags.isJoined){var i=this.getPlayhead(),a=this.initialPlayhead||0,S=this.getVideo()?this.getVideo().getIsLive():this.getIsLive();(a!==0&&S||!S)&&i>a?s=!0:S&&(this.initialPlayhead=i)}return s}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener"),this.getVideo()&&this.getVideo().getIsLive()&&this.autoplayListener()}_getActiveTrack(){var s=null;if(this.player.getVariantTracks){var i=this.player.getVariantTracks();for(var a in i){var S=i[a];!S.active||S.type!=="video"&&S.type!=="variant"||(s=S)}}else if(this.player.getVideoTracks){var _=this.player.getVideoTracks();for(var O in _){var ae=_[O];ae.active&&(s=ae)}}return s}getPlayerName(){return"Shaka"}playingListener(s){this.firePlayerLog("playingListener",{}),this.fireResume({},"playingListener"),this._callStart("playingListener"),this.isPlayerOnBuffering()&&this.existPlayerBufferingMethod||this.fireJoin({},"playingListener")}isPlayerOnBuffering(){return!!this.existPlayerBufferingMethod&&this.player.isBuffering()}loadingListener(s){this.firePlayerLog("loadingListener",{}),this.flags.isStarted&&(this.fireStop({},"loadingListener"),this.bytes=0,this.supportBytes=!1)}autoplayListener(s){this.firePlayerLog("autoplayListener",{});var i=this.tag||this._getTagFromPlayer();i&&i.autoplay&&this._callStart("autoplayListener")}errorListener(s){this.firePlayerLog("errorListener",{});var i=s.detail&&s.detail.code?s.detail.code:s.code,a=s.detail&&s.detail.message?s.detail.message:"unknown",S=s.detail&&s.detail.category?s.detail.category:s.category,_=s.detail&&s.detail.severity?s.detail.severity:s.severity;S&&S<10&&S>0&&(a={1:"network",2:"text",3:"media",4:"manifest",5:"streaming",6:"drm",7:"player",8:"cast",9:"storage"}[S]||a),_===2&&[1002,3016].indexOf(i)===-1?this.fireFatalError(i,a,void 0,void 0,"errorListener"):this.fireError(i,a,void 0,void 0,"errorListener")}_getTagFromPlayer(){return this.player.getMediaElement?this.player.getMediaElement():this.player.a}},Html5:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player)}catch(s){return!0}}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}stalledListener(s){this.firePlayerLog("stalledListener",{}),this.fireBufferBegin({},!1,"stalledListener")}bufferingListener(s){this.firePlayerLog("waitingListener",{}),this.fireBufferBegin({},!1,"waitingListener")}getIsLive(){return this.player.duration===1/0}playListener(s){this.firePlayerLog("playListener",{}),this.player&&this.playhead&&this.checkReadyState(this.player.readyState,"playListener"),(this.lastResource===void 0||this.getResource()&&this.lastResource!==this.getResource())&&(this.lastResource=this.getResource().split("?")[0]),this.fireStart({},"playListener")}registerListeners(){for(var s in this.monitorPlayhead(!1,!1),this.references={play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),error:this.errorListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),ended:this.endedListener.bind(this),loadstart:this.loadStartListener.bind(this),stalled:this.stalledListener.bind(this),waiting:this.bufferingListener.bind(this),canplay:this.canPlayListener.bind(this),canplaythrough:this.canPlayThroughListener.bind(this),loadedmetadata:this.loadedMetadataListener.bind(this),loadeddata:this.loadedDataListener.bind(this)},this.references)this.player.addEventListener(s,this.references[s])}endedListener(s){let i=this.getVideo().getAdsAdapter(),a=!1;i&&i.isDAI!==void 0&&(i.isDAI||(a=i.player.getCuePoints().includes(-1))),a||(this.firePlayerLog("endedListener",{}),this.fireStop({},"endedListener"))}getPlayrate(){return this.player.playbackRate}canPlayListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"canPlayListener")}canPlayThroughListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"canPlayThroughListener")}timeupdateListener(s){(this.getPlayhead()>0||this.getVideo()&&this.getVideo().getIsLive())&&!this.player.error&&(this.fireStart({},"timeupdateListener"),this.fireJoin({},"timeupdateListener"))}getResource(){return this.player.currentSrc}getPlayhead(){return this.player.currentTime}getDuration(){return this.player.duration}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}getPlayerName(){return"html5"}playingListener(s){this.firePlayerLog("playingListener",{}),this.fireJoin({},"playingListener"),this.fireResume({},"playingListener"),this.fireSeekEnd({},"playingListener"),this.flags.isBuffering&&this.fireBufferEnd({},"playingListener")}errorListener(s){this.firePlayerLog("errorListener",{});var i=null,a=null;try{s&&s.target&&s.target.error&&(a=s.target.error.code,i=s.target.error.message)}catch(S){}this.fireError(a,i,void 0,void 0,"errorListener")}loadedMetadataListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"loadedMetadataListener")}getVersion(){return"7.0.4-html5-jsclass"}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.fireSeekEnd({},"seekedListener")}loadStartListener(s){this.firePlayerLog("loadStartListener",{}),this.flags.isJoined&&this.getResource()&&this.getResource().split("?")[0]!==this.lastResource&&this.fireStop({},"loadStartListener")}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references)for(var s in this.references)this.player.removeEventListener(s,this.references[s]),delete this.references[s]}loadedDataListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"loadedDataListener")}},Flvjs:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player)}catch(s){return!0}}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}stalledListener(s){this.firePlayerLog("stalledListener",{}),this.fireBufferBegin({},!1,"stalledListener")}bufferingListener(s){this.firePlayerLog("waitingListener",{}),this.fireBufferBegin({},!1,"waitingListener")}getIsLive(){return this.player.duration===1/0}playListener(s){this.firePlayerLog("playListener",{}),this.player&&this.playhead&&this.checkReadyState(this.player.readyState,"playListener"),this.fireStart({},"playListener")}registerListeners(){for(var s in this.monitorPlayhead(!1,!1),this.references={play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),error:this.errorListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),ended:this.endedListener.bind(this),loadstart:this.loadStartListener.bind(this),stalled:this.stalledListener.bind(this),waiting:this.bufferingListener.bind(this),canplay:this.canPlayListener.bind(this),canplaythrough:this.canPlayThroughListener.bind(this),loadedmediadata:this.loadedMediaDataListener.bind(this),loadeddata:this.loadedDataListener.bind(this)},this.references)this.player.addEventListener(s,this.references[s])}endedListener(s){let i=this.getVideo().getAdsAdapter(),a=!1;i&&i.isDAI!==void 0&&(i.isDAI||(a=i.player.getCuePoints().includes(-1))),a||(this.firePlayerLog("endedListener",{}),this.fireStop({},"endedListener"))}getPlayrate(){return this.player.playbackRate}canPlayListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"canPlayListener")}canPlayThroughListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"canPlayThroughListener")}timeupdateListener(s){(this.getPlayhead()>0||this.getVideo()&&this.getVideo().getIsLive())&&!this.player.error&&(this.fireStart({},"timeupdateListener"),this.fireJoin({},"timeupdateListener"))}getResource(){return this.player.currentSrc}getPlayhead(){return this.player.currentTime}getDuration(){return this.player.duration}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}getPlayerName(){return"flvjs"}playingListener(s){this.firePlayerLog("playingListener",{}),this.fireJoin({},"playingListener"),this.fireResume({},"playingListener"),this.fireSeekEnd({},"playingListener"),this.flags.isBuffering&&this.fireBufferEnd({},"playingListener")}errorListener(s){this.firePlayerLog("errorListener",{});var i=null,a=null;try{s&&s.target&&s.target.error&&(a=s.target.error.code,i=s.target.error.message)}catch(S){}this.fireError(a,i,void 0,void 0,"errorListener")}loadedMediaDataListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"loadedMediaDataListener")}getVersion(){return"7.0.3-flvjs-jsclass"}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.fireSeekEnd({},"seekedListener")}loadStartListener(s){this.firePlayerLog("loadStartListener",{}),this.flags.isJoined&&this.fireStop({},"loadStartListener")}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references)for(var s in this.references)this.player.removeEventListener(s,this.references[s]),delete this.references[s]}loadedDataListener(s){this.player&&(this.playhead||this.getVideo()&&this.getVideo().getIsLive())&&this.checkReadyState(this.player.readyState,"loadedDataListener")}},Jwplayer:class{constructor(){Jt(this,"adsAdapters",{genericAdsAdapter:c})}getVersion(){return"7.0.3-jwplayer-jsclass"}checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player.getConfig().mediaElement)}catch(s){return!0}}getPlayhead(){if(this.getVideo()&&this.getVideo().isBreakStarted)return this._lastPlayhead;var s=this.player.getPosition();return s&&s<0&&(s=Math.abs(s),this.monitor&&this.monitor.stop()),s}getPlayrate(){var s=1;return this.tag&&this.tag.playbackRate?s=this.tag.playbackRate:this.player.getPlaybackRate&&(s=this.player.getPlaybackRate()),s}getDuration(){return this.duration||this.player.getDuration()||null}getBitrate(){var s=-1,i=this.player.getVisualQuality();return typeof this.player.getCurrentQuality()=="number"&&this.player.getQualityLevels()&&this.player.getCurrentQuality()!==-1&&(i=this.player.getQualityLevels()[this.player.getCurrentQuality()])&&i.bitrate&&(s=i.bitrate),i=this.player.getVisualQuality(),s<=0&&i&&i.bitrate?s=i.bitrate:s<=0&&i&&i.level&&i.level.bitrate&&(s=i.level.bitrate),s}getRendition(){var s=null,i=this.player.getVisualQuality();return i&&i!==null&&i.level?s=this.getNpawUtils().buildRenditionString(i.level.width,i.level.height,i.level.bitrate||0):typeof this.player.getCurrentQuality()=="number"&&this.player.getQualityLevels()&&this.player.getCurrentQuality()!==-1&&((i=this.player.getQualityLevels()[this.player.getCurrentQuality()])&&i.label==="auto"?s=this.getNpawUtils().buildRenditionString(i.bandwidth):i&&i.label?s=i.label:this.player.getCurrentQuality()===-1&&(s="auto")),s}getTitle(){return this.title}getIsLive(){var s=!1;return typeof this.isLive=="boolean"?s=this.isLive:this.getDuration()<=0&&(s=!0),s}getResource(){return this.player.getPlaylistItem().file}getPlayerVersion(){return this.player.version}getPlayerName(){return"JWPlayer"}setOptions(s){s&&s.media&&(this.isLive=s.media.isLive||this.isLive,this.title=s.media.title||this.title),s&&(this.isLive=s["content.isLive"]||this.isLive,this.title=s["content.title"]||this.title),this.getVideo().mergeOptions(s)}registerListeners(){for(var s in this._lastPlayhead=0,this.monitorPlayhead(!0,!0),this.references={beforePlay:this.beforeplayListener.bind(this),buffer:this.bufferListener.bind(this),play:this.playListener.bind(this),pause:this.pauseListener.bind(this),error:this.errorListener.bind(this),seek:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),complete:this.endedListener.bind(this),meta:this.metaListener.bind(this),playlistItem:this.playlistItemListener.bind(this),setupError:this.setupErrorListener.bind(this),idle:this.idleListener.bind(this),firstFrame:this.firstFrameListener.bind(this),time:this.timeListener.bind(this),adsManager:this.managerListener.bind(this),remove:this.removeListener.bind(this),playbackRateChanged:this.playrateListener.bind(this)},this.references)this.player.on(s,this.references[s])}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var s in this.references)this.player.off(s,this.references[s]);delete this.references}}timeListener(s){if(this._lastPlayhead=this.getPlayhead(),this.fatalErrored)return null;s.position!==0&&this._start({},"timeListener");var i=s.position;(s.currentTime||s.position)&&((this.previousPosition&&this.previousPosition<i||this.getIsLive())&&this.fireJoin({},"timeListener"),this.previousPosition=i)}playlistItemListener(s){this.firePlayerLog("playlistItemListener",{});var i=this.player.getPlaylistItem();if(i&&i.file.indexOf("/VideoError.mp4")>-1)return null;this.duration=void 0,this.throughput=-1,this.setOptions(this.player.getConfig().youbora),this.setOptions(i.youbora),this.fireStop({},"playlistItemListener")}setupErrorListener(s){this.firePlayerLog("setupErrorListener",{}),this.fireError(s.message,void 0,void 0,void 0,"setupErrorListener")}checkForClientSideAds(){var s=this.getVideo().getAdsAdapter(),i=!1;return s&&s.isDAI!==void 0&&(s.isDAI||(i=s.player.getCuePoints().includes(-1))),i}idleListener(s){this.firePlayerLog("idleListener",{}),s.reason&&s.reason!=="complete"||this.checkForClientSideAds()||this.fireStop({},"idleListener")}firstFrameListener(s){this.firePlayerLog("firstFrameListener",{}),this.tag=this.player.getConfig().mediaElement,this.fireJoin({},"firstFrameListener")}beforeplayListener(s){this.firePlayerLog("beforeplayListener",{}),this.duration=void 0,this.throughput=-1,this.player.getPlaylistItem().youbora||this.setOptions(this.player.getConfig().youbora),this.flags.isStarted||(this._start({},"beforeplayListener"),this.tag=this.player.getConfig().mediaElement,this.fatalErrored=!1,this.getVideo().getAdsAdapter()||this.getVideo().setAdsAdapter(this.getAdapterClass("genericAdsAdapter"),this.plugin))}managerListener(s){this.firePlayerLog("managerListener",{}),this.getVideo().getAdsAdapter()||(this.getVideo().setAdsAdapter(this.getAdapterClass("genericAdsAdapter"),this.plugin),this.getVideo().getAdsAdapter().managerListener(s))}bufferListener(s){this.firePlayerLog("bufferListener",{}),this.flags.isPaused||this.fireBufferBegin({},!1,"firstFrameListener")}playListener(s){this.firePlayerLog("playListener",{}),this.fireBufferEnd({},"playListener"),this.fireSeekEnd({},"playListener"),this.fireResume({},"playListener"),this.monitor.skipNextTick()}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.flags.isSeeking&&this.fireSeekEnd({},"playListener"),this.firePause({},"pauseListener")}errorListener(s){this.firePlayerLog("errorListener",{}),s.message&&s.message.toLowerCase().includes("casting failed to load")||(s.code?this.fireError(s.code,s.message,void 0,void 0,"errorListener"):this.fireError(s.message,void 0,void 0,void 0,"errorListener"),(!s.message||s.message.toLowerCase().includes("network error")||s.message.toLowerCase().includes("could not be played")||s.message.toLowerCase().includes("cannot load")||s.message.toLowerCase().includes("cannot be played")||s.message.toLowerCase().includes("down")||s.message.toLowerCase().includes("fragloaderror")||s.message.toLowerCase().includes("levelloadtimeout")||s.message.toLowerCase().includes("file not found"))&&this.fireStop({},"errorListener"),s.code&&(s.code<3e5||s.code>309e3)&&(this.fireStop({},"errorListener"),this.fatalErrored=!0))}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.player.getState()!=="paused"&&(this.fireSeekEnd({},"seekedListener"),this.monitor.skipNextTick())}endedListener(s){this.checkForClientSideAds()||(this.firePlayerLog("endedListener",{}),this.fireStop({},"endedListener"))}removeListener(s){this.firePlayerLog("removeListener",{}),this.getVideo().fireStop({},"removeListener")}playrateListener(s){this.monitor&&this.monitor.skipNextTick()}_start(s,i){!this.flags.isStarted&&this.player&&this.getVideo()&&(this._getDrm(),this.fireStart(s,i))}_getDrm(s){var i=this.player.getPlaylistItem(this.player.getPlaylistIndex());for(var a in i.allSources){var S=i.allSources[a];if(S.file===i.file&&S.drm&&typeof Object.keys=="function"){var _=Object.keys(S.drm);_.length===1&&this.getVideo().mergeOptions({"content.drm":_[0]});break}}}metaListener(s){this.duration=s.duration||this.duration,s.metadata&&(this.duration=s.metadata.duration||this.duration)}},Dashjs:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player.getVideoElement())}catch(s){return!0}}getVersion(){return"7.0.12-dashjs-jsclass"}getPlayhead(){var s=null;return this.player&&(s=this.isLive?this.player.timeAsUTC():this.player.time()),s}getDroppedFrames(){var s=0;return this.player&&(s=this.player.getDashMetrics().getCurrentDroppedFrames()),s}getDuration(){var s=null;return this.player&&(s=this.player.duration()),s}getBitrate(){var s=this._getRenditionInfo();return s?s.bitrate:null}getRendition(){var s=this._getRenditionInfo();return s?this.getNpawUtils().buildRenditionString(s.width,s.height,s.bitrate):null}_getRenditionInfo(){var s=null;if(this.player){var i=this.player.getQualityFor("video");i&&(s=this.player.getBitrateInfoListFor("video")[i])}return s}getThroughput(){if(this.getCdnTraffic()&&this.getCdnTraffic()!==0&&this.plugin&&this.plugin.getPingTime()){this.lastDataValue||(this.lastDataValue=0);var s=this.lastDataValue;return this.lastDataValue=this.getCdnTraffic()+this.getP2PTraffic(),Math.round((this.lastDataValue-s)/this.plugin.getPingTime())}if(!this.throughput&&this.player&&this.player.getMetricsFor){var i=this.player.getMetricsFor("video"),a=this.player.getDashMetrics().getHttpRequests(i);if(!a)return null;for(var S=0,_=0,O=0;O<a.length;O++){var ae=a[O];if(ae.type==="MediaSegment"&&ae.responsecode>=200&&ae.responsecode<400&&ae._stream==="video"){var he=ae._responseHeaders.match(/Content-Length: (.+)/i);if(he){var Ae=(ae.interval-(ae.tresponse-ae.trequest))/1e3;S+=he[1]/Ae*8,_++}}}if(!S)return null;this.throughput=S/_}if(!this.throughput&&this.player&&this.player.getAverageThroughput){var ye=this.player.getAverageThroughput("video"),we=this.player.getAverageThroughput("audio");this.throughput=1e3*(ye+we)}return this.throughput}getIsLive(){return this.isLive||(this.isLive=!1),this.isLive}getResource(){var s=null;if(this.player)try{var i=this.player.getSource();typeof i=="string"&&(s=i)}catch(a){}return s}getPlayrate(){return this.player?this.player.getPlaybackRate():1}getPlayerName(){return"dashJS"}getPlayerVersion(){var s=null;return this.player&&(s=this.player.getVersion()),s}getLatency(){var s=null;return this.getIsLive()&&this.player&&this.player.getCurrentLiveLatency&&(s=1e3*this.player.getCurrentLiveLatency()),s}registerListeners(){this.emptyVideoBuffer=!1,this.emptyAudioBuffer=!1,this.emptyTextBuffer=!1;var s=dashjs.MediaPlayer.events;if(this.references={},this.references[s.MANIFEST_LOADED]=this.manifestLoaded.bind(this),this.references[s.PLAYBACK_STARTED]=this.playbackStarted.bind(this),this.references[s.PLAYBACK_WAITING]=this.playbackWaiting.bind(this),this.references[s.PLAYBACK_STALLED]=this.playbackStalled.bind(this),this.references[s.PLAYBACK_PLAYING]=this.playbackPlaying.bind(this),this.references[s.PLAYBACK_SEEKED]=this.playbackPlaying.bind(this),this.references[s.PLAYBACK_PAUSED]=this.playbackPaused.bind(this),this.references[s.PLAYBACK_ENDED]=this.playbackEnded.bind(this),this.references[s.ERROR]=this.errorListener.bind(this),this.references[s.PLAYBACK_ERROR]=this.playbackError.bind(this),this.references[s.PLAYBACK_SEEKING]=this.playbackSeeking.bind(this),this.references[s.BUFFER_LOADED]=this.processBufferLoaded.bind(this),this.references[s.BUFFER_EMPTY]=this.processBufferEmpty.bind(this),this.player)for(var i in this.references)this.player.on(i,this.references[i])}unregisterListeners(){if(this.emptyVideoBuffer=!1,this.emptyAudioBuffer=!1,this.emptyTextBuffer=!1,this.player&&this.references){for(var s in this.references)this.player.off(s,this.references[s]);delete this.references}}processBufferEmpty(s){s.mediaType==="video"?this.emptyVideoBuffer=!0:s.mediaType==="audio"?this.emptyAudioBuffer=!0:s.mediaType==="text"&&(this.emptyTextBuffer=!0)}processBufferLoaded(s){s.mediaType==="video"?this.emptyVideoBuffer=!1:s.mediaType==="audio"?this.emptyAudioBuffer=!1:s.mediaType==="text"&&(this.emptyTextBuffer=!1)}manifestLoaded(s){this.firePlayerLog("manifestLoaded",{}),this.isLive=s.data&&s.data.type==="dynamic"}playbackStarted(s){this.firePlayerLog("playbackStarted",{}),this.fireStart({},"playbackStarted")}playbackPaused(s){this.firePlayerLog("playbackPaused",{}),this.firePause({},"playbackPaused")}playbackPlaying(s){this.firePlayerLog("playbackPlaying",{}),this.flags.isSeeking?this.fireSeekEnd({},"playbackPlaying"):this.flags.isPaused&&this.fireResume({},"playbackPlaying"),this.fireBufferEnd({},"playbackPlaying"),this.fireJoin({},"playbackPlaying")}playbackWaiting(s){var i=this.isLegacyBufferBehaviourEnabled();this.firePlayerLog("playbackWaiting",{}),i&&!this.emptyVideoBuffer||this.fireBufferBegin({},!1,"playbackWaiting")}playbackStalled(s){this.firePlayerLog("playbackStalled",{}),this.fireBufferBegin({},!1,"playbackStalled")}errorListener(s){this.firePlayerLog("errorListener",{}),s.error.code?this.fireError(s.error.code,s.error.message,void 0,void 0,"errorListener"):this.fireError(s.error,"Error",void 0,void 0,"errorListener")}playbackError(s){this.firePlayerLog("playbackError",{}),s.error.code?this.fireError(s.error.code,s.error.message,void 0,void 0,"playbackError"):this.fireError(s.error,"Playback error",void 0,void 0,"playbackError")}playbackSeeking(s){this.firePlayerLog("playbackSeeking",{}),this.isLive&&this.fireStart({},"playbackSeeking"),this.fireSeekBegin({},!1,"playbackSeeking")}playbackEnded(s){let i=this.getVideo().getAdsAdapter(),a=!1;i&&i.isDAI!==void 0&&(i.isDAI||(a=i.player.getCuePoints().includes(-1))),s.isLast&&!a&&(this.firePlayerLog("playbackEnded",{}),this.fireStop({},"playbackEnded"))}getCdnTraffic(){if(this.player.getMetricsFor){var s=this.player.getMetricsFor("p2pweb");if(!s)return this.getNpawReference().Adapter.prototype.getCdnTraffic();var i=s.metricsP2PWeb;return i.videoAvgLength*i.chunksFromCDN+i.audioAvgLength*i.chunksFromCDN}return null}getP2PTraffic(){if(this.player.getMetricsFor){var s=this.player.getMetricsFor("p2pweb");if(!s)return this.getNpawReference().Adapter.prototype.getP2PTraffic();var i=s.metricsP2PWeb;return i.videoAvgLength*i.chunksFromP2P+i.audioAvgLength*i.chunksFromP2P}return null}},Nagra:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player.el_)}catch(s){return!0}}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}stalledListener(s){this.firePlayerLog("stalledListener",{}),this.fireBufferBegin({},!1,"stalledListener")}bufferingListener(s){this.firePlayerLog("waitingListener",{}),this.fireBufferBegin({},!1,"waitingListener")}getIsLive(){return!!this.player.el_&&this.player.el_.duration===1/0}playListener(s){this.firePlayerLog("playListener",{}),this.player&&this.checkReadyState(this.player.readyState,"playListener"),this.fireStart({},"playListener")}registerListeners(){for(var s in this.monitorPlayhead(!1,!1),this.references={play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),error:this.errorListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),ended:this.endedListener.bind(this),loadstart:this.loadStartListener.bind(this),stalled:this.stalledListener.bind(this),waiting:this.bufferingListener.bind(this),canplay:this.canPlayListener.bind(this),canplaythrough:this.canPlayThroughListener.bind(this),loadedmediadata:this.loadedMediaDataListener.bind(this),loadeddata:this.loadedDataListener.bind(this)},this.references)this.player.on(s,this.references[s])}endedListener(s){this.firePlayerLog("endedListener",{}),this.fireStop({},"endedListener")}getPlayrate(){return this.player.playbackRate()}canPlayListener(s){this.player&&this.checkReadyState(this.player.readyState,"canPlayListener")}canPlayThroughListener(s){this.player&&this.checkReadyState(this.player.readyState,"canPlayThroughListener")}timeupdateListener(s){(this.getPlayhead()>.1||this.getVideo()&&this.getVideo().getIsLive())&&!this.player.el_.error&&(this.fireStart({},"timeupdateListener"),this.fireJoin({},"timeupdateListener"))}getResource(){return this.player.currentSrc()}getPlayhead(){return this.player.currentTime()}getDuration(){return this.player.duration()}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}getPlayerName(){return"nagra"}playingListener(s){this.firePlayerLog("playingListener",{}),this.fireResume({},"playingListener"),this.fireSeekEnd({},"playingListener"),this.flags.isBuffering&&this.fireBufferEnd({},"playingListener")}errorListener(s){this.firePlayerLog("errorListener",{});var i=null,a=null;try{s&&s.target&&s.target.error&&(a=s.target.error.code,i=s.target.error.message)}catch(S){}this.fireError(a,i,void 0,void 0,"errorListener")}loadedMediaDataListener(s){this.player&&this.checkReadyState(this.player.readyState,"loadedMediaDataListener")}getVersion(){return"7.0.1-nagra-jsclass"}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.fireSeekEnd({},"seekedListener")}loadStartListener(s){this.firePlayerLog("loadStartListener",{}),this.flags.isJoined&&this.fireStop({},"loadStartListener")}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references)for(var s in this.references)this.player.removeEventListener(s,this.references[s]),delete this.references[s]}loadedDataListener(s){this.player&&this.checkReadyState(this.player.readyState,"loadedDataListener")}getPlayerVersion(){var s="Nagra";return window.OTV.versions.product&&(s+=window.OTV.versions.product),s}getThroughput(){return this.player&&this.player.otvtoolkit().networkStatistics.getNetworkUsage().downloadBitrate?this.player.otvtoolkit().networkStatistics.getNetworkUsage().downloadBitrate:null}getBitrate(){return this.player&&this.player.otvtoolkit().playbackStatistics.getStreamBitrate()?this.player.otvtoolkit().playbackStatistics.getStreamBitrate():null}getDroppedFrames(){let s=0;return this.player.otvtoolkit().renderingStatistics.getFrameDrops()&&(s=this.player.otvtoolkit().renderingStatistics.getFrameDrops()),s}getFramesPerSecond(){let s=null;return this.player.otvtoolkit().renderingStatistics.getFramesPerSecondNominal()&&(s=this.player.otvtoolkit().renderingStatistics.getFramesPerSecondNominal()),s}getRendition(){let s,i,a,S=this.player.tech_.shaka_.getVariantTracks();if(S!==null)for(let _ of S)_.active===!0&&(s=_.width,i=_.height,a=_.bandwidth);return this.getNpawUtils().buildRenditionString(s,i,a)}},Brightcove:class{constructor(){Jt(this,"adsAdapters",{bcoveAdsAdapter:y,bcoveImaAdsAdapter:v,genericAdsAdapter:D});Jt(this,"additionalContexts",{contribHlsTech:G,dashTech:P,dashShakaTech:f,hlsJsTech:h,shakaTech:m})}isInAds(){try{return this.player.ads&&this.player.ads.inAdBreak&&typeof this.player.ads.inAdBreak=="function"&&this.player.ads.inAdBreak()}catch(s){return!1}}getBitrate(){var s=null,i=this.getUsedTech();return i&&i.getBitrate&&(s=i.getBitrate(this)),s}checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player.el())}catch(s){return!0}}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}bufferingListener(s){this.firePlayerLog("bufferingListener",{}),this.flags.isSeeking||this.fireBufferBegin({},!1,"bufferingListener")}getRendition(){var s=null,i=this.getUsedTech();return i&&i.getRendition&&(s=i.getRendition(this)),s}getPlayerVersion(){var s=null;return typeof videojs!="undefined"&&(s=videojs.VERSION),s}playListener(s){this.firePlayerLog("playListener",{}),this.isInAds()||(this.flags.isStarted?this.lastSrc&&this.lastSrc!==this.getResource()&&(this.fireStop({},"playListenerNewResource"),this.acumBytesFunc(),this.lastPlayhead=void 0,this._startEvent("playListenerNewResource"),this.lastSrc=this.getResource()):(this.lastSrc=this.getResource(),this._startEvent("playListenerNotStarted")))}loadAdsAdapter(){var s;if(this.plugin.getAdsAdapter()===null)if(this.getAdapterClass("bcoveImaAdsAdapter").isUsed()){if(s=this.getAdapterClass("bcoveImaAdsAdapter")){this.plugin.setAdsAdapter(s,this.getVideo().getVideoKey());let i=Object.keys(this.getAdapterClasses()).filter(a=>a.toLowerCase().includes("ads"));for(let a of i)this.getAdapterClass(a).unregisterListeners();this.getVideo().getAdsAdapter().registerListeners()}}else this.loadVideoJSAdsAdapter()}loadVideoJSAdsAdapter(){if(this.getVideo())if(!this.getVideo().getAdsAdapter()||this.getVideo().getAdsAdapter().isGeneric){var s=null;if(this.getAdapterClass("bcoveAdsAdapter").isUsed()?s=this.getAdapterClass("bcoveAdsAdapter"):this.getVideo().getAdsAdapter()===null&&(s=this.getAdapterClass("genericAdsAdapter")).initProperties(),s){this.plugin.setAdsAdapter(s,this.getVideo().getVideoKey());let i=Object.keys(this.getAdapterClasses()).filter(a=>a.toLowerCase().includes("ads"));for(let a of i)this.getAdapterClass(a).unregisterListeners();this.getVideo().getAdsAdapter().registerListeners()}}else this.getVideo().getAdsAdapter().registerImaEvents&&this.getVideo().getAdsAdapter().registerImaEvents()}errorModifyer(s,i,a){this.fatalList=s||[],this.nonFatalList=i||[],this.ignoreList=a||[]}getPlayrate(){return this.player.playbackRate()}timeupdateListener(s){this.isInAds()||(this.getPlayhead()>.1&&(this.fireJoin({},"timeupdateListener"),this.joinPolling&&this.joinPolling.stop(),!this.flags.isPaused&&this.lastSeekPlayhead&&this.lastSeekPlayhead!==this.getPlayhead()&&(this.fireSeekEnd({},"timeupdateListener"),this.lastSeekPlayhead=!1)),this.flags.isJoined||(this.lastPlayhead===void 0&&(this.lastPlayhead=this.getPlayhead()),this.lastPlayhead!==this.getPlayhead()&&(this.player.options_&&this.plugin&&!this.getVideo().options["content.id"]&&(this.getVideo().options["content.id"]=this.player.options_["data-video-id"]),this.fireStart({},"timeupdateListener"),this.fireJoin({},"timeupdateListener"),this.joinPolling&&this.joinPolling.stop(),this.lastPlayhead=void 0)),this.getVideo()._adsAdapter&&!this.getVideo()._adsAdapter.flags.isStarted&&(this.lastPlayhead=this.getPlayhead()))}getPlayhead(){return this.player.currentTime()}getDuration(){return this.player.mediainfo&&this.player.mediainfo.duration!==void 0?this.player.mediainfo.duration:this.getVideoJSDuration()}getVideoJSDuration(){var s=this.player.duration();return this.player.mediainfo&&this.player.mediainfo.duration!==void 0&&(s=this.player.mediainfo.duration),s}aderrorListener(s){this.loadAdsAdapter(),this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().adPlayerErrorListener&&this.getVideo().getAdsAdapter().adPlayerErrorListener(s)}_jointimePolling(s){this.getVideo()?this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().flags.isStarted||(this.lastPlayhead!==0&&typeof this.lastPlayhead=="number"&&this.lastPlayhead!==this.getPlayhead()&&(this.fireJoin({},"jointimePolling"),this.joinPolling&&this.joinPolling.stop()),this.lastPlayhead=this.getPlayhead()):this.joinPolling&&this.joinPolling.stop()}acumBytesFunc(){this.acumBytes+=this.getTotalBytes()||0}adsEndedListener(s){this.firePlayerLog("adsEndedListener",{}),this.adsEnded=!0,this.getVideo().requestBuilder.lastSent.adPosition===this.getNpawReference().Constants.AdPosition.Postroll&&(this.getVideo().fireStop({},"adsEndedListener"),this.acumBytesFunc(),this.lastPlayhead=void 0)}getVersion(){return"7.0.4-brightcove-videojs-jsclass"}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.lastSeekPlayhead=this.getPlayhead()}getTech(){return this.player.tech({IWillNotUseThisInPlugins:!0})}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){try{for(var s in this.references)this.player.off(s,this.references[s])}catch(i){}delete this.references}}_startEvent(s){this.loadAdsAdapter(),this.player.options_&&this.plugin&&!this.plugin.options["content.id"]&&(this.plugin.options["content.id"]=this.player.options_["data-video-id"]),this.fireStart({},s),this.flags.isJoined||(this.joinPolling||(this.joinPolling=new(this.getNpawReference()).Timer(this._jointimePolling.bind(this),500)),this.joinPolling.start())}getIsLive(){var s=null;if(this.player.mediainfo&&(s=!0,typeof this.player.mediainfo.duration=="number"&&(s=this.player.mediainfo.duration<1||this.player.mediainfo.duration===1/0)),this.player.duration&&typeof this.player.duration=="function"){s=!0;var i=this.player.duration();typeof i=="number"&&(s=i<1||i===1/0)}return this.player.isLive&&this.player.isLive==="function"&&(s=this.player.isLive()),s}conditionalStop(s){this.firePlayerLog("conditionalStop",{}),this.isInAds()||this.plugin&&(this.adsEnded=!1,this.fireStop({},"conditionalStop"),this.plugin&&!this.getVideo().options["content.id"]&&(this.getVideo().options["content.id"]=null),this.acumBytesFunc(),this.lastPlayhead=void 0)}getTitle(){return this.player.mediainfo?this.player.mediainfo.name:this.getVideoJSTitle()}getVideoJSTitle(){var s=null;return this.player.mediainfo&&(s=this.player.mediainfo.name),s}getTotalBytes(){var s=null,i=this.getUsedTech();return i&&i.getTotalBytes&&(s=i.getTotalBytes(this)),s}registerListeners(){if(this.monitorPlayhead(!1,!1,1200),this.acumBytes=0,this.ignoreList=[],this.fatalList=[],this.nonFatalList=[],this.references={loadstart:this.loadstartListener.bind(this),adsready:this.loadAdsAdapter.bind(this),play:this.playListener.bind(this),timeupdate:this.timeupdateListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),ended:this.conditionalStop.bind(this),dispose:this.disposeListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),error:this.errorListener.bind(this),adserror:this.aderrorListener.bind(this),adsEnded:this.adsEndedListener.bind(this),texttrackchange:this.textListener.bind(this),waiting:this.bufferingListener.bind(this)},this.player)for(var s in this.references)this.player.on(s,this.references[s]);setTimeout(this.loadAdsAdapter.bind(this),50)}getResource(){var s=null,i=this.getUsedTech();return i&&i.getResource&&(s=i.getResource(this)),s||(s=this.player.currentSrc()),s}textListener(s){if(this.player.textTracks)for(var i=this.player.textTracks(),a=i.length,S=0;S<a;++S)i[S]&&i[S].mode==="showing"&&(this.getVideo().options["content.subtitles"]=i[S].label||i[S].language)}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}disposeListener(s){this.firePlayerLog("disposeListener",{}),this.plugin&&(this.getVideo().fireStop({},"disposeListener"),this.getVideo().removeAdsAdapter(),this.getVideo().removeAdapter())}loadstartListener(s){this.firePlayerLog("loadstartListener",{}),this.loadAdsAdapter()}getPlayerName(){var s=this.getVideoJSPlayerName();return this.player&&this.player.mediainfo&&(s+="-bcove"),s}getVideoJSPlayerName(){var s="videojs";return this.getAdapterClass("contribHlsTech").isUsed(this)?s+="-hls":this.getAdapterClass("hlsJsTech").isUsed(this)?s+="-hlsjs":this.getAdapterClass("shakaTech").isUsed(this)?s+="-shaka":this.getAdapterClass("dashShakaTech").isUsed(this)?s+="-dash-shaka":this.getAdapterClass("dashTech").isUsed(this)&&(s+="-dash"),this.player.FreeWheelPlugin&&(s+="-fw"),this.player.mediainfo&&(s+="-bcove"),s}playingListener(s){this.firePlayerLog("playingListener",{}),this._startEvent("playingListener"),this.fireResume({},"playingListener"),this.getPlayhead()<1&&this.fireSeekEnd({},"playingListener"),this.fireBufferEnd({},"playingListener")}getUsedTech(){var s=null;if(this.getPlugin().getAdaptersProperties().usedTech){switch(this.getPlugin().getAdaptersProperties().usedTech.toLowerCase()){case"hls":this.getAdapterClass("contribHlsTech").isUsed(this)&&(s=this.getAdapterClass("contribHlsTech"));break;case"hlsjs":this.getAdapterClass("hlsJsTech").isUsed(this)&&(s=this.getAdapterClass("hlsJsTech"));break;case"shaka":this.getAdapterClass("shakaTech").isUsed(this)&&(s=this.getAdapterClass("shakaTech"));break;case"dashshaka":this.getAdapterClass("dashShakaTech").isUsed(this)&&(s=this.getAdapterClass("dashShakaTech"));break;case"dash":this.getAdapterClass("dashTech").isUsed(this)&&(s=this.getAdapterClass("dashTech"))}if(s!=null)return s}return this.getAdapterClass("contribHlsTech").isUsed(this)?s=this.getAdapterClass("contribHlsTech"):this.getAdapterClass("hlsJsTech").isUsed(this)?s=this.getAdapterClass("hlsJsTech"):this.getAdapterClass("shakaTech").isUsed(this)?s=this.getAdapterClass("shakaTech"):this.getAdapterClass("dashShakaTech").isUsed(this)?s=this.getAdapterClass("dashShakaTech"):this.getAdapterClass("dashTech").isUsed(this)&&(s=this.getAdapterClass("dashTech")),s}errorListener(s){this.firePlayerLog("errorListener",{}),this.fireError(null,null,void 0,void 0,"errorListener")}},Theoplayer:class{constructor(){Jt(this,"adsAdapters",{nativeAdsAdapter:F})}checkExistsPlayer(){try{if(this.player.element)return this.checkExistsObjectOnPage(this.player.element)}catch(s){return!0}}getBitrate(){var s=-1,i=this.getActiveQuality();return i&&i.bandwidth&&(s=i.bandwidth),s}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.flags.isSeeking||this.firePause({},"pauseListener")}offlineListener(s){this.firePlayerLog("offlineListener",{}),this.fireError("OFFLINE_SOURCE","OFFLINE_SOURCE",void 0,void 0,"offlineListener")}getRendition(){this._setLanguage();var s=null,i=this.getActiveQuality();return i?s=i.name&&isNaN(i.name)?i.name:this.getNpawUtils().buildRenditionString(i.width,i.height,i.bandwidth):this.player.videoHeight&&this.player.videoWidth&&(s=this.getNpawUtils().buildRenditionString(this.player.videoWidth,this.player.videoHeight,0)),s}getLatency(){var s=null;return this.getIsLive()&&this.player.currentProgramDateTime!==null&&(s=new Date().getTime()-this.player.currentProgramDateTime),s}getPlayerVersion(){var s="THEOplayer";return typeof THEOplayer!="undefined"?s+=THEOplayer.version:typeof theoplayer!="undefined"&&(s+=theoplayer.version),s}playListener(s){this.firePlayerLog("playListener",{}),this.player.autoplay||this.fireInit({},"playListener")}endedListener(s){this.firePlayerLog("endedListener",{}),this.flags.isStarted&&(this.fireStop({},"endedListener"),this.ended=!0)}getPlayrate(){try{return this.player.playbackRate}catch(s){}return 0}getActiveQuality(){for(var s=this.player.videoTracks,i=0;i<s.length;i++){var a=s.item(i);if(a.enabled)return a.activeQuality}return{}}playrateListener(s){this.monitor&&this.monitor.skipNextTick()}getPlayhead(){var s=null;try{this.player.ads&&this.player.ads.playing||this.flags.isSeeking&&this.flags.isPaused?s=this.lastPlayhead:(this.lastPlayhead=this.player.currentTime,s=this.player.currentTime)}catch(i){}return s}getDuration(){var s=null;return this.player.ads&&this.player.ads.playing?s=this.lastDuration||s:(this.lastDuration=this.player.duration,s=this.lastDuration),s}getThroughput(){return this.player&&this.player.metrics&&this.player.metrics.currentBandwidthEstimate?this.player.metrics.currentBandwidthEstimate:null}getDroppedFrames(){return this.player.metrics?this.player.metrics.droppedVideoFrames:null}getVersion(){return"7.0.13-theoplayer2-jsclass"}unregisterListeners(){if(this.getVideo()&&this.getVideo().removeAdsAdapter(),this.monitor&&this.monitor.stop(),this.player&&this.references){for(var s in this.references)this.player.removeEventListener(s,this.references[s]);delete this.references}if(this.player&&this.player.network&&this.networkReferences){for(var i in this.player.network.removeRequestInterceptor(this.requestInterceptor),this.player.network.removeResponseInterceptor(this.responseInterceptor),this.networkReferences)this.player.network.removeEventListener(i,this.networkReferences[i]);delete this.networkReferences,delete this.requestInterceptor,delete this.responseInterceptor}}stateChangeListener(s){s.readyState===1&&this.player.src!==this.previousSrc&&this.player.src!==void 0&&(this.fireInit({},"stateChangeListener"),this.previousSrc=this.player.src),s.currentTime===0&&s.readyState===0&&this.player.src!==this.previousSrc&&this.player.src!==void 0&&(this.fireStop(),this.previousSrc=this.player.src)}_segmentUrl(){var s=null;return this.getVideo()&&this.getVideo().options&&!this.getVideo().options["parse.manifest"]&&this.parsedUrl&&(s={parsedResource:this.parsedUrl}),s}getIsLive(){return isNaN(this.player.duration)?null:this.player.duration===1/0}_setLanguage(){if(this.getVideo()){var s=this.player.audioTracks;for(var i in s){var a=s[i];a.activeQuality&&(this.getVideo().options["content.language"]=a.language==="und"?a.name||a.label:a.language)}}}registerListeners(){for(var s in this.getNpawUtils().logAllEvents(this.player),this.monitorPlayhead(!1,!0),this.references={play:this.playListener.bind(this),playing:this.playingListener.bind(this),pause:this.pauseListener.bind(this),seeking:this.seekingListener.bind(this),ended:this.endedListener.bind(this),error:this.errorListener.bind(this),readystatechange:this.stateChangeListener.bind(this),sourcechange:this.endedListener.bind(this),timeupdate:this.timeUpdateListener.bind(this),ratechange:this.playrateListener.bind(this),waiting:this.waitingListener.bind(this)},this.networkReferences={offline:this.offlineListener.bind(this)},this.references)this.player.addEventListener(s,this.references[s]);if(this.player.network)for(var i in this.networkReferences)this.player.network.addEventListener(i,this.networkReferences[i]);!this.getVideo().getAdsAdapter()&&this.player.ads&&(this.getAdapterClass("nativeAdsAdapter")._updatePlayer(this.player),this.plugin.setAdsAdapter(this.getAdapterClass("nativeAdsAdapter"),this.getVideo().getVideoKey()))}getResource(){return this.player.src&&!this.previousSrc&&(this.previousSrc=this.player.src),this.player.src||null}getURLToParse(){return this.parsedUrl}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}timeUpdateListener(s){this.player.ads&&this.player.ads.playing||(this.flags.isStarted||!s.currentTime||this.ended||(this.getIsLive()||s.currentTime+1<this.getDuration())&&(this.fireStart(this._segmentUrl(),"timeUpdateListener"),this.fireJoin(this._segmentUrl(),"timeUpdateListener")),this.flags.isPaused||(this.fireSeekEnd({},"timeUpdateListener"),this.fireBufferEnd({},"timeUpdateListener")))}getPlayerName(){return"THEOplayer"}playingListener(s){this.firePlayerLog("playingListener",{}),this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().flags.isStarted||(this.flags.isSeeking&&!this.flags.isPaused&&this.fireSeekEnd({},"playingListener"),this.flags.isBuffering&&!this.flags.isPaused&&this.fireBufferEnd({},"playingListener"),this.fireResume({},"playingListener"),this.player.ads&&this.player.ads.playing||(this.ended=!1,this.fireStart(this._segmentUrl(),"playingListener")),this.fireJoin({},"playingListener"))}waitingListener(s){this.firePlayerLog("waitingListener",{}),this.flags.isPaused||this.flags.isSeeking||this.fireBufferBegin({},!1,"waitingListener")}errorListener(s){var i,a,S,_,O,ae,he,Ae,ye;this.firePlayerLog("errorListener",{}),s.errorObject?(i=s.errorObject.code,_=s.errorObject.message,he=!!s.errorObject.cause&&s.errorObject.cause.message):_=s.error,this.player&&this.player.errorObject&&(a=this.player.errorObject.code,O=this.player.errorObject.message,Ae=!!this.player.errorObject.cause&&this.player.errorObject.cause.message),this.player&&this.player.error&&(S=this.player.error.code,ae=this.player.error.message,ye=this.player.error.cause);var we=[];_&&we.push("event: "+_),O&&we.push("player.errorObject: "+O),ae&&we.push("player.error: "+ae);var xe=[];he&&xe.push("event: "+he),Ae&&xe.push("player.errorObject: "+Ae),ye&&xe.push("player.error: "+ye);var Xe=[];i&&Xe.push("event: "+i),a&&Xe.push("player.errorObject: "+a),S&&Xe.push("player.error: "+S);var Ge=i||a||S||"GENERIC_ERROR",Qe="[MESSAGES] "+we.join(" - ")+" - [CAUSES] "+xe.join(" - ")+" - [CODES] "+Xe.join(" - ");this.fireFatalError(Ge,Qe,void 0,void 0,"errorListener")}},NagraReactNative:class{getVersion(){return"7.0.1-nagra-react-native-jsclass"}getPlayhead(){return this.playhead}getIsLive(){return!this.duration}getDuration(){return this.duration}getResource(){return this.resource}setPlatform(s){this.reactPlatform=s}getRendition(){return this.width&&this.height?this.getNpawUtils().buildRenditionString(this.width,this.height):null}getPlayerName(){return"Nagra React Native"}unregisterListeners(){this.monitor&&this.monitor.stop()}onLoad(s){var i=s.naturalSize;i&&(this.width=Math.round(i.width),this.height=Math.round(i.height)),this.duration=s.duration,this.fireStart()}onLoadStart(s){this.resource=s.src,this.fireStart(),this.flags.isJoined||(this.isWaiting=!1,this.fireJoin()),this.fireBufferEnd({},"onLoadStart"),this.fireResume(),this.pausePlayhead=null}onPlaying(s){this.fireStart(),this.flags.isJoined||(this.isWaiting=!1,this.fireJoin()),this.pausePlayhead&&Math.abs(this.getPlayhead()-this.pausePlayhead)>.5&&!this.flags.isPaused&&(this.fireSeekEnd({},"onPlaying"),this.pausePlayhead=null),this.reactPlatform&&this.reactPlatform=="ios"&&!this.pausePlayhead&&(this.fireSeekEnd({},"onPlaying"),this.pausePlayhead=null),this.fireBufferEnd({},"onPlaying"),this.fireResume()}onProgress(s){this.playhead=s.currentTime,this.fireStart(),this.playhead>.5&&!this.flags.isJoined&&this.fireJoin(),this.pausePlayhead&&!this.flags.isPaused&&(Math.abs(this.getPlayhead()-this.pausePlayhead)>2?this.fireSeekEnd({},"onProgress"):this.isWaiting?(this.fireBufferBegin({},!0,"onProgress"),this.fireBufferEnd({},"onProgress")):(this.cancelSeek(),this.chronos.pause.pauseTime=null),this.isWaiting=!1,this.pausePlayhead=null)}onSeek(s){this.reactPlatform&&this.reactPlatform=="ios"&&this.fireSeekBegin({},!1,"onSeek")}onWaiting(s){this.isWaiting=!0,this.fireBufferBegin({},!1,"onWaiting")}onPaused(s){this.reactPlatform&&this.reactPlatform=="android"&&(this.pausePlayhead=this.getPlayhead(),this.fireSeekBegin({},!0,"onPaused")),this.firePause(),this.reactPlatform&&this.reactPlatform=="android"&&(this.chronos.pause.startTime=new Date().getTime())}onError(s){this.fireError(s.code,s.nativeError)}onStopped(s){this.fireStop()}onEnd(s){this.fireStop()}},Chromecast:class{getPlayhead(){return this.player.getEstimatedTime||this.player.currentTime}getVersion(){return"7.0.2-chromecast-jsclass"}getDuration(){return this.player.duration}getBitrate(){if(this.castPlayer&&this.castPlayer.getStreamingProtocol){let s=this.castPlayer.getStreamingProtocol(),i=0;try{s.getStreamCount&&s.getStreamCount()>0&&(i=s.getStreamCount())}catch(a){}for(let a=0;a<s.getStreamCount();a++){let S=s.getStreamInfo(a);if(S.mimeType.indexOf("video/")===0){let _=s.getQualityLevel(a);if(S.bitrates&&S.bitrates[_])return S.bitrates[_]}}}}getRendition(){let s;if(this.player&&this.player.videoHeight&&this.player.videoWidth){let i=this.getVideo().getBitrate();i<=0&&(i=this.plugin.requestBuilder.lastSent.bitrate||-1),s=this.getNpawUtils().buildRenditionString(this.player.videoWidth,this.player.videoHeight,i)}return s}getResource(){let s;return this.player.currentSrc.startsWith("blob:")?this.castPlayer&&(s=this.castPlayer.getHost().url):s=this.player.currentSrc,s}getPlayrate(){return this.player.playbackRate}getDroppedFrames(){return this.player.webkitDroppedFrameCount}getPlayerVersion(){let s;return typeof cast!="undefined"&&cast.player&&cast.player.api&&(s=cast.player.api.VERSION),s}getPlayerName(){return"Chromecast"}registerListeners(){this.getNpawUtils().logAllEvents(this.player),this.monitorPlayhead(!0,!1,1200),this.references={loadstart:this.playListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),error:this.errorListener.bind(this),seeking:this.seekingListener.bind(this),abort:this.endedListener.bind(this),ended:this.endedListener.bind(this),buffering:this.bufferingListener.bind(this)},this.hostReferences={onAutoPause:this.autoPauseListener.bind(this)};for(let s in this.references)this.player.addEventListener(s,this.references[s]);if(this.castPlayer&&this.castPlayer.getHost&&this.castPlayer.getHost()){let s=this.castPlayer.getHost();for(let i in this.hostReferences)s[i]=this.hostReferences[i]}this.registerModelVersion()}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){if(typeof this.player.removeEventListener=="function")for(let s in this.references)this.player.removeEventListener(s,this.references[s]);delete this.references}if(this.castPlayer&&this.castPlayer.getHost&&this.castPlayer.getHost()){let s=this.castPlayer.getHost();for(let i in this.hostReferences)s[i]=void 0;delete this.hostReferences}}registerModelVersion(){if(this.getVideo().options["device.model"]===void 0){try{let{hardwareConcurrency:s,userAgent:i}=window.navigator,a=cast.receiver.CastReceiverManager.getInstance();if(a.canDisplayType('video/mp4; codecs="avc1.640033'))return void(this.getVideo().options["device.model"]="Chromecast with Google TV");if(i.includes("Android"))return void(this.getVideo().options["device.model"]="Chromecast Android");if(a.canDisplayType("video/mp4; codecs=hev1.1.6.L93.B0"))return void(this.getVideo().options["device.model"]="Chromecast Ultra");if(a.canDisplayType("video/mp4; codecs=avc1.64002A"))return void(this.getVideo().options["device.model"]="Chromecast 3");if(s===2)return void(this.getVideo().options["device.model"]="Chromecast 2");if(s===1)return void(this.getVideo().options["device.model"]="Chromecast 1")}catch(s){}this.getVideo().options["device.model"]="Chromecast"}}playListener(s){this.flags.isStarted&&this.fireStop({},"playListener"),this.fireStart({},"playListener")}pauseListener(s){this.flags.isBuffering||this.firePause({},"pauseListener")}playingListener(s){this.fireResume({},"playingListener"),this.fireSeekEnd({},"playingListener"),this.fireBufferEnd({},"playingListener"),this.fireJoin({},"playingListener")}errorListener(s){this.fireError(s)}endedListener(s){this.fireStop({},"endedListener")}seekingListener(s){this.fireSeekBegin({},!1,"seekingListener")}bufferingListener(s){this.flags.isPaused&&this.fireResume({},"bufferingListener"),this.fireBufferBegin({},!1,"bufferingListener")}autoPauseListener(s){s?(this.fireResume({},"autoPauseListener"),this.fireBufferBegin({},!1,"autoPauseListener")):this.fireBufferEnd({},"autoPauseListener")}},ChromecastCaf:class{constructor(){Jt(this,"adsAdapters",{nativeAdsAdapter:b})}getVersion(){return"7.0.3-chromecast-caf-jsclass"}getPlayhead(){return this.player.getCurrentTimeSec()}getPlayrate(){let s=this.player.getPlaybackRate();return s||this.flags.isPaused||(s=1),s}getDroppedFrames(){return this.castMediaElement?this.castMediaElement.webkitDroppedFrameCount:void 0}getDuration(){return this.player.getDurationSec()}getBitrate(){return this.bitrate||0}getThroughput(){let s=this.throughput||-1;if(!this.throughput&&this.castMediaElement&&this.castMediaElement.webkitVideoDecodedByteCount&&this.castMediaElement.webkitAudioDecodedByteCount){let i=this.castMediaElement.webkitVideoDecodedByteCount,a=this.castMediaElement.webkitAudioDecodedByteCount,S=this.actualCount||0;this.actualCount=i&&a>i?i:a+i;let _=JSON.parse(this.plugin.getStoredData()).q.pt||5;s=Math.round((this.actualCount-S)/(_/1e3))}return s}getRendition(){let s=this.castMediaElement?this.castMediaElement.videoWidth:void 0,i=this.castMediaElement?this.castMediaElement.videoHeight:void 0;return this.getNpawUtils().buildRenditionString(s,i,this.getBitrate())}getTitle(){return this.player.getMediaInformation().metadata.title}getIsLive(){return this.getDuration()===-1}getResource(){let s;return this.player.getMediaInformation()&&(s=this.player.getMediaInformation().contentUrl||this.player.getMediaInformation().contentId),s}getPlayerVersion(){return cast&&cast.framework?cast.framework.VERSION:void 0}getPlayerName(){return"Chromecast"}registerListeners(){this.castMediaElement=void 0;for(let _ in this.player)if(typeof this.player[_]=="object")for(let O in this.player[_])this.player[_][O]&&this.player[_][O].id==="castMediaElement"&&(this.castMediaElement=this.player[_][O]);let s=cast.framework.events,i=cast.framework.events.DetailedErrorCode;for(var a in this.errorFilter=[i.MEDIAKEYS_UNKNOWN,i.MEDIAKEYS_UNSUPPORTED,i.MEDIAKEYS_WEBCRYPTO,i.SEGMENT_NETWORK,i.HLS_NETWORK_INVALID_SEGMENT,i.DASH_MANIFEST_NO_MIMETYPE,i.DASH_INVALID_SEGMENT_INFO,i.TEXT_UNKNOWN,i.SEGMENT_UNKNOWN,i.BREAK_SEEK_INTERCEPTOR_ERROR,i.APP,i.IMAGE_ERROR,i.LOAD_INTERRUPTED,i.MEDIA_ERROR_MESSAGE],this.getNpawUtils().logAllEvents(this.player,[null,s.EventType.PLAY,s.EventType.PAUSE,s.EventType.PLAYING,s.EventType.STALLED,s.EventType.SEEKING,s.EventType.SEEKED,s.EventType.ERROR,s.EventType.CLIP_ENDED,s.EventType.BITRATE_CHANGED,s.EventType.SEGMENT_DOWNLOADED,s.EventType.BUFFERING,s.EventType.EMSG,s.EventType.ID3,s.EventType.MEDIA_FINISHED,s.EventType.MEDIA_STATUS,s.EventType.CACHE_HIT,s.EventType.BREAK_CLIP_STARTED,s.EventType.BREAK_ENDED,s.EventType.BREAK_CLIP_LOADING,s.EventType.BREAK_CLIP_STARTED,s.EventType.BREAK_CLIP_ENDED,s.EventType.BREAK_STARTED]),this.monitorPlayhead(!0,!0),this.references={},this.references[s.EventType.PLAY]=this.playListener.bind(this),this.references[s.EventType.STALLED]=this.playListener.bind(this),this.references[s.EventType.BUFFERING]=this.bufferingListener.bind(this),this.references[s.EventType.PAUSE]=this.pauseListener.bind(this),this.references[s.EventType.BREAK_CLIP_STARTED]=this.pauseListener.bind(this),this.references[s.EventType.BREAK_ENDED]=this.resumeListener.bind(this),this.references[s.EventType.PLAYING]=this.playingListener.bind(this),this.references[s.EventType.SEEKING]=this.seekingListener.bind(this),this.references[s.EventType.MEDIA_FINISHED]=this.endedListener.bind(this),this.references[s.EventType.ERROR]=this.errorListener.bind(this),this.references[s.EventType.BITRATE_CHANGED]=this.bitrateChangedListener.bind(this),this.references[s.EventType.SEGMENT_DOWNLOADED]=this.segmentListener.bind(this),this.references[s.EventType.BREAK_STARTED]=this.playAdListener.bind(this),this.references[s.EventType.TIME_UPDATE]=this.timeUpdateListener.bind(this),this.hostReferences={onAutoPause:this.autoPauseListener.bind(this)},this.references)this.player.addEventListener(a,this.references[a]);if(cast&&cast.player&&cast.player.api&&cast.player.api.Player&&cast.player.api.Player.getHost&&cast.player.api.Player.getHost())for(var S in this.hostReferences)cast.player.api.Player.getHost().addEventListener(S,this.hostReferences[S]);this.getVideo().getAdsAdapter()||(this.getAdapterClass("nativeAdsAdapter")._updatePlayer(this.player),this.plugin.setAdsAdapter(this.getAdapterClass("nativeAdsAdapter"),this.getVideo().getVideoKey())),this.registerModelVersion()}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(var s in this.references)this.player.removeEventListener(s,this.references[s]);if(this.references={},cast&&cast.player&&cast.player.api&&cast.player.api.Player&&cast.player.api.Player.getHost&&cast.player.api.Player.getHost()&&this.hostReferences){for(var i in this.hostReferences)this.player.getHost().removeEventListener(i,this.hostReferences[i]);this.hostReferences={}}}}registerModelVersion(){if(this.getVideo().options["device.model"]===void 0){try{let{hardwareConcurrency:s,userAgent:i}=window.navigator,a=cast.framework.CastReceiverContext.getInstance();if(a.canDisplayType('video/mp4; codecs="avc1.640033'))return void(this.getVideo().options["device.model"]="Chromecast with Google TV");if(i.includes("Android"))return void(this.getVideo().options["device.model"]="Chromecast Android");if(a.canDisplayType("video/mp4; codecs=hev1.1.6.L93.B0"))return void(this.getVideo().options["device.model"]="Chromecast Ultra");if(a.canDisplayType("video/mp4; codecs=avc1.64002A"))return void(this.getVideo().options["device.model"]="Chromecast 3");if(s===2)return void(this.getVideo().options["device.model"]="Chromecast 2");if(s===1)return void(this.getVideo().options["device.model"]="Chromecast 1")}catch(s){}this.getVideo().options["device.model"]="Chromecast"}}playListener(s){this.flags.isStarted||(this.lastPlayhead=void 0,this.fireStart({},"playListener"))}playAdListener(s){this.playListener(),this.firePause({},"playAdListener")}bufferingListener(s){this.flags.isPaused?this.plugin&&this.getVideo().isBreakStarted||(this.fireResume({},"bufferingListener"),this.fireBufferBegin({},!1,"bufferingListener")):this.fireBufferBegin({},!1,"bufferingListener"),this.flags.isStarted||(this.lastPlayhead=void 0,this.fireStart({},"bufferingListener"))}pauseListener(s){this.flags.isBuffering||this.firePause({},"pauseListener")}resumeListener(s){this.fireResume({},"resumeListener")}playingListener(s){this.plugin&&this.getVideo().isBreakStarted||(this.fireResume({},"playingListener"),this.fireBufferEnd({},"playingListener"),this.fireJoin({},"playingListener"))}errorListener(s){let i=s.error,a=s.detailedErrorCode;if(a){if(this.errorFilter.indexOf(a)>=0)return;let S=cast.framework.events.DetailedErrorCode,_=Object.keys(S).find(function(O){return S[O]===a})||a;i&&i.shakaErrorCode&&(_="Shaka: "+i.shakaErrorCode+" , "+_),i==="LOAD_CANCELLED"?(this.fireFatalError(a,_),this._reset()):this.fireError(a,_)}}seekingListener(s){this.fireSeekBegin({},!1,"seekingListener")}endedListener(s){this.fireStop({},"endedListener"),this._reset()}bitrateChangedListener(s){this.bitrate=s.totalBitrate}segmentListener(s){this.throughput=s.size/(s.downloadTime/1e3)}timeUpdateListener(s){this.flags.isJoined||(this.lastPlayhead===null||this.lastPlayhead===void 0?this.lastPlayhead=this.getPlayhead():this.lastPlayhead<this.getPlayhead()&&this.plugin&&(!this.plugin.getAdsAdapter()||this.plugin.getAdsAdapter()&&!this.plugin.getAdsAdapter().flags.isStarted)&&this.fireJoin({},"timeUpdateListener"))}autoPauseListener(s){s?(this.fireResume({},"autoPauseListener"),this.fireBufferBegin({},!1,"autoPauseListener")):this.fireBufferEnd({},"autoPauseListener")}_reset(s){this.lastPlayhead=void 0,this.actualCount=0,this.bitrate=void 0}},ViaccessOrca:class{_getTagFromPlayer(){return this.player.videoElement?this.player.videoElement:null}checkExistsPlayer(){try{if(this._getTagFromPlayer())return this.checkExistsObjectOnPage(this._getTagFromPlayer())}catch(s){return!0}}getVersion(){return"7.0.2-viaccessorca-js"}getPlayhead(){return this.player.currentTime}getPlayrate(){return this.flags.isPaused?0:this.player.videoElement.playbackRate||1}getDroppedFrames(){return this.player.videoElement.webkitDroppedFrameCount}getDuration(){return this.player.duration}getBitrate(){if(this.player.quality>=0&&this.player.qualities&&this.player.qualities.length){var s=this.player.qualities[this.player.quality];return s.bitrate||s.bandwidth}return null}getRendition(){if(this.player.quality>=0&&this.player.qualities&&this.player.qualities.length){var s=this.player.qualities[this.player.quality],i=s.width,a=s.height;return i&&a||(i=this.player.videoElement.videoWidth,a=this.player.videoElement.videoHeight),this.getNpawUtils().buildRenditionString(i,a,s.bitrate||s.bandwidth)}return null}getTitle(){return this.player.videoElement.title||"Unknown"}getIsLive(){return typeof this.player.isLive=="function"?this.player.isLive():this.player.isLive}getResource(){return this.player&&this.player.media?this.player.media.url:void 0}getPlayerVersion(){return this.player.version}getPlayerName(){return"Viaccess Orca"}registerListeners(){for(var s in this.monitorPlayhead(!1,!1),this.references={play:this.playListener.bind(this),pause:this.pauseListener.bind(this),playing:this.playingListener.bind(this),error:this.errorListener.bind(this),seeking:this.seekingListener.bind(this),seeked:this.seekedListener.bind(this),buffering:this.bufferingListener.bind(this),ended:this.endedListener.bind(this),abort:this.endedListener.bind(this),destroyed:this.destroyedListener.bind(this),timeupdate:this.timeupdateListener.bind(this),trackschanged:this.changedListener.bind(this)},this.references)this.player.addEventListener&&this.player.addEventListener(s,this.references[s]),this.player.on&&this.player.on(s,this.references[s])}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references)for(var s in this.references)this.player.removeEventListener&&(this.player.removeEventListener(s,this.references[s]),delete this.references[s]),this.player.off&&(this.player.off(s,this.references[s]),delete this.references[s])}playListener(s){this.firePlayerLog("playListener",{}),this.fireStart({},"playListener"),this.fireResume({},"playListener")}pauseListener(s){this.firePlayerLog("pauseListener",{}),this.firePause({},"pauseListener")}playingListener(s){this.firePlayerLog("playingListener",{}),this.fireJoin({},"playingListener"),this.fireBufferEnd({},"playingListener")}errorListener(s){this.firePlayerLog("errorListener",{});try{var i=s.data?s.data:s;this.fireError(i.code,i.message,void 0,void 0,"errorListener"),this.fireStop({},!1,"errorListener")}catch(a){this.fireError("unknown","unknown",void 0,void 0,"errorListener"),this.fireStop({},!1,"errorListener")}}seekingListener(s){this.firePlayerLog("seekingListener",{}),this.fireSeekBegin({},!1,"seekingListener")}seekedListener(s){this.firePlayerLog("seekedListener",{}),this.fireSeekEnd({},"seekedListener")}bufferingListener(s){this.firePlayerLog("bufferingListener",{buffering:s.buffering}),s.buffering===!0?this.flags.isPaused||this.flags.isSeeking||this.fireBufferBegin({},!1,"bufferingListener"):s.buffering===!1&&this.fireBufferEnd({},"bufferingListener")}endedListener(s){this.firePlayerLog("endedListener",{}),this.fireStop({},"endedListener")}destroyedListener(s){this.firePlayerLog("destroyedListener",{}),this.fireStop({},"destroyedListener")}changedListener(s){s.emittedBy&&s.emittedBy==="manifest"&&(this.firePlayerLog("changedListener",{}),this.flags.isJoined&&this.fireStop({},"changedListener"))}timeupdateListener(s){}},Hbbtv:class{checkExistsPlayer(){try{return this.checkExistsObjectOnPage(this.player)}catch(s){return!0}}getPlayerName(){return"Hbbtv"}registerListeners(){this.states=["STOPPED","PLAYING","PAUSED","CONNECTING","BUFFERING","FINISHED","ERROR"],this.monitorPlayhead(!1,!0),this.player?this.player.onPlayStateChange=function(s){this.playStateChangeListener()}.bind(this):Log.error("The player reference set to the adapter is invalid.")}getResource(){return this.player.data||this.player.src}playStateChangeListener(){switch(this.firePlayerLog("stateValue"+this.player.playState,{}),this.player.playState){case 0:this.firePlayerLog("stopState",{}),this.fireStop({},"stopState");break;case 1:this.bufferPlayhead&&Math.abs(this.bufferPlayhead-this.player.playPosition)>10&&(this.fireSeekBegin({},!0,"playingState"),this.bufferPlayhead=void 0),this.firePlayerLog("playingState",{}),this.fireResume({},"playingState"),this.fireSeekEnd({},"playingState"),this.fireBufferEnd({},"playingState"),this.fireJoin({},"playingState");break;case 2:this.firePlayerLog("pausedState",{}),this.firePause({},"pausedState");break;case 3:this.firePlayerLog("connectionState",{}),this.fireStart({},"connectionState");break;case 4:this.bufferPlayhead=this.player.playPosition,this.firePlayerLog("bufferingState",{}),this.fireStart({},"bufferingState"),this.fireBufferBegin({},!1,"bufferingState");break;case 5:this.firePlayerLog("finishedState",{}),this.fireStop({},"finishedState");break;case 6:this.firePlayerLog("errorState",{}),this.fireError("FAILURE","FAILURE",null,null,"errorState")}}getPlayhead(){return this.player.playPosition/1e3}getDuration(){return this.player.playTime/1e3}getVersion(){return"7.0.3-hbbtvhtml5-js"}},ReactNativeVideo:class{constructor(){Jt(this,"adsAdapters",{genericAdsAdapter:M})}getVersion(){return"7.0.1-react-native-video-jsclass"}getPlayhead(){let s=this.getVideo().getAdsAdapter();return s&&s.isShowingAds()?this.lastPlayhead:this.playhead}getIsLive(){return this.duration!==void 0?!this.duration:void 0}getDuration(){return this.duration}getResource(){return this.resource}getRendition(){if(this.width&&this.height)return this.getNpawUtils().buildRenditionString(this.width,this.height)}getPlayerName(){return"React Native Video"}setPlatform(s){this.reactPlatform=s}registerListeners(){this.reactPlatform&&this.reactPlatform=="ios"&&this.monitorPlayhead(!0,!0,400),this.getVideo().getAdsAdapter()||this.plugin.setAdsAdapter(this.getAdapterClass("genericAdsAdapter"),this.getVideo().getVideoKey())}unregisterListeners(){this.monitor&&this.monitor.stop()}onLoad(s){this.reactPlatform&&this.reactPlatform=="ios"&&!this.monitor&&this.monitorPlayhead(!0,!0,400);let i=s.naturalSize;i&&(this.width=Math.round(i.width),this.height=Math.round(i.height)),this.duration=s.duration,this.fireStart({},"onLoad"),this.flags.isJoined||(this.onBuffering=!1,this.fireJoin({},"onLoadStart"),this.reactPlatform&&this.reactPlatform=="ios"&&this.monitor&&this.monitor.skipNextTick()),this.pausePlayhead&&Math.abs(this.getPlayhead()-this.pausePlayhead)>.5?this.fireSeekEnd({},"onLoadStart"):this.pausePlayhead&&(this.chronos.pause.pauseTime=void 0),this.pausePlayhead=void 0,this.fireResume({},"onLoadStart")}onLoadStart(s){this.reactPlatform&&this.reactPlatform=="ios"&&!this.monitor&&this.monitorPlayhead(!0,!0,400),s.src&&(this.resource=s.src.uri),this.fireStart({},"onLoadStart")}onPlaybackRateChange(s){this.playrate=s.playbackRate,this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().isShowingAds()||(this.playrate&&this.playhead>.1?(this.fireStart({},"onPlaybackRateChange"),this.flags.isJoined||(this.onBuffering=!1,this.reactPlatform&&this.reactPlatform=="ios"&&!this.monitor&&this.monitorPlayhead(!0,!0,400),this.fireJoin({},"onPlaybackRateChange"),this.reactPlatform&&this.reactPlatform=="ios"&&this.monitor&&this.monitor.skipNextTick()),this.pausePlayhead&&Math.abs(this.getPlayhead()-this.pausePlayhead)>.5&&!this.flags.isPaused?(this.fireSeekEnd({},"onPlaybackRateChange"),this.pausePlayhead=void 0):this.pausePlayhead&&Math.abs(this.getPlayhead()-this.pausePlayhead)<.5&&!this.onBuffering&&(this.cancelSeek(),this.pausePlayhead=void 0),this.fireResume({},"onPlaybackRateChange")):this.playhead>.1&&(this.reactPlatform&&this.reactPlatform=="android"&&(this.pausePlayhead=this.getPlayhead(),this.fireSeekBegin({},!0,"onPlaybackRateChange")),this.reactPlatform&&this.reactPlatform=="ios"&&(this.lastPlayhead=this.playhead),this.firePause({},"onPlaybackRateChange"),this.reactPlatform&&this.reactPlatform=="android"&&(this.chronos.pause.startTime=new Date().getTime())))}onProgress(s){let i=this.getVideo().getAdsAdapter();i&&i.isShowingAds()&&this.reactPlatform&&this.reactPlatform=="android"&&!this.lastPlayhead?this.lastPlayhead=this.playhead:!i||i.isShowingAds()||this.flags.isPaused||(this.lastPlayhead=void 0),!i||i.isShowingAds()||this.duration||(this.duration=s.seekableDuration),this.playhead=s.currentTime,s.playableDuration-s.currentTime>.5&&this.fireStart({},"onProgress"),this.playhead>.5&&!this.flags.isJoined&&(this.onBuffering=!1,this.fireJoin({},"onProgress"),this.reactPlatform&&this.reactPlatform=="ios"&&this.monitor&&this.monitor.skipNextTick()),this.pausePlayhead&&!this.flags.isPaused&&(Math.abs(this.getPlayhead()-this.pausePlayhead)>2?this.fireSeekEnd({},"onProgress"):this.onBuffering?(this.fireBufferBegin({},!0,"onProgress"),this.fireBufferEnd({},"onProgress"),this.onBuffering=!1):this.chronos.pause.pauseTime=void 0,this.pausePlayhead=void 0),this.playrate&&(this.onBuffering=!1)}onBuffer(s){s.isBuffering&&this.getPlayhead()!==void 0&&this.reactPlatform&&this.reactPlatform=="android"&&(this.onBuffering=!0,this.fireBufferBegin({},!1,"onBuffer"))}onError(s){let i,a;this.reactPlatform&&this.reactPlatform=="android"?(i=s.error.errorCode,a=s.error.errorException):this.reactPlatform&&this.reactPlatform=="ios"&&(i=s.error.code,a=s.error.localizedDescription),this.fireError(i,a)}onEnd(s){this.reactPlatform&&this.reactPlatform=="ios"&&this.getVideo().getAdsAdapter()?this.stopTimer=setTimeout(()=>{this.fireStop()},this.getVideo().options["ad.postRollTimeout"]||1e3):this.fireStop()}onAdEvent(s){this.getVideo()&&this.getVideo().getAdsAdapter()&&this.getVideo().getAdsAdapter().onAdEvent(s)}},Visualon:class{getVersion(){return"7.0.2-visualon-analytics-js"}getPlayhead(){return this.player.getPosition()}getFramesPerSecond(){let s=this.player.getAnalyticsInfo();if(s&&s.streamingFps)try{return parseInt(s.streamingFps,10)}catch(i){return 0}return 0}getDroppedFrames(){let s=this.player.getAnalyticsInfo();return s&&s.droppedFrames?s.droppedFrames:0}getDuration(){return this.player.getDuration()}getBitrate(){return this.targetBitrate}getTotalBytes(){var s=this.player.getAnalyticsInfo();if(s&&s.downloadBytes)return s.downloadBytes}getRendition(){return this.getNpawUtils().buildRenditionString(this.width,this.height,this.targetBitrate)}getIsLive(){return this.player.isLive()}getResource(){var s=this.player.getAnalyticsInfo();return s&&s.videoLinkURL?s.videoLinkURL:null}getPlayerVersion(){return this.player.getVersion()}getPlayerName(){return"VisualON"}registerListeners(){if(typeof voPlayer!="undefined"&&this.player)for(var s in this.references={},this.references[voPlayer.events.VO_OSMP_SRC_CB_OPEN_FINISHED]=this.openListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_PLAY_STARTED]=this.playListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_PLAY_PLAYING]=this.playingListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_PLAY_WAITING]=this.bufferListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_PLAY_PAUSED]=this.pauseListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_PLAY_COMPLETE]=this.endListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_SEEK_START]=this.seekListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_SEEK_COMPLETE]=this.seekEndListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_PLAY_TIME_UPDATED]=this.timeUpdatedListener.bind(this),this.references[voPlayer.events.VO_OSMP_CB_ERROR_EVENTS]=this.errorListener.bind(this),this.references[voPlayer.events.VO_OSMP_SRC_ADAPTIVE_STREAMING_INFO_EVENT_BITRATE_CHANGE]=this.bitrateChangeListener.bind(this),this.references)this.player.addEventListener(s,this.references[s]);this._reset()}unregisterListeners(){if(typeof voPlayer!="undefined"&&this.player&&this.references){for(let s in this.references)this.player.off(s,this.references[s]);delete this.references}}bitrateChangeListener(s){s.mediaType&&s.mediaType==="video"&&(this.targetBitrate=s.bandwidth,this.width=s.width,this.height=s.height)}openListener(s){this.fireStop({},"openListener"),this._reset()}timeUpdatedListener(s){}playListener(s){this.fireStart({},"playListener")}pauseListener(s){this.firePause({},"pauseListener")}playingListener(s){this.fireStart({},"playingListener"),this.fireJoin({},"playingListener"),this.fireResume({},"playingListener"),this.fireSeekEnd({},"playingListener"),this.fireBufferEnd({},"playingListener")}seekListener(s){this.fireSeekBegin({},!1,"seekListener")}seekEndListener(s){this.fireSeekEnd({},"seekEndListener")}endListener(s){this.fireStop({},"endListener"),this._reset()}bufferListener(s){this.fireBufferBegin({},!1,"bufferListener")}errorListener(s){this.fireError(s.code,s.message,void 0,void 0,"errorListener")}_reset(){this.width=null,this.height=null,this.targetBitrate=null}},BitmovinReactNative:class{onSourceLoaded(s){this.duration=s.source.duration}onAudioChanged(s){}onVideoDownloadQualityChanged(s){}onVideoPlaybackQualityChanged(s){this.width=s.newVideoQuality.width,this.height=s.newVideoQuality.height,this.bitrate=s.newVideoQuality.bitrate}onReady(s){}onPlay(s){this.flags.isStarted||this.fireStart({},s.name),this.flags.isStarted&&this.fireResume({},s.name)}onPlaying(s){this.flags.isJoined||this.fireJoin({},s.name),this.flags.isStarted&&this.fireResume({},s.name)}onTimeChanged(s){this.playhead=s.currentTime}onPaused(s){this.firePause({},s.name)}onSeek(s){this.isSeeking=!0,this.fireSeekBegin({},!1,s.name)}onSeeked(s){this.seekIntervalId&&clearInterval(this.seekIntervalId),this.isSeeking=!1,this.seekIntervalId=setInterval(()=>{this.isSeeking||(this.fireSeekEnd({},s.name),clearInterval(this.seekIntervalId),this.seekIntervalId=null)},500)}onPlaybackFinished(s){this.fireStop({},s.name)}onStallStarted(s){this.fireBufferBegin({},!1,s.name)}onStallEnded(s){this.chronos.buffer.getDeltaTime(!1)<50?this.cancelBuffer():this.fireBufferEnd({},s.name)}onPlayerWarning(s){this.fireError(s.code,s.message)}onPlayerError(s){this.fireError(s.code,s.message)}onSourceError(s){this.fireError(s.code,s.message)}onSourceWarning(s){this.fireError(s.code,s.message)}getBitrate(){return this.bitrate}onDestroy(s){this.fireStop()}getVersion(){return"7.0.1-bitmovin-react-native-jsclass"}getPlayhead(){return this.playhead}getIsLive(){return!this.duration}getDuration(){return this.duration}getResource(){return this.player&&this.player.source&&this.player.source.config?this.player.source.config.url:null}getTitle(){return this.player&&this.player.source&&this.player.source.config?this.player.source.config.title:null}setPlatform(s){this.reactPlatform=s}getRendition(){if(this.width&&this.height)return this.getNpawUtils().buildRenditionString(this.width,this.height)}getPlayerName(){return"Bitmovin React Native"}}},ads:{Ima:class{pauseListener(s){this.firePause()}getAdInsertionType(){return this.isDAI?this.getNpawReference().Constants.AdInsertionType.ServerSide:this.getNpawReference().Constants.AdInsertionType.ClientSide}progressDAIListener(s){s.getStreamData&&s.getStreamData()?this.playhead=s.getStreamData().adProgressData.currentTime:typeof s.getAdData=="function"&&s.getAdData()&&(this.playhead=s.getAdData().currentTime),this.fireJoin()}getRendition(){let s=null;if(this.player)if(this.isDAI)this.width&&this.height&&(s=this.width+"x"+this.height);else{let i=this.player.getCurrentAd();s=i.getVastMediaWidth().toString()+"x"+i.getVastMediaHeight().toString()}return s}startDAIListener(s){this.isDAI=!0,this.playhead=0}getPlayerVersion(){return google.ima.VERSION}playListener(s){this.isDAI=!1,this.adPosition=this.getAdPosition();let i=typeof s.getAdData=="function"?s.getAdData():null;this.totalAds=i&&i.adPodInfo?i.adPodInfo.totalAds:null,this.plugin.fireInit(void 0,"playListener",this.getVideo().getVideoKey()),this.getVideo().getAdapter()&&this.getVideo().getAdapter().firePause(),this.fireStart({adPlayhead:"0"})}getTitle2(){let s=this.advertiser;return this.player&&!this.isDAI&&(s=this.player.getCurrentAd().getAdvertiserName()),s}errorDAIListener(s){this.fireError(),this.fireStop()}secondQuartileListener(s){this.fireQuartile(2)}endedListener(s){this.lastDuration?this.fireStop({adPlayhead:this.lastDuration}):this.fireStop()}getGivenBreaks(){let s=null;return this.player&&this.player.getCuePoints&&(s=this.player.getCuePoints().length),s}loadedListener(s){let i=typeof s.getAdData=="function"?s.getAdData():null;this.totalAds=i&&i.adPodInfo?i.adPodInfo.totalAds:void 0,this.clickUrl=i?i.clickThroughUrl:void 0,this.plugin.isBreakStarted&&this.playListener(s)}getPlayhead(){let s=this.playhead;return this.flags.isJoined?this.player&&!this.isDAI&&(s=this.getDuration()-this.player.getRemainingTime()):s=0,s}getDuration(){let s=this.duration;return this.player&&!this.isDAI&&(this.player.getCurrentAd&&this.player.getCurrentAd()&&(this.lastDuration=this.player.getCurrentAd().getDuration()),s=this.lastDuration),s}getGivenAds(){return this.totalAds}getIsSkippable(){let s=null;return this.player&&this.player.getCurrentAd&&(s=this.player.getCurrentAd().g.skippable),s}getCreativeId(){let s=null;return!this.isDAI&&this.player.getCurrentAd()&&(s=this.player.getCurrentAd().getCreativeId()),s}thirdQuartileListener(s){this.fireQuartile(3)}getAudioEnabled(){let s=null;return this.player&&(s=!this.player.getVolume||this.player.getVolume()!==0),s}getVersion(){return"7.0.9-ima-jsclass"}logListener(s){if(typeof s.getAdData=="function"&&s.getAdData().adError){let i=s.getAdData().adError;this.fireError(i.getErrorCode(),i.getMessage()),this.fireStop()}}unregisterListeners(){if(this.monitor&&this.monitor.stop(),this.player&&this.references){for(let s in this.references)this.player.removeEventListener(s,this.references[s]);this.references={}}}clickListener(s){let i=this.clickUrl,a=this.player.getCurrentAd();a&&a.g&&a.g.clickThroughUrl&&(i=a.g.clickThroughUrl);let S=new Date().getTime();this.lastUrl===i&&S<(this.lastTime||0)+2e3||(this.lastUrl=i,this.lastTime=S,this.fireClick(i))}getAdPosition(){let s=this.getNpawReference().Constants.AdPosition.Midroll;if(this.isDAI){let i=this.getVideo().getAdapter();i&&(!i.flags.isJoined||i.getPlayhead()<1)?s=this.getNpawReference().Constants.AdPosition.Preroll:i&&i.flags.isJoined&&i.getPlayhead()+this.duration+1>=i.getDuration()&&(s=this.getNpawReference().Constants.AdPosition.Postroll)}else switch(this.player.getCurrentAd().getAdPodInfo().getTimeOffset()){case 0:s=this.getNpawReference().Constants.AdPosition.Preroll;break;case-1:s=this.getNpawReference().Constants.AdPosition.Postroll}return s}firstQuartileListener(s){this.fireQuartile(1)}getIsLive(){let s=null;return this.player.levels&&this.player.levels[this.player.currentLevel]&&(s=this.player.levels[this.player.currentLevel].details.live),s}getTitle(){let s=this.title;return this.player&&!this.isDAI&&(s=this.player.getCurrentAd().getTitle()),s}registerListeners(){if(this.references={},google.ima.AdEvent){this.monitorPlayhead(!0,!1);let s=google.ima.AdEvent.Type;this.references[s.CONTENT_PAUSE_REQUESTED]=this.playListener.bind(this),this.references[s.LOADED]=this.loadedListener.bind(this),this.references[s.PAUSED]=this.pauseListener.bind(this),this.references[s.STARTED]=this.playingListener.bind(this),this.references[s.RESUMED]=this.playingListener.bind(this),this.references[google.ima.AdErrorEvent.Type.AD_ERROR]=this.errorListener.bind(this),this.references[s.COMPLETE]=this.endedListener.bind(this),this.references[s.CONTENT_RESUME_REQUESTED]=this.endedListener.bind(this),this.references[s.SKIPPED]=this.skippedListener.bind(this),this.references[s.CLICK]=this.clickListener.bind(this),this.references[s.ALL_ADS_COMPLETED]=this.endedViewListener.bind(this),this.references[s.LOG]=this.logListener.bind(this),this.references[s.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[s.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[s.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.references[s.CONTENT_RESUME_REQUESTED]=this.breakEndListener.bind(this)}if(google.ima.dai){let s=google.ima.dai.api.StreamEvent.Type;this.references[s.SKIPPED]=this.skippedL.bind(this),this.references[s.ERROR]=this.errorDAIListener.bind(this),this.references[s.AD_BREAK_STARTED]=this.startDAIListener.bind(this),this.references[s.AD_BREAK_ENDED]=this.stopDAIListener.bind(this),this.references[s.AD_PROGRESS]=this.progressDAIListener.bind(this),this.references[s.CLICK]=this.clickDAIListener.bind(this),this.references[s.STARTED]=this.joinDAIListener.bind(this),this.references[s.LOADED]=this.loadedDAIListener.bind(this),this.references[s.COMPLETE]=this.completeDAIListener.bind(this),this.references[s.FIRST_QUARTILE]=this.firstQuartileListener.bind(this),this.references[s.MIDPOINT]=this.secondQuartileListener.bind(this),this.references[s.THIRD_QUARTILE]=this.thirdQuartileListener.bind(this),this.references[s.PAUSED]=this.pauseDAIListener.bind(this),this.references[s.RESUMED]=this.resumeDAIListener.bind(this)}if(this.player)for(let s in this.references)this.player.addEventListener(s,this.references[s])}loadedDAIListener(s){if(s.getStreamData){let i=s.getStreamData();i&&(this.resource=i.url)}}stopDAIListener(s){this.fireStop({adPlayhead:this.duration}),this.getVideo().getAdapter()&&this.getVideo().getAdapter().fireResume(),this.fireBreakStop()}getResource(){let s=null;return!this.isDAI&&this.player.getCurrentAd()?s=this.player.getCurrentAd().getMediaUrl():this.isDAI&&(s=this.resource),s}getProvider(){let s=null;return!this.isDAI&&this.player.getCurrentAd()&&(s=this.player.getCurrentAd().getAdSystem()),s}skippedL(){this.fireSkip()}skippedListener(s){this.fireSkip({adPlayhead:this.getPlayhead()})}joinDAIListener(s){let i=s.getAd();i&&(this.duration=i.getDuration(),this.title=i.getTitle(),this.width=i.getVastMediaWidth(),this.height=i.getVastMediaHeight(),this.advertiser=i.getAdvertiserName(),this.adPosition=this.getAdPosition()),this.getVideo().getAdapter()&&this.getVideo().getAdapter().firePause(),this.plugin.fireInit(void 0,"joinDAIListener",this.getVideo().getVideoKey()),this.fireStart(),this.fireJoin()}completeDAIListener(s){this.fireStop({},"completeDAIListener")}getPlayerName(){return"IMA"}getIsVisible(){let s=null;if(this.player){if(!this.contentPlayer)for(let i in this.player){let a=this.player[i];if(a&&a.videoHeight&&a.clientHeight){this.contentPlayer=a;break}}s=this.getNpawUtils().calculateAdViewability(this.contentPlayer)}return s}playingListener(s){this.fireStart({adPlayhead:"0"}),this.fireResume(),this.fireSeekEnd(),this.fireBufferEnd(),this.fireJoin({adPlayhead:"0"})}endedViewListener(s){this.getPosition()===this.getNpawReference().Constants.AdPosition.Postroll&&this.getVideo().getAdapter().fireStop({},"endedViewListener")}getPosition(){let s=null;return this.player&&(s=this.getVideo().getAdapter()&&!this.getVideo().getAdapter().flags.isJoined?this.getNpawReference().Constants.AdPosition.Preroll:this.getIsLive()?this.getNpawReference().Constants.AdPosition.Midroll:this.adPosition||this.getNpawReference().Constants.AdPosition.Midroll),s}errorListener(s){this.fireError(),this.fireStop()}breakEndListener(s){this.fireBreakStop()}getBreaksTime(){let s=null;return this.player&&this.player.getCuePoints&&(s=this.player.getCuePoints(),s.forEach(function(i,a){s[a]!==-1&&s[a]!==null&&s[a]!==void 0||(s[a]=this.plugin._adapter.getDuration())}.bind(this))),s}clickDAIListener(s){this.fireClick(this.clickUrl)}pauseDAIListener(s){this.firePause();var i=this.getVideo().getAdapter();i&&(i.flags.isAdPaused=!0)}resumeDAIListener(s){this.fireResume();var i=this.getVideo().getAdapter();i&&(i.flags.isAdPaused=!1)}}}};return re.default})())});var Cn={};cn(Cn,{BitmovinPlugin:()=>Hi});var gs={AdStarted:"advertising:AdStarted",AdStopped:"advertising:AdStopped",AdSlotStarted:"advertising:AdSlotStarted",AdSlotStopped:"advertising:AdSlotStopped",AdSlotCompleted:"advertising:AdSlotCompleted"};var vi={GrunerUndJahr:"grunerundjahr",RTLPlusWatch:"rtlplusmpawatch",RTLPlusRadio:"rtlplusmparadio",RTLPlusAudiobook:"rtlplusmpaaudiobook",RTLPlusPodcast:"rtlplusmpapodcast",SuperRTLToggo:"superrtltoggo",MediaHub:"mediahub",RTLDigitalNews:"rtldigitalnews",CorporateSites:"corporatesites"},Mn={[vi.RTLPlusWatch]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[vi.RTLPlusRadio]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[vi.RTLPlusAudiobook]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[vi.RTLPlusPodcast]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[vi.RTLDigitalNews]:{NTV:"ntv",Capital:"capital",Geo:"geo",RTL:"rtl",Sport:"sport",Stern:"stern",Wetter:"wetter"},[vi.CorporateSites]:{BusinessPortal:"businessportal",Crime:"crime",GeoTV:"geotv",JournalistenSchule:"journalistenschule",Living:"living",Nitro:"nitro",Passion:"passion",RTLSuper:"rtlsuper",RTLUp:"rtlup",SchlagerLiebe:"schlagerliebe",VOX:"vox"},[vi.GrunerUndJahr]:{BabyClub:"babyclub",Brigitte:"brigitte",Eltern:"eltern",EssenUndTrinken:"essenundtrinken",Gala:"gala",Geolino:"geolino",LivingAtHome:"livingathome",SchoenerWohnen:"schoenerwohnen",Urbia:"urbia",VIP:"vip",Vorname:"vorname"}},Ti={PlayReady:"playready",Widevine:"widevine",FairPlay:"fairplay",None:"none"};var $t={None:0,Error:10,Warn:20,Info:30,Debug:40,Trace:50};var Zt={VOD:"vod",Live:"live",Event:"event",FAST:"fast",Podcast:"podcast",Audiobook:"audiobook",Radio:"radio"};var _i={DASH:"DASH",HLS:"HLS",Progressive:"Progressive"},fs={PlayerCreated:"player:PlayerCreated",MediaStarted:"player:MediaStarted",ContentStart:"player:ContentStart",ContentEnd:"player:ContentEnd",SessionStart:"player:SessionStart",SessionEnd:"player:SessionEnd",Destroy:"player:Destroy",HDCPFallback:"player:HDCPFallback",CueEnter:"player:CueEnter",CueExit:"player:CueExit",Error:"player:Error",Muted:"player:Muted",Unmuted:"player:Unmuted",Play:"player:Play",Paused:"player:Paused",PlaybackSpeedChanged:"player:PlaybackSpeedChanged",Playing:"player:Playing",Ready:"player:Ready",Seek:"player:Seek",Seeked:"player:Seeked",StallStarted:"player:StallStarted",StallEnded:"player:StallEnded",TimeChanged:"player:TimeChanged",VolumeChanged:"player:VolumeChanged",AudioTrackSelected:"player:AudioTrackSelected",TextTrackSelected:"player:SubtitlesSelected",SubtitlesSelected:"player:SubtitlesSelected",MetadataUpdated:"player:MetadataUpdated"};var pi={VOD:"VoD",Live:"Live",Event:"Event",Audiobook:"Audiobook",Radio:"Radio",Podcast:"Podcast",Music:"Musik",FAST:"Fast"};var mn=Gt(ei());var ms=Gt(ei());var jt=ne=>{var Y;if(!ne){let X=new Error("Cannot return a logger for an empty namespace");throw Object.assign(X,{code:ms.ErrorCodes.INTERNAL_PLAYER_ERROR}),X}let re=(Y=window.foundation)==null?void 0:Y.logger;if(!re){let X=new Error("Logger on the window object wasn't initialized yet when getLogger() was called");throw Object.assign(X,{code:ms.ErrorCodes.PLAYER_DEPENDENCY_MISSING}),X}return re.getLogger(ne)},Gn=$t.Warn;var yn=Gt(ei());var vn=Gt(ei());var Sn=Gt(ei());var En=Gt(ei());var Tn=Gt(ei());var An=Gt(ei());var bn=Gt(ei()),Wt={...fs,UpdateMetaData:"player:UpdateMetaData",TimedMetadata:"player:TimedMetadata",MetricAdded:"player:MetricAdded",PlayerLoaded:"player:PlayerLoaded",MediaLoad:"player:MediaLoad",MediaLoaded:"player:MediaLoaded",Destroyed:"player:Destroyed",Metadata:"player:Metadata",PlaybackFinished:"player:PlaybackFinished",ContentReady:"player:ContentReady",SourceLoaded:"player:SourceLoaded",SourceUnloaded:"player:SourceUnloaded",StallingFix:"player:StallingFix",MediaAdaptation:"player:MediaAdaptation",AutoplaySuccessful:"player:AutoplaySuccessful",TrackChanged:"player:TrackChanged",KeySystemSelected:"player:KeySystemSelected"};var qt={...gs,AdSlotsCreated:"advertising:AdSlotsCreated",InitAdSlot:"advertising:InitAdSlot",AdSlotReady:"advertising:AdSlotReady",PauseAd:"advertising:PauseAd",ResumeAd:"advertising:ResumeAd",SkipAd:"advertising:SkipAd",StartAdSlot:"advertising:StartAdSlot",StopAdSlot:"advertising:StopAdSlot",OpenClickThrough:"advertising:OpenClickThrough",HomadActivation:"advertising:HomadActivation",HomadPenalty:"advertising:HomadPenalty",AdError:"advertising:AdError",AdQuartileReached:"advertising:AdQuartileReached"};var Pt=(ne=>(ne.LoaderCreation="metric:LoaderCreation",ne.BuilderCreation="metric:BuilderCreation",ne.PlayerCreation="metric:PlayerCreation",ne.MediaLoad="metric:MediaLoad",ne.MediaPlay="metric:MediaPlay",ne.MediaPlayAfterAd="metric:MediaPlayAfterAd",ne.AdSlotLoad="metric:AdSlotLoad",ne))(Pt||{});var Ws=class{setPlayer(ne){this.player=ne}};var Vi=function(){function ne(){this.listeners={}}var re=ne.prototype;return re.on=function(X,K){this.listeners[X]||(this.listeners[X]=[]),this.listeners[X].push(K)},re.off=function(X,K){if(!this.listeners[X])return!1;var V=this.listeners[X].indexOf(K);return this.listeners[X]=this.listeners[X].slice(0),this.listeners[X].splice(V,1),V>-1},re.trigger=function(X){var K=this.listeners[X];if(K)if(arguments.length===2)for(var V=K.length,d=0;d<V;++d)K[d].call(this,arguments[1]);else for(var g=Array.prototype.slice.call(arguments,1),u=K.length,R=0;R<u;++R)K[R].apply(this,g)},re.dispose=function(){this.listeners={}},re.pipe=function(X){this.on("data",function(K){X.push(K)})},ne}();function gi(){return gi=Object.assign?Object.assign.bind():function(ne){for(var re=1;re<arguments.length;re++){var Y=arguments[re];for(var X in Y)Object.prototype.hasOwnProperty.call(Y,X)&&(ne[X]=Y[X])}return ne},gi.apply(this,arguments)}var ys=Gt(Ks()),Ln=function(re){return ys.default.atob?ys.default.atob(re):Buffer.from(re,"base64").toString("binary")};function vs(ne){for(var re=Ln(ne),Y=new Uint8Array(re.length),X=0;X<re.length;X++)Y[X]=re.charCodeAt(X);return Y}var Ts=class extends Vi{constructor(){super(),this.buffer=""}push(re){let Y;for(this.buffer+=re,Y=this.buffer.indexOf(`
`);Y>-1;Y=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,Y)),this.buffer=this.buffer.substring(Y+1)}},Pn="	",Ss=function(ne){let re=/([0-9.]*)?@?([0-9.]*)?/.exec(ne||""),Y={};return re[1]&&(Y.length=parseInt(re[1],10)),re[2]&&(Y.offset=parseInt(re[2],10)),Y},wn=function(){let Y="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+Y+")")},Ht=function(ne){let re={};if(!ne)return re;let Y=ne.split(wn()),X=Y.length,K;for(;X--;)Y[X]!==""&&(K=/([^=]*)=(.*)/.exec(Y[X]).slice(1),K[0]=K[0].replace(/^\s+|\s+$/g,""),K[1]=K[1].replace(/^\s+|\s+$/g,""),K[1]=K[1].replace(/^['"](.*)['"]$/g,"$1"),re[K[0]]=K[1]);return re},As=class extends Vi{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(re){let Y,X;if(re=re.trim(),re.length===0)return;if(re[0]!=="#"){this.trigger("data",{type:"uri",uri:re});return}this.tagMappers.reduce((V,d)=>{let g=d(re);return g===re?V:V.concat([g])},[re]).forEach(V=>{for(let d=0;d<this.customParsers.length;d++)if(this.customParsers[d].call(this,V))return;if(V.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:V.slice(1)});return}if(V=V.replace("\r",""),Y=/^#EXTM3U/.exec(V),Y){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(Y=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(V),Y){X={type:"tag",tagType:"inf"},Y[1]&&(X.duration=parseFloat(Y[1])),Y[2]&&(X.title=Y[2]),this.trigger("data",X);return}if(Y=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(V),Y){X={type:"tag",tagType:"targetduration"},Y[1]&&(X.duration=parseInt(Y[1],10)),this.trigger("data",X);return}if(Y=/^#EXT-X-VERSION:([0-9.]*)?/.exec(V),Y){X={type:"tag",tagType:"version"},Y[1]&&(X.version=parseInt(Y[1],10)),this.trigger("data",X);return}if(Y=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(V),Y){X={type:"tag",tagType:"media-sequence"},Y[1]&&(X.number=parseInt(Y[1],10)),this.trigger("data",X);return}if(Y=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(V),Y){X={type:"tag",tagType:"discontinuity-sequence"},Y[1]&&(X.number=parseInt(Y[1],10)),this.trigger("data",X);return}if(Y=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(V),Y){X={type:"tag",tagType:"playlist-type"},Y[1]&&(X.playlistType=Y[1]),this.trigger("data",X);return}if(Y=/^#EXT-X-BYTERANGE:(.*)?$/.exec(V),Y){X=gi(Ss(Y[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",X);return}if(Y=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(V),Y){X={type:"tag",tagType:"allow-cache"},Y[1]&&(X.allowed=!/NO/.test(Y[1])),this.trigger("data",X);return}if(Y=/^#EXT-X-MAP:(.*)$/.exec(V),Y){if(X={type:"tag",tagType:"map"},Y[1]){let d=Ht(Y[1]);d.URI&&(X.uri=d.URI),d.BYTERANGE&&(X.byterange=Ss(d.BYTERANGE))}this.trigger("data",X);return}if(Y=/^#EXT-X-STREAM-INF:(.*)$/.exec(V),Y){if(X={type:"tag",tagType:"stream-inf"},Y[1]){if(X.attributes=Ht(Y[1]),X.attributes.RESOLUTION){let d=X.attributes.RESOLUTION.split("x"),g={};d[0]&&(g.width=parseInt(d[0],10)),d[1]&&(g.height=parseInt(d[1],10)),X.attributes.RESOLUTION=g}X.attributes.BANDWIDTH&&(X.attributes.BANDWIDTH=parseInt(X.attributes.BANDWIDTH,10)),X.attributes["FRAME-RATE"]&&(X.attributes["FRAME-RATE"]=parseFloat(X.attributes["FRAME-RATE"])),X.attributes["PROGRAM-ID"]&&(X.attributes["PROGRAM-ID"]=parseInt(X.attributes["PROGRAM-ID"],10))}this.trigger("data",X);return}if(Y=/^#EXT-X-MEDIA:(.*)$/.exec(V),Y){X={type:"tag",tagType:"media"},Y[1]&&(X.attributes=Ht(Y[1])),this.trigger("data",X);return}if(Y=/^#EXT-X-ENDLIST/.exec(V),Y){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(Y=/^#EXT-X-DISCONTINUITY/.exec(V),Y){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(Y=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(V),Y){X={type:"tag",tagType:"program-date-time"},Y[1]&&(X.dateTimeString=Y[1],X.dateTimeObject=new Date(Y[1])),this.trigger("data",X);return}if(Y=/^#EXT-X-KEY:(.*)$/.exec(V),Y){X={type:"tag",tagType:"key"},Y[1]&&(X.attributes=Ht(Y[1]),X.attributes.IV&&(X.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(X.attributes.IV=X.attributes.IV.substring(2)),X.attributes.IV=X.attributes.IV.match(/.{8}/g),X.attributes.IV[0]=parseInt(X.attributes.IV[0],16),X.attributes.IV[1]=parseInt(X.attributes.IV[1],16),X.attributes.IV[2]=parseInt(X.attributes.IV[2],16),X.attributes.IV[3]=parseInt(X.attributes.IV[3],16),X.attributes.IV=new Uint32Array(X.attributes.IV))),this.trigger("data",X);return}if(Y=/^#EXT-X-START:(.*)$/.exec(V),Y){X={type:"tag",tagType:"start"},Y[1]&&(X.attributes=Ht(Y[1]),X.attributes["TIME-OFFSET"]=parseFloat(X.attributes["TIME-OFFSET"]),X.attributes.PRECISE=/YES/.test(X.attributes.PRECISE)),this.trigger("data",X);return}if(Y=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(V),Y){X={type:"tag",tagType:"cue-out-cont"},Y[1]?X.data=Y[1]:X.data="",this.trigger("data",X);return}if(Y=/^#EXT-X-CUE-OUT:(.*)?$/.exec(V),Y){X={type:"tag",tagType:"cue-out"},Y[1]?X.data=Y[1]:X.data="",this.trigger("data",X);return}if(Y=/^#EXT-X-CUE-IN:(.*)?$/.exec(V),Y){X={type:"tag",tagType:"cue-in"},Y[1]?X.data=Y[1]:X.data="",this.trigger("data",X);return}if(Y=/^#EXT-X-SKIP:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"skip"},X.attributes=Ht(Y[1]),X.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(X.attributes["SKIPPED-SEGMENTS"]=parseInt(X.attributes["SKIPPED-SEGMENTS"],10)),X.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(X.attributes["RECENTLY-REMOVED-DATERANGES"]=X.attributes["RECENTLY-REMOVED-DATERANGES"].split(Pn)),this.trigger("data",X);return}if(Y=/^#EXT-X-PART:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"part"},X.attributes=Ht(Y[1]),["DURATION"].forEach(function(d){X.attributes.hasOwnProperty(d)&&(X.attributes[d]=parseFloat(X.attributes[d]))}),["INDEPENDENT","GAP"].forEach(function(d){X.attributes.hasOwnProperty(d)&&(X.attributes[d]=/YES/.test(X.attributes[d]))}),X.attributes.hasOwnProperty("BYTERANGE")&&(X.attributes.byterange=Ss(X.attributes.BYTERANGE)),this.trigger("data",X);return}if(Y=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"server-control"},X.attributes=Ht(Y[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(d){X.attributes.hasOwnProperty(d)&&(X.attributes[d]=parseFloat(X.attributes[d]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(d){X.attributes.hasOwnProperty(d)&&(X.attributes[d]=/YES/.test(X.attributes[d]))}),this.trigger("data",X);return}if(Y=/^#EXT-X-PART-INF:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"part-inf"},X.attributes=Ht(Y[1]),["PART-TARGET"].forEach(function(d){X.attributes.hasOwnProperty(d)&&(X.attributes[d]=parseFloat(X.attributes[d]))}),this.trigger("data",X);return}if(Y=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"preload-hint"},X.attributes=Ht(Y[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(d){if(X.attributes.hasOwnProperty(d)){X.attributes[d]=parseInt(X.attributes[d],10);let g=d==="BYTERANGE-LENGTH"?"length":"offset";X.attributes.byterange=X.attributes.byterange||{},X.attributes.byterange[g]=X.attributes[d],delete X.attributes[d]}}),this.trigger("data",X);return}if(Y=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"rendition-report"},X.attributes=Ht(Y[1]),["LAST-MSN","LAST-PART"].forEach(function(d){X.attributes.hasOwnProperty(d)&&(X.attributes[d]=parseInt(X.attributes[d],10))}),this.trigger("data",X);return}if(Y=/^#EXT-X-DATERANGE:(.*)$/.exec(V),Y&&Y[1]){X={type:"tag",tagType:"daterange"},X.attributes=Ht(Y[1]),["ID","CLASS"].forEach(function(g){X.attributes.hasOwnProperty(g)&&(X.attributes[g]=String(X.attributes[g]))}),["START-DATE","END-DATE"].forEach(function(g){X.attributes.hasOwnProperty(g)&&(X.attributes[g]=new Date(X.attributes[g]))}),["DURATION","PLANNED-DURATION"].forEach(function(g){X.attributes.hasOwnProperty(g)&&(X.attributes[g]=parseFloat(X.attributes[g]))}),["END-ON-NEXT"].forEach(function(g){X.attributes.hasOwnProperty(g)&&(X.attributes[g]=/YES/i.test(X.attributes[g]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(g){X.attributes.hasOwnProperty(g)&&(X.attributes[g]=X.attributes[g].toString(16))});let d=/^X-([A-Z]+-)+[A-Z]+$/;for(let g in X.attributes){if(!d.test(g))continue;let u=/[0-9A-Fa-f]{6}/g.test(X.attributes[g]),R=/^\d+(\.\d+)?$/.test(X.attributes[g]);X.attributes[g]=u?X.attributes[g].toString(16):R?parseFloat(X.attributes[g]):String(X.attributes[g])}this.trigger("data",X);return}if(Y=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(V),Y){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(Y=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(V),Y){X={type:"tag",tagType:"content-steering"},X.attributes=Ht(Y[1]),this.trigger("data",X);return}this.trigger("data",{type:"tag",data:V.slice(4)})})}addParser({expression:re,customType:Y,dataParser:X,segment:K}){typeof X!="function"&&(X=V=>V),this.customParsers.push(V=>{if(re.exec(V))return this.trigger("data",{type:"custom",data:X(V),customType:Y,segment:K}),!0})}addTagMapper({expression:re,map:Y}){let X=K=>re.test(K)?Y(K):K;this.tagMappers.push(X)}},In=ne=>ne.toLowerCase().replace(/-(\w)/g,re=>re[1].toUpperCase()),fi=function(ne){let re={};return Object.keys(ne).forEach(function(Y){re[In(Y)]=ne[Y]}),re},Es=function(ne){let{serverControl:re,targetDuration:Y,partTargetDuration:X}=ne;if(!re)return;let K="#EXT-X-SERVER-CONTROL",V="holdBack",d="partHoldBack",g=Y&&Y*3,u=X&&X*2;Y&&!re.hasOwnProperty(V)&&(re[V]=g,this.trigger("info",{message:`${K} defaulting HOLD-BACK to targetDuration * 3 (${g}).`})),g&&re[V]<g&&(this.trigger("warn",{message:`${K} clamping HOLD-BACK (${re[V]}) to targetDuration * 3 (${g})`}),re[V]=g),X&&!re.hasOwnProperty(d)&&(re[d]=X*3,this.trigger("info",{message:`${K} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${re[d]}).`})),X&&re[d]<u&&(this.trigger("warn",{message:`${K} clamping PART-HOLD-BACK (${re[d]}) to partTargetDuration * 2 (${u}).`}),re[d]=u)},Ui=class extends Vi{constructor(){super(),this.lineStream=new Ts,this.parseStream=new As,this.lineStream.pipe(this.parseStream),this.lastProgramDateTime=null;let re=this,Y=[],X={},K,V,d=!1,g=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},R="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",T=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],segments:[]};let c=0,m=0,h={};this.on("end",()=>{X.uri||!X.parts&&!X.preloadHints||(!X.map&&K&&(X.map=K),!X.key&&V&&(X.key=V),!X.timeline&&typeof T=="number"&&(X.timeline=T),this.manifest.preloadSegment=X)}),this.parseStream.on("data",function(f){let P,G;({tag(){({version(){f.version&&(this.manifest.version=f.version)},"allow-cache"(){this.manifest.allowCache=f.allowed,"allowed"in f||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){let D={};"length"in f&&(X.byterange=D,D.length=f.length,"offset"in f||(f.offset=c)),"offset"in f&&(X.byterange=D,D.offset=f.offset),c=D.offset+D.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),f.title&&(X.title=f.title),f.duration>0&&(X.duration=f.duration),f.duration===0&&(X.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=Y},key(){if(!f.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(f.attributes.METHOD==="NONE"){V=null;return}if(!f.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(f.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:f.attributes};return}if(f.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:f.attributes.URI};return}if(f.attributes.KEYFORMAT===R){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(f.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(f.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),f.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(f.attributes.KEYID&&f.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:f.attributes.KEYFORMAT,keyId:f.attributes.KEYID.substring(2)},pssh:vs(f.attributes.URI.split(",")[1])};return}f.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),V={method:f.attributes.METHOD||"AES-128",uri:f.attributes.URI},typeof f.attributes.IV!="undefined"&&(V.iv=f.attributes.IV)},"media-sequence"(){if(!isFinite(f.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+f.number});return}this.manifest.mediaSequence=f.number},"discontinuity-sequence"(){if(!isFinite(f.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+f.number});return}this.manifest.discontinuitySequence=f.number,T=f.number},"playlist-type"(){if(!/VOD|EVENT/.test(f.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+f.playlist});return}this.manifest.playlistType=f.playlistType},map(){K={},f.uri&&(K.uri=f.uri),f.byterange&&(K.byterange=f.byterange),V&&(K.key=V)},"stream-inf"(){if(this.manifest.playlists=Y,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!f.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}X.attributes||(X.attributes={}),gi(X.attributes,f.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(f.attributes&&f.attributes.TYPE&&f.attributes["GROUP-ID"]&&f.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}let D=this.manifest.mediaGroups[f.attributes.TYPE];D[f.attributes["GROUP-ID"]]=D[f.attributes["GROUP-ID"]]||{},P=D[f.attributes["GROUP-ID"]],G={default:/yes/i.test(f.attributes.DEFAULT)},G.default?G.autoselect=!0:G.autoselect=/yes/i.test(f.attributes.AUTOSELECT),f.attributes.LANGUAGE&&(G.language=f.attributes.LANGUAGE),f.attributes.URI&&(G.uri=f.attributes.URI),f.attributes["INSTREAM-ID"]&&(G.instreamId=f.attributes["INSTREAM-ID"]),f.attributes.CHARACTERISTICS&&(G.characteristics=f.attributes.CHARACTERISTICS),f.attributes.FORCED&&(G.forced=/yes/i.test(f.attributes.FORCED)),P[f.attributes.NAME]=G},discontinuity(){T+=1,X.discontinuity=!0,this.manifest.discontinuityStarts.push(Y.length)},"program-date-time"(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=f.dateTimeString,this.manifest.dateTimeObject=f.dateTimeObject),X.dateTimeString=f.dateTimeString,X.dateTimeObject=f.dateTimeObject;let{lastProgramDateTime:D}=this;this.lastProgramDateTime=new Date(f.dateTimeString).getTime(),D===null&&this.manifest.segments.reduceRight((v,y)=>(y.programDateTime=v-y.duration*1e3,y.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(f.duration)||f.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+f.duration});return}this.manifest.targetDuration=f.duration,Es.call(this,this.manifest)},start(){if(!f.attributes||isNaN(f.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:f.attributes["TIME-OFFSET"],precise:f.attributes.PRECISE}},"cue-out"(){X.cueOut=f.data},"cue-out-cont"(){X.cueOutCont=f.data},"cue-in"(){X.cueIn=f.data},skip(){this.manifest.skip=fi(f.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",f.attributes,["SKIPPED-SEGMENTS"])},part(){d=!0;let D=this.manifest.segments.length,v=fi(f.attributes);X.parts=X.parts||[],X.parts.push(v),v.byterange&&(v.byterange.hasOwnProperty("offset")||(v.byterange.offset=m),m=v.byterange.offset+v.byterange.length);let y=X.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${y} for segment #${D}`,f.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((F,b)=>{F.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${b} lacks required attribute(s): LAST-PART`})})},"server-control"(){let D=this.manifest.serverControl=fi(f.attributes);D.hasOwnProperty("canBlockReload")||(D.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Es.call(this,this.manifest),D.canSkipDateranges&&!D.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){let D=this.manifest.segments.length,v=fi(f.attributes),y=v.type&&v.type==="PART";X.preloadHints=X.preloadHints||[],X.preloadHints.push(v),v.byterange&&(v.byterange.hasOwnProperty("offset")||(v.byterange.offset=y?m:0,y&&(m=v.byterange.offset+v.byterange.length)));let F=X.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${F} for segment #${D}`,f.attributes,["TYPE","URI"]),!!v.type)for(let b=0;b<X.preloadHints.length-1;b++){let M=X.preloadHints[b];M.type&&M.type===v.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${F} for segment #${D} has the same TYPE ${v.type} as preload hint #${b}`})}},"rendition-report"(){let D=fi(f.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(D);let v=this.manifest.renditionReports.length-1,y=["LAST-MSN","URI"];d&&y.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${v}`,f.attributes,y)},"part-inf"(){this.manifest.partInf=fi(f.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",f.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Es.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(fi(f.attributes));let D=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${D}`,f.attributes,["ID","START-DATE"]);let v=this.manifest.dateRanges[D];v.endDate&&v.startDate&&new Date(v.endDate)<new Date(v.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),v.duration&&v.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),v.plannedDuration&&v.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});let y=!!v.endOnNext;if(y&&!v.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),y&&(v.duration||v.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),v.duration&&v.endDate){let b=v.startDate.getTime()+v.duration*1e3;this.manifest.dateRanges[D].endDate=new Date(b)}if(!h[v.id])h[v.id]=v;else{for(let b in h[v.id])if(v[b]&&JSON.stringify(h[v.id][b])!==JSON.stringify(v[b])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}let F=this.manifest.dateRanges.findIndex(b=>b.id===v.id);this.manifest.dateRanges[F]=gi(this.manifest.dateRanges[F],v),h[v.id]=gi(h[v.id],v),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"content-steering"(){this.manifest.contentSteering=fi(f.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",f.attributes,["SERVER-URI"])}}[f.tagType]||g).call(re)},uri(){X.uri=f.uri,Y.push(X),this.manifest.targetDuration&&!("duration"in X)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),X.duration=this.manifest.targetDuration),V&&(X.key=V),X.timeline=T,K&&(X.map=K),m=0,this.lastProgramDateTime!==null&&(X.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=X.duration*1e3),X={}},comment(){},custom(){f.segment?(X.custom=X.custom||{},X.custom[f.customType]=f.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[f.customType]=f.data)}})[f.type].call(re)})}warnOnMissingAttributes_(re,Y,X){let K=[];X.forEach(function(V){Y.hasOwnProperty(V)||K.push(V)}),K.length&&this.trigger("warn",{message:`${re} lacks required attribute(s): ${K.join(", ")}`})}push(re){this.lineStream.push(re)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(re){this.parseStream.addParser(re)}addTagMapper(re){this.parseStream.addTagMapper(re)}};var Js=Gt(Qs());var _n="rtlgermanydev";var Rn=class{constructor(){this.joined=!1}registerListeners(){this.player&&(this.monitorPlayhead(!0,!1),this.player.addEventListener(qt.AdSlotStarted,()=>{this.fireBreakStart()}),this.player.addEventListener(qt.AdSlotCompleted,()=>{this.fireAdBreakStop()}),this.player.addEventListener(qt.AdStarted,()=>{this.joined=!1,this.fireStart()}),this.player.addEventListener(qt.AdStopped,()=>{this.fireStop()}),this.player.addEventListener(Wt.TimeChanged,()=>{var ne,re;(re=(ne=this.player)==null?void 0:ne.getAdvertisingAdapter())!=null&&re.isAd()&&!this.joined&&(this.joined=!0,this.fireJoin())}),this.player.addEventListener(qt.AdError,ne=>{this.fireError(ne.code,ne.message,ne)}),this.player.addEventListener(qt.PauseAd,()=>{this.firePause()}),this.player.addEventListener(qt.ResumeAd,()=>{this.fireResume()}),this.player.addEventListener(qt.SkipAd,()=>{this.fireSkip()}),this.player.addEventListener(qt.InitAdSlot,()=>{this.fireInit()}),this.player.addEventListener(qt.AdSlotReady,()=>{this.fireManifest()}),this.player.addEventListener(qt.OpenClickThrough,()=>{var re;let ne=((re=this.getCurrentAdSlot())==null?void 0:re.getClickThroughUrl())||"";this.fireClick(ne)}),this.player.addEventListener(qt.AdQuartileReached,ne=>{this.fireQuartile(ne.quartile)}))}getExpectedAds(){var ne;return((ne=this.getCurrentAdSlot())==null?void 0:ne.getClips())||0}getGivenAds(){return this.getExpectedAds()}getBreaksTime(){var re,Y;let ne=(re=this.player)==null?void 0:re.getMediaConfig();return ne?((Y=ne.advertising)==null?void 0:Y.slots.map(X=>X.offset))||[]:[]}getAudioEnabled(){return this.player?!this.player.isMuted():!0}getAdInsertionType(){return this.getNpawReference().Constants.AdInsertionType.ClientSide}getIsSkippable(){if(!this.player)return!1;let ne=this.getCurrentAdSlot();return(ne==null?void 0:ne.canSkip(this.player.getCurrentTime(!0)))||!1}getIsFullscreen(){var ne;return((ne=this.player)==null?void 0:ne.isFullscreen())||!1}getCampaign(){var re;let ne=this.getCurrentAdSlot();return((re=ne==null?void 0:ne.getCurrentClip())==null?void 0:re.campaignName)||""}getCreativeId(){var re;let ne=this.getCurrentAdSlot();return((re=ne==null?void 0:ne.getCurrentClip())==null?void 0:re.creativeId)||""}getPosition(){let ne=this.getCurrentAdSlot();return(ne==null?void 0:ne.getType())||""}getPlayerName(){return"Foundation Player"}getPlayerVersion(){var ne;return((ne=this.player)==null?void 0:ne.getVersion())||"player undefined"}getVersion(){var ne;return((ne=this.player)==null?void 0:ne.getVersion())||"player undefined"}getPlayhead(){var ne;return((ne=this.player)==null?void 0:ne.getCurrentTime(!0))||0}getDuration(){var re;let ne=this.getCurrentAdSlot();return((re=ne==null?void 0:ne.getCurrentClip())==null?void 0:re.duration)||0}getTitle(){let ne=this.getCurrentAdSlot(),re=ne==null?void 0:ne.getCurrentClip();return`url: ${re==null?void 0:re.url} | type: ${re==null?void 0:re.type} | title: ${re==null?void 0:re.title}`}getBitrate(){var re;let ne=this.getCurrentAdSlot();return((re=ne==null?void 0:ne.getCurrentClip())==null?void 0:re.bitrate)||0}getResource(){var re;let ne=this.getCurrentAdSlot();return((re=ne==null?void 0:ne.getCurrentClip())==null?void 0:re.url)||""}getCurrentAdSlot(){var ne,re;return(re=(ne=this.player)==null?void 0:ne.getAdvertisingAdapter())==null?void 0:re.getCurrentAdSlot()}},Dn=()=>{switch(jt("NPAW").getLevel()){case $t.Trace:return 1;case $t.Debug:return 2;case $t.Info:return 3;case $t.Warn:return 4;case $t.Error:return 5;case $t.None:default:return 6}},$s=class extends Ws{constructor({appName:ne,appVersion:re,userId:Y,userType:X,accountCode:K=_n,environment:V,isLocal:d,cdn:g,platform:u,cdnBalancer:R,hotdogVersion:T}={}){super(),this.customDimensions={},this.metrics={},this.metadata={},this.fireStopOnDestroy=!0,this.npawPlugin=this.initNpawPlugin(K),this.appName=ne,this.appVersion=re,this.userId=Y,this.userType=X,this.cdnBalancer=R,this.configureCDNBalancer(),this.customDimensions.referer=window.location.origin+window.location.pathname,V&&(this.customDimensions.environment=V),d!==void 0&&(this.customDimensions.islocal=String(d)),g!==void 0&&(this.customDimensions.playercdn=g),u&&(this.customDimensions.platform=u),T&&(this.customDimensions.hotdogversion=T)}initNpawPlugin(ne){let re=new Js.default(ne);return re.setLogLevel(Dn()),re.diagnostic.setBalancerEnabled(!1),re.diagnostic.setVideoAnalyticsEnabled(!1),re.diagnostic.setAdsAnalyticsEnabled(!1),re}getKey(){return"foundation.plugin.npawAnalytics"}getPlugin(){return{updateMetadata:ne=>{let re=[ne.title?{"content.title":ne.title}:void 0,ne.program?{"content.program":ne.program}:void 0,ne.season?{"content.season":ne.season}:void 0].filter(Boolean);re.length!==0&&this.npawPlugin.setVideoOptions(re.reduce((Y,X)=>({...Y,...X}),{}))}}}ignoreErrorList(){return[]}playerInitialized(){return this.player&&(this.setAdapter(),this.npawPlugin.registerAdsAdapterFromClass(this.player,Rn),this.addMetricEvents(this.player),this.player.addEventListener(Wt.KeySystemSelected,()=>this.onKeySystemSelected()),this.player.addEventListener(Wt.ContentReady,()=>this.onContentReady()),this.player.addEventListener(Wt.Error,ne=>this.onError(ne)),this.player.addEventListener(Wt.AudioTrackSelected,ne=>this.onAudioTrackSelected(ne.audioTrack)),this.player.addEventListener(Wt.TextTrackSelected,ne=>this.onSubtitlesSelected(ne.subtitles)),this.player.addEventListener(Wt.Destroy,ne=>{ne.error&&this.onError(ne.error),this.onDestroy()}),this.player.addEventListener(Wt.PlaybackSpeedChanged,ne=>this.onPlaybackSpeedChanged(ne.playbackSpeed)),this.player.addEventListener(Wt.MetadataUpdated,ne=>{let{title:re,program:Y,season:X}=ne.metadata;this.getPlugin().updateMetadata({title:re,program:Y,season:X})}),this.customDimensions={...this.customDimensions,playerversion:this.player.getVersion(),playerid:this.player.getId()},this.metadata={...this.metadata,LoaderConfig:Nn(this.player.getLoaderConfig()),RemoteConfig:this.player.getRemoteConfig(),ClientSupport:this.player.getClientSupport()},this.npawPlugin.setAnalyticsOptions({enabled:!0,method:"POST","app.name":this.appName,"app.releaseVersion":this.appVersion,"user.name":this.userId}),this.npawPlugin.setVideoOptions({"content.customDimensions":this.customDimensions,"errors.ignore":this.ignoreErrorList(),"content.metadata":this.metadata})),Promise.resolve()}setupSession(){var K,V,d,g,u;if(!this.player)return Promise.resolve();let ne=this.player.getMediaConfig();this.metadata.MediaConfig=ne;let re=(K=ne.plugins)==null?void 0:K[this.getKey()],Y={[Zt.VOD]:pi.VOD,[Zt.Live]:pi.Live,[Zt.Event]:pi.Event,[Zt.FAST]:pi.FAST,[Zt.Podcast]:pi.Podcast,[Zt.Audiobook]:pi.Audiobook,[Zt.Radio]:pi.Radio},X=(re==null?void 0:re.contentType)||Y[ne.type];return this.npawPlugin.setAnalyticsOptions({"user.type":(re==null?void 0:re.userType)||this.userType}),this.npawPlugin.setVideoOptions({"content.id":(re==null?void 0:re.id)||ne.id,"content.type":X,"content.title":(re==null?void 0:re.title)||((V=ne.metadata)==null?void 0:V.title),"content.program":(re==null?void 0:re.program)||((d=ne.metadata)==null?void 0:d.program),"content.season":(re==null?void 0:re.season)||((g=ne.metadata)==null?void 0:g.season),"content.metadata":this.metadata,"content.channel":(re==null?void 0:re.channelName)||((u=ne.metadata)==null?void 0:u.channelName)}),Promise.resolve()}async beforeLoadMedia(ne){return this.metadata.Media=ne,this.customDimensions.sessionid=ne.sessionId,this.npawPlugin.setVideoOptions({"content.metadata":this.metadata,"content.customDimensions":this.customDimensions}),ne.getStreamType()===_i.HLS&&await this.parseHLSManifest(ne),this.configureCDNBalancer(ne),Promise.resolve(ne)}beforeWindowUnload(){this.onDestroy()}configureCDNBalancer(ne){var X,K;let re=ne&&(((X=this.cdnBalancer)==null?void 0:X.enableForSourceTypes)||[]).includes(ne.type),Y=ne==null?void 0:ne.source.npawProfileName;if(!((K=this.cdnBalancer)!=null&&K.enabled)||!re||!Y){this.npawPlugin.cdnBalancer.disable();return}this.npawPlugin.cdnBalancer.enable(),this.npawPlugin.setBalancerOptions({profileName:Y,bucketName:this.cdnBalancer.bucketName,debug:this.cdnBalancer.debug})}onDestroy(){this.fireStopOnDestroy&&this.npawPlugin.getAdapter().fireStop(),this.npawPlugin.destroy()}async parseHLSManifest(ne){try{let re=await fetch(ne.source.url);if(re.ok){let Y=await re.text(),X=new Ui;if(X.push(Y),X.end(),X.manifest.playlists&&X.manifest.playlists[0]){let V=X.manifest.playlists[0].attributes.CODECS.split(",");this.audioCodec=this.findAudioCodec(V),this.videoCodec=this.findVideoCodec(V)}}}catch(re){}}findAudioCodec(ne){let re=["ac-3","alac","ec-3","fLaC","mp4a"];return ne.find(Y=>{let X=Y.split(".")[0];return re.includes(X)})}findVideoCodec(ne){let re=["avc1","avc3","dvh1","dvh1","hev1","hvc1","mjpg"];return ne.find(Y=>{let X=Y.split(".")[0];return re.includes(X)})}addMetricEvents(ne){let re=[Pt.LoaderCreation,Pt.BuilderCreation,Pt.PlayerCreation,Pt.MediaLoad,Pt.MediaPlay,Pt.MediaPlayAfterAd,Pt.AdSlotLoad],Y=()=>{let X={},K=[["BuilderProcess",Pt.BuilderCreation],["MediaLoad",Pt.MediaLoad],["MediaPlay",Pt.MediaPlay],["AdRecovery",Pt.MediaPlayAfterAd],["AdSlotLoad",Pt.AdSlotLoad]];for(let[d,g]of K){let u=this.metrics[g];u&&(X[d]=u)}let V=this.metrics[Pt.PlayerCreation]||0;this.metrics[Pt.LoaderCreation]&&(V+=this.metrics[Pt.LoaderCreation]),this.metrics[Pt.BuilderCreation]&&(V+=this.metrics[Pt.BuilderCreation]),X.PlayerCreation=V,this.npawPlugin.setVideoOptions({"content.metrics":X})};for(let X of re)ne.addEventListener(X,({duration:K})=>{this.metrics={...this.metrics,[X]:K},Y()})}onKeySystemSelected(){var Y;let ne;switch((Y=this.player)==null?void 0:Y.getPlayerAdapter().getDRMType()){case Ti.Widevine:ne="WIDEVINE";break;case Ti.PlayReady:ne="PLAYREADY";break;case Ti.FairPlay:ne="FAIRPLAY";break}this.npawPlugin.setVideoOptions({"content.drm":ne})}onContentReady(){var R,T,c,m,h;let ne=(R=this.player)==null?void 0:R.getMedia();this.metadata.Media=ne;let re=(T=this.player)==null?void 0:T.isLive(),Y=(c=this.player)==null?void 0:c.getActiveAudioTrack(),X=(m=this.player)==null?void 0:m.getActiveTextTrack(),K=(h=this.player)==null?void 0:h.getActiveVideoTrack(),V=f=>{if(f)return f.includes(".")?f.split(".")[0]:f},d=(f,P)=>{if(!(!f&&!P))return[f,P].join(",")},g=(Y==null?void 0:Y.codec)||this.audioCodec,u=(K==null?void 0:K.codec)||this.videoCodec;this.npawPlugin.setVideoOptions({"content.isLive":re,"content.playbackType":re?"Live":"VoD","content.metadata":this.metadata,"content.language":Y==null?void 0:Y.label,"content.subtitles":X!=null&&X.isActive?X.label:"Disabled","content.encoding.videoCodec":V(u),"content.encoding.codecSettings":d(g,u),"content.encoding.audioCodec":V(g)})}onError(ne){let re=this.npawPlugin.getAdapter();re&&(re.fireError(ne.code?String(ne.code):void 0,ne.message,ne.context),re.flags.isJoined||re.fireStop())}onAudioTrackSelected(ne){this.npawPlugin.setVideoOptions({"content.language":ne.label})}onSubtitlesSelected(ne){this.npawPlugin.setVideoOptions({"content.subtitles":ne.isActive?ne.label:"Disabled"})}onPlaybackSpeedChanged(ne){this.npawPlugin.setVideoOptions({"content.playbackSpeed":ne})}},zs=ne=>ne instanceof HTMLElement,Nn=ne=>{if(!ne||typeof ne!="object")return{};let re={...ne};return"authToken"in ne&&ne.authToken&&(re.authToken="[[redacted auth token]]"),"playerElementOrId"in ne&&zs(ne.playerElementOrId)&&(re.playerElementOrId="[[dom element replaced]]"),"videoElementOrId"in ne&&zs(ne.videoElementOrId)&&(re.videoElementOrId="[[dom element replaced]]"),"remoteConfig"in ne&&ne.remoteConfig&&(re.remoteConfig="[[explicitly set, for values see RemoteConfig]]"),re};var er=Gt(Zs()),Hi=class extends $s{beforeCreate(re){var Y,X;return!((Y=this.cdnBalancer)!=null&&Y.enabled)||(this.cdnBalancer.enableForSourceTypes||[]).length===0?Promise.resolve(re):Promise.resolve({...re,rootPlayerConfig:{...re.rootPlayerConfig||{},network:{...((X=re.rootPlayerConfig)==null?void 0:X.network)||{},sendHttpRequest:this.npawPlugin.getBitmovinSendHttpRequest()}}})}setAdapter(){if(!this.player)return;this.fireStopOnDestroy=!1;let re=this.player.getPlayerAdapter().getRootPlayer();this.npawPlugin.registerAdapterFromClass(re,er.default.video.Bitmovin)}ignoreErrorList(){let re=Array.from(Array(100).keys());return[...re.map(Y=>1e3+Y),...re.map(Y=>1100+Y),...re.map(Y=>1200+Y),...re.map(Y=>1300+Y),...re.map(Y=>1400+Y),...re.map(Y=>2e3+Y),...re.map(Y=>2100+Y)].map(Y=>String(Y))}};return pn(Cn);})();

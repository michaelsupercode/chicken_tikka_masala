(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,i||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==e(i)?i:String(i)}function i(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t(a.key),a)}}function n(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,n(e,t,"get"))}function s(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,n(e,t,"set"),i),i}Object.freeze({S:"mobile",M:"tablet",L:"desktop"}),Object.freeze({disqus:"5edcd338e9f29f59f3145eb5",facebook:"5f058a3252874c10f6723b3b",instagram:"5e717c8e69966540e4554f05",ivw:"5efefe25b8e05c065164a2e2",pinterest:"5e839a38b8e05c4e491e738e",rewe:"61543ab9cadf5705ef20368d",riddle:"5ef0df6ffabc265f5650e743",sovendus:"5f2bd972f66f0125e264ae21",tracdelight:"5e77acddd8d48d795087425b",twitter:"5e71760b69966540e4554f01",youtube:"5e7ac3fae30e7d1bc1ebf5e8"});var r=Object.freeze({XS:0,S:415,M:641,L:1001,XL:1280,XXL:1900});var o="app:adreload-pi",c="device:orientation-change",l="forum:interaction",d="group-gallery:intersect:item",h="group-gallery:navigate",f="link-toc:click",u="message:tracking",g="plant-meta:click",v="tool:pi",p="video:event",w="x-clamp:change";function b(e,t){y(e,t),t.add(e)}function m(e,t,i){y(e,t),t.set(e,i)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function k(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var S=new WeakMap,W=new WeakMap,O=new WeakMap,E=new WeakMap,j=new WeakSet,L=new WeakSet,M=new WeakSet,T=new WeakSet,N=new WeakSet,P=new WeakSet,A=new WeakSet,C=new WeakSet,x=new WeakSet,z=new WeakSet,I=new WeakSet,V=function(){function e(t){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,I),b(this,z),b(this,x),b(this,C),b(this,A),b(this,P),b(this,N),b(this,T),b(this,M),b(this,L),b(this,j),m(this,S,{writable:!0,value:void 0}),m(this,W,{writable:!0,value:void 0}),m(this,O,{writable:!0,value:void 0}),m(this,E,{writable:!0,value:void 0}),s(this,S,t),s(this,W,(i=a(this,S).deviceDetection.isMobile,a(this,S).config.get("page.isPrintView")?window.screen.width<r.M||i:Math.max(document.documentElement.clientWidth,window.innerWidth||0)<r.M||i)),s(this,O,window.NOLBUNDLE)}var t,n,o;return t=e,(n=[{key:"init",value:function(){var e=this;k(this,M,U).call(this),window.addEventListener("pageshow",(function(t){t.persisted&&k(e,M,U).call(e)})),window.addEventListener("pagehide",k(this,N,_).bind(this))}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function B(){return"object"===e(a(this,O))||(a(this,S).log.warn("Tracking","Nielsen: No static measurement tracking possible, because window.NOLBUNDLE is not present."),!1)}function D(){a(this,S).eventObserver.add(o,k(this,P,q).bind(this)),a(this,S).eventObserver.add(c,k(this,P,q).bind(this)),a(this,S).eventObserver.add(l,k(this,P,q).bind(this)),a(this,S).eventObserver.add(d,k(this,x,Q).bind(this)),a(this,S).eventObserver.add(h,k(this,z,R).bind(this)),a(this,S).eventObserver.add(f,k(this,P,q).bind(this)),a(this,S).eventObserver.add(u,k(this,A,G).bind(this)),a(this,S).eventObserver.add(g,k(this,P,q).bind(this)),a(this,S).eventObserver.add(v,k(this,P,q).bind(this)),a(this,S).eventObserver.add(p,k(this,C,F).bind(this)),a(this,S).eventObserver.add(w,k(this,P,q).bind(this))}function U(){if(k(this,j,B).call(this)){var e=a(this,S).config.get("cache.tracking.config.nielsen.appId");s(this,E,a(this,O).nlsQ(e,"nlsnInstance")),k(this,T,X).call(this,{type:"initial",isVideo:a(this,S).config.get("page.doAutoplayLeadContent")}),k(this,L,D).call(this)}}function X(e){var t=e.type,i=e.isVideo;window.articlemetadata=k(this,I,Z).call(this,"virtual"===t,i),a(this,E).ggPM("staticstart",window.articlemetadata),a(this,S).log.info("Tracking","Nielsen: Track ".concat(t," page view with"),window.articlemetadata)}function _(){a(this,E).ggPM("staticend",window.articlemetadata),a(this,S).log.info("Tracking","Nielsen: End previous session",window.articlemetadata)}function q(e){k(this,j,B).call(this)&&(window.articlemetadata&&k(this,N,_).call(this),k(this,T,X).call(this,{type:"virtual",isVideo:"play:initial"===(null==e?void 0:e.action)}))}function G(e){var t;null!=e&&null!==(t=e.frequency)&&void 0!==t&&t.tracking&&k(this,P,q).call(this)}function F(e){"play:initial"===e.action&&!a(this,S).config.get("page.doAutoplayLeadContent")&&(a(this,S).log.info("Tracking","Nielsen: Fire manual video page pi"),k(this,P,q).call(this,e))}function Q(e){var t=e.count,i=e.element,n=e.index,a=e.isEmbeddedGallery,s=void 0!==a&&a;if(0!==t||0!==n)if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<r.L){if(!i||i.dataset.hasNielsenTracked||0===n&&!s)return;s||(i.dataset.hasNielsenTracked="true"),k(this,P,q).call(this)}else k(this,P,q).call(this)}function R(){k(this,P,q).call(this)}function Z(e,t){var i=function(e,t,i,n,a,s,r){return["".concat(t,"//").concat(r?"p":"f"),"mobile"===n?[2]:"desktop"===n?[1]:[2,1],"D".concat(s?"V":"B").concat(a?"U":"R","-").concat(i).concat(e?"-".concat(e):"")].join("")}(a(this,S).config.get("tracking.ivw.cpSuffix"),a(this,S).config.get("advertising.zone"),a(this,S).config.get("tracking.ivw.topic"),a(this,W)?"mobile":"desktop",a(this,S).config.get("page.isUserGeneratedContent"),t,a(this,S).config.get("page.isPaidContent")),n=a(this,S).config.get("cache.tracking.data.ga.categories");return{type:"static",assetid:a(this,S).config.get("cache.tracking.meta.contentId"),section:Array.isArray(n)?n.join("_").replace(/[^A-Za-z0-9_-]/g,"_"):"not_set",segA:i,segB:e?"WPI":"CPI"}}var H=window.gujService;H&&!H.isAlreadyExecuted("file:///usr/src/app/client/site/partials/tracking-nielsen/scripts/tracking-nielsen.js")&&new V(H).init()})();
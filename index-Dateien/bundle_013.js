"use strict";var foundation=foundation||{};foundation.player=foundation.player||{};foundation.player.core=(()=>{var Or=Object.create;var fe=Object.defineProperty;var _r=Object.getOwnPropertyDescriptor;var Dr=Object.getOwnPropertyNames;var Nr=Object.getPrototypeOf,Ir=Object.prototype.hasOwnProperty;var zt=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Fr=(r,e)=>{for(var t in e)fe(r,t,{get:e[t],enumerable:!0})},Gt=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Dr(e))!Ir.call(r,n)&&n!==t&&fe(r,n,{get:()=>e[n],enumerable:!(i=_r(e,n))||i.enumerable});return r};var D=(r,e,t)=>(t=r!=null?Or(Nr(r)):{},Gt(e||!r||!r.__esModule?fe(t,"default",{value:r,enumerable:!0}):t,r)),Vr=r=>Gt(fe({},"__esModule",{value:!0}),r);var Xt=zt(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ErrorCodes=void 0;Ee.ErrorCodes={FALLBACK_DRM_ERROR:1e4,AUTHENTICATION_FAILED:11e3,TOKEN_PROBLEM:11100,TOKEN_INVALID:11110,TOKEN_MISSING:11120,PERMISSION_PROBLEM:11200,PAY_PERMISSION_MISSING:11210,DOWNLOAD_PERMISSION_MISSING:11220,RIGHTS_RESTRICTIONS_NOT_MET:12e3,GEOBLOCKING:12100,USING_OF_AN_ANONYM_PROXY_OR_VPN:12110,LOCATION_NOT_ALLOWED:12120,HDCP_REQUIREMENT_NOT_FULFILLED:12300,DEVICE_IS_DENYLISTED_BY_GOOGLE_FOR_WIDEVINE:12400,LICENSE:13e3,LICENSE_EXPIRED:13100,LICENSE_NOT_PERSISTABLE:13200,LICENSE_ENVIRONMENT:13300,INVALID_MISSING_FAIRPLAY_CERTIFICATE_URL:13310,INVALID_FAIRPLAY_CERTIFICATE_DATA:13320,CONTENT:2e4,MEDIA_FORMAT_UNSUPPORTED:20100,AVAILABILITY:21e3,CONTENT_NOT_AVAILABLE:21100,SOURCE_MATERIAL_NOT_AVAILABLE:21110,CONTENT_NOT_DOWNLOADABLE:21200,CLIENT:3e4,NO_PLAYABLE_TRACK_LEFT:30100,NETWORK_PROBLEM:31e3,BAD_INTERNET_CONNECTION:31110,PLATFORM:32e3,UNSUPPORTED_DRM:32100,NO_DRM_OPTION_AVAILABLE_ANY_MORE:32110,DRM_NOT_FULLY_IMPLEMENTED:32120,UNSUPPORTED_STREAM_TECH:32200,NO_MANIFESTS_PLAYABLE:32210,MANIFEST_NOT_SUPPORTED:32220,MAX_CONCURRENT_STREAMS_REACHED:33100,PLAYERCONFIG_PROBLEM:34e3,ADBLOCKER_DETECTED:34100,VIDEOSOURCES_CONFIG:34200,NO_MANIFEST_IN_CONFIG:34210,MISSING_PLAYER_ELEMENT_OR_ID:34300,FAULTY_ADVERTISING_ISLAND_CONFIGURED:34510,PLAYER_ALREADY_DESTROYED:35100,FAULTY_SETUP_FOR_NON_LINEAR_ADVERTISING:35210,MISSING_USER_INTERACTION:35310,OPERATION_ABORTED:35400,OPERATION_ABORTED_PLAY:35410,OPERATION_ABORTED_LOAD:35420,OPERATION_ABORTED_POWER_SAVING:35430,OPERATION_ABORTED_VIDEO_REMOVED:35440,DEPENDENCY:4e4,V3_UNAVAILABLE:41100,ENTITLEMENT_UNAVAILABLE:41200,DB_UNAVAILABLE:41300,GOOGLE_WIDEVINE_UNAVAILABLE:41400,MANIFEST_API_UNAVAILABLE:41500,OTHER_UNAVAILABLE:41600,ATV_SCHEDULER_UNAVAILABLE:41700,STUS_UNAVAILABLE:41800,ATV_SCHEDULER_REQUEST_FAILED_HTTP_STATUS_CODE_4XX:42700,ATV_SCHEDULER_REQUEST_FAILED_HTTP_STATUS_CODE_5XX:42710,STUS_RETURNS_4XX_ERROR:42800,ATV_SCHEDULER_REQUEST_TIMED_OUT:43700,INTERNAL_PLAYER_ERROR:5e4,UNEXPECTED_EVENT:51e3,PLAYER_DEPENDENCIES_COULD_NOT_BE_LOADED:52110,PLAYER_DEPENDENCY_MISSING:52120,PLAYER_DEPENDENCY_INVALID:52130,ERROR_NOT_TREATED:59e3}});var O=zt(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.ErrorCodes=void 0;var Br=Xt();Object.defineProperty(Se,"ErrorCodes",{enumerable:!0,get:function(){return Br.ErrorCodes}})});var xi={};Fr(xi,{AbstractPlayerAdapter:()=>Ze,AbstractPlayerPlugin:()=>Ft,AdClipEvent:()=>rt,AdClipType:()=>Wt,AdError:()=>et,AdQuartileReachedEvent:()=>ut,AdSlotEvent:()=>q,AdSlotType:()=>I,AdSlotsCreated:()=>tt,AdvertisingEvent:()=>T,AdvertisingSlotConfigType:()=>jt,AudioTrackSelectedEvent:()=>$e,BaseAdvertisingEvent:()=>L,ContentState:()=>Dt,CueEvent:()=>$,FoundationDestroy:()=>X,FoundationErrorEvent:()=>S,FoundationEventBase:()=>g,FoundationPlayer:()=>ye,HomadActivation:()=>lt,HomadPenalty:()=>pt,InitAdSlot:()=>it,MPDParser:()=>Mi,Media:()=>G,MediaAdaptionEvent:()=>je,MediaLoadEvent:()=>ae,MediaState:()=>It,MediaType:()=>Kt,MetadataUpdatedEvent:()=>oe,MetricEvent:()=>V,OpenClickThrough:()=>dt,PauseAd:()=>at,PlaybackSpeedChangedEvent:()=>Je,PlayerEvent:()=>u,PlayerMetric:()=>Ie,RequestType:()=>he,ResumeAd:()=>ot,Seeked:()=>Ke,SessionStart:()=>ne,SessionState:()=>Nt,SkipAd:()=>st,StopAdSlot:()=>nt,SubtitlesSelectedEvent:()=>Xe,TextTrackSelectedEvent:()=>be,TimeEvent:()=>We,TimedMetadataEvent:()=>Qe,ViewMode:()=>$t,VolumeChangedEvent:()=>Ge,addHeadersToRequest:()=>pi,createPlayer:()=>yi,decodeJSONBuffer:()=>gi,eventMapper:()=>hi,getVersion:()=>Bt,hasPublicApi:()=>Vt,isConfigurablePlayerPlugin:()=>li,isLive:()=>Ei,isVod:()=>bi,parseBrowserError:()=>Li});var Wt={Opener:"opener",Closer:"closer",Bumper:"bumper",Commercial:"commercial",ContentFrame:"contentframe",Overlay:"overlay",Sponsored:"sponsored",Unknown:"unknown"},I={PreRoll:"PRE_ROLL",MidRoll:"MID_ROLL",PostRoll:"POST_ROLL",NonLinear:"NON_LINEAR"},te={AdStarted:"advertising:AdStarted",AdStopped:"advertising:AdStopped",AdSlotStarted:"advertising:AdSlotStarted",AdSlotStopped:"advertising:AdSlotStopped",AdSlotCompleted:"advertising:AdSlotCompleted"},jt={Linear:"LINEAR",NonLinear:"NON_LINEAR"},H={GrunerUndJahr:"grunerundjahr",RTLPlusWatch:"rtlplusmpawatch",RTLPlusRadio:"rtlplusmparadio",RTLPlusAudiobook:"rtlplusmpaaudiobook",RTLPlusPodcast:"rtlplusmpapodcast",SuperRTLToggo:"superrtltoggo",MediaHub:"mediahub",RTLDigitalNews:"rtldigitalnews",CorporateSites:"corporatesites"},Di={[H.RTLPlusWatch]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[H.RTLPlusRadio]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[H.RTLPlusAudiobook]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[H.RTLPlusPodcast]:{Web:"web",Tizen:"tizen",LG:"lg",Magenta:"magenta",Sky:"sky",Chromecast:"chromecast"},[H.RTLDigitalNews]:{NTV:"ntv",Capital:"capital",Geo:"geo",RTL:"rtl",Sport:"sport",Stern:"stern",Wetter:"wetter"},[H.CorporateSites]:{BusinessPortal:"businessportal",Crime:"crime",GeoTV:"geotv",JournalistenSchule:"journalistenschule",Living:"living",Nitro:"nitro",Passion:"passion",RTLSuper:"rtlsuper",RTLUp:"rtlup",SchlagerLiebe:"schlagerliebe",VOX:"vox"},[H.GrunerUndJahr]:{BabyClub:"babyclub",Brigitte:"brigitte",Eltern:"eltern",EssenUndTrinken:"essenundtrinken",Gala:"gala",Geolino:"geolino",LivingAtHome:"livingathome",SchoenerWohnen:"schoenerwohnen",Urbia:"urbia",VIP:"vip",Vorname:"vorname"}},R={PlayReady:"playready",Widevine:"widevine",FairPlay:"fairplay",None:"none"};var re={None:0,Error:10,Warn:20,Info:30,Debug:40,Trace:50},ie={Main:"main",Fallback:"fallback"},C={DashHD:"dashhd",DashSD:"dashsd",HlsHD:"hlsfairplayhd",HlsSD:"hlsfairplaysd",Progressive:"progressive"};var F={VOD:"vod",Live:"live",Event:"event",FAST:"fast",Podcast:"podcast",Audiobook:"audiobook",Radio:"radio"};var w={DASH:"DASH",HLS:"HLS",Progressive:"Progressive"},ve={PlayerCreated:"player:PlayerCreated",MediaStarted:"player:MediaStarted",ContentStart:"player:ContentStart",ContentEnd:"player:ContentEnd",SessionStart:"player:SessionStart",SessionEnd:"player:SessionEnd",Destroy:"player:Destroy",HDCPFallback:"player:HDCPFallback",CueEnter:"player:CueEnter",CueExit:"player:CueExit",Error:"player:Error",Muted:"player:Muted",Unmuted:"player:Unmuted",Play:"player:Play",Paused:"player:Paused",PlaybackSpeedChanged:"player:PlaybackSpeedChanged",Playing:"player:Playing",Ready:"player:Ready",Seek:"player:Seek",Seeked:"player:Seeked",StallStarted:"player:StallStarted",StallEnded:"player:StallEnded",TimeChanged:"player:TimeChanged",VolumeChanged:"player:VolumeChanged",AudioTrackSelected:"player:AudioTrackSelected",TextTrackSelected:"player:SubtitlesSelected",SubtitlesSelected:"player:SubtitlesSelected",MetadataUpdated:"player:MetadataUpdated"},he={DRM:"foundation.player.drm",Entitlement:"foundation.plugin.entitlement",Webhook:"foundation.plugin.webhook",ConcurrentStreamCheck:"foundation.plugin.concurrentStreamCheck",Nielsen:"foundation.plugin.nielsen"};var u={...ve,UpdateMetaData:"player:UpdateMetaData",TimedMetadata:"player:TimedMetadata",MetricAdded:"player:MetricAdded",PlayerLoaded:"player:PlayerLoaded",MediaLoad:"player:MediaLoad",MediaLoaded:"player:MediaLoaded",Destroyed:"player:Destroyed",Metadata:"player:Metadata",PlaybackFinished:"player:PlaybackFinished",ContentReady:"player:ContentReady",SourceLoaded:"player:SourceLoaded",SourceUnloaded:"player:SourceUnloaded",StallingFix:"player:StallingFix",MediaAdaptation:"player:MediaAdaptation",AutoplaySuccessful:"player:AutoplaySuccessful",TrackChanged:"player:TrackChanged",KeySystemSelected:"player:KeySystemSelected"};var g=class extends Event{constructor(e,t={}){super(e),this.originalEvent=t.originalEvent}},$=class extends g{constructor(e,t){super(e,t),this.start=t.start,this.end=t.end,this.text=t.text,this.subtitleId=t.cueId,this.cueId=t.cueId}},Ge=class extends g{constructor(e,t){super(e,t),this.currentVolume=t.currentVolume}},We=class extends g{constructor(e,t){super(e,t),this.time=t.time,this.timestamp=t.timestamp}},S=class extends g{constructor(e,t){super(e,t),this.code=t.code,this.message=t.message,this.response=t.response,this.responseText=t.responseText,this.name=t.name,this.context=t.context,Ur(this.response)&&(this.code=this.response.errorCode,this.message=this.response.error)}},X=class extends g{constructor(e,t){super(e,t),this.cause=typeof t.cause=="string"?t.cause:t.cause.type,this.error=typeof t.cause!="string"?t.cause:void 0}};function Ur(r){return r!==null&&typeof r=="object"&&"origin"in r&&typeof r.origin=="string"&&"errorCode"in r&&typeof Number(r.errorCode)=="number"&&"error"in r&&typeof r.error=="string"}var Kt=(t=>(t.Video="video",t.Audio="audio",t))(Kt||{}),je=class extends g{constructor(e,t){super(e,t),this.representationId=t.representationId,this.mediaType=t.mediaType}},Ke=class extends g{constructor(e,t){super(e,t),this.startPosition=t.startPosition,this.seekPosition=t.seekPosition}},ne=class extends g{constructor(t){super(u.SessionStart);this.id=t}},ae=class extends g{constructor(e,t){super(e,t),this.mediaId=t.mediaId}},V=class extends g{constructor(e,t){super(e,t),this.start=t.start,this.end=t.end,this.duration=t.duration||this.end-this.start}},$e=class extends g{constructor(e){super(u.AudioTrackSelected,e),this.audioTrack=e.audioTrack}},be=class extends g{constructor(e){super(u.TextTrackSelected,e),this.subtitles=e.textTrack,this.textTrack=e.textTrack}},Xe=class extends be{},Je=class extends g{constructor(e){super(u.PlaybackSpeedChanged,e),this.playbackSpeed=e.playbackSpeed}},Qe=class extends g{constructor(e){super(u.TimedMetadata,e),this.metadata=e.metadata,this.playhead=e.playhead}},oe=class extends Event{constructor(t){super(u.MetadataUpdated);this.metadata=t}};var Ze=class{constructor(e,t){this.playerContainer=e;this.loggerPlayerAdapter=t;this.drmType=R.None;this.maxBitrate={video:0,audio:0};this.unsubscribers=[];this.currentState=this.getInitialState(),this.emitEvent=i=>{e.dispatchEvent(i)},e.addEventListener(u.StallStarted,()=>{this.currentState.stalled=!0}),e.addEventListener(u.StallEnded,()=>{this.currentState.stalled=!1})}addEventListener(e,t){this.on(e,t);let i=()=>{this.off(e,t)};return this.unsubscribers.push(i),i}removeEventListener(e,t){this.off(e,t)}addUnsubscriber(e){this.unsubscribers.push(e)}unsubscribeAll(){for(;this.unsubscribers.length;){let e=this.unsubscribers.pop();if(e)try{e()}catch(t){this.loggerPlayerAdapter.error("error during unsubscribe:",t)}}}isFullscreen(){return this.playerContainer.isFullscreen()}async getRequestHeader(e){if(this.requestHeaderCallback)try{let t=await this.requestHeaderCallback(e);return this.loggerPlayerAdapter.debug(`Result of requestHeaderCallback for type '${e}':`,t),t}catch(t){this.loggerPlayerAdapter.error(`Error while processing requestHeaderCallback for type '${e}':`,t)}}setRequestHeaderCallback(e){this.requestHeaderCallback=e}getAvailableVideoTracks(){return this.getVideoTracks()}getActiveVideoTrack(){return this.getVideoTracks().find(e=>e.isActive)}getAvailableTextTracks(){return this.getTextTracks().filter(this.isEmptyLanguageTrack.bind(this))}getActiveTextTrack(){return this.getTextTracks().find(e=>e.isActive)}getAvailableAudioTracks(){return this.getAudioTracks().filter(this.isEmptyLanguageTrack.bind(this))}getActiveAudioTrack(){return this.getAudioTracks().find(e=>e.isActive)}isEmptyLanguageTrack(e){return e.language||this.loggerPlayerAdapter.warn(`Track with id '${e.id}' was filtered out because it has no set language`),!!e.language}setMaxBitrate(e){this.maxBitrate={...this.maxBitrate,...e}}getMaxBitrate(){return this.maxBitrate}fireMediaLoadedEventOnce(){this.currentState.loaded||(this.currentState.loaded=!0,this.emitEvent(new g(u.MediaLoaded)))}getInitialState(){return{time:void 0,finished:!1,loaded:!1,stalled:!1,source:""}}resetCurrentState(){this.currentState=this.getInitialState()}show(){let e=this.getVideoElement();return e&&(e.style.display="block"),Promise.resolve()}hide(){let e=this.getVideoElement();return e&&(e.style.display="none"),Promise.resolve()}canReUseVideoElement(){return!1}getPlayerContainerElement(){return this.playerContainer.getPlayerElement()}setDRMType(e,t=!0){this.drmType=e,t&&this.emitEvent(new g(u.KeySystemSelected))}getDRMType(){return this.drmType}};var $t=(t=>(t.NORMAL="normal",t.FULLSCREEN="fullscreen",t))($t||{});var T={...te,AdSlotsCreated:"advertising:AdSlotsCreated",InitAdSlot:"advertising:InitAdSlot",AdSlotReady:"advertising:AdSlotReady",PauseAd:"advertising:PauseAd",ResumeAd:"advertising:ResumeAd",SkipAd:"advertising:SkipAd",StartAdSlot:"advertising:StartAdSlot",StopAdSlot:"advertising:StopAdSlot",OpenClickThrough:"advertising:OpenClickThrough",HomadActivation:"advertising:HomadActivation",HomadPenalty:"advertising:HomadPenalty",AdError:"advertising:AdError",AdQuartileReached:"advertising:AdQuartileReached"};var L=class extends g{constructor(e,t={}){super(e,t)}},et=class extends L{constructor(t,i){super(t,i);this.opts=i;this.code=i.code,this.message=i.message}},tt=class extends L{constructor(e){super(T.AdSlotsCreated,e),this.adSlots=e.adSlots}},q=class extends L{constructor(e,t){super(e,t),this.adSlot=t.adSlot}},rt=class extends L{constructor(e,t){super(e,t),this.adClip=t.adClip}},it=class extends q{constructor(e){super(T.InitAdSlot,e),this.autoplay=e.autoplay}},nt=class extends q{constructor(e){super(T.StopAdSlot,e),this.reason=e.reason}},at=class extends L{constructor(e={}){super(T.PauseAd,e)}},ot=class extends L{constructor(e={}){super(T.ResumeAd,e)}},st=class extends L{constructor(e={}){super(T.SkipAd,e)}},dt=class extends L{constructor(e={}){super(T.OpenClickThrough,e)}},lt=class extends q{constructor(e){super(T.HomadActivation,e),this.reason=e.reason}},pt=class extends q{constructor(e){super(T.HomadPenalty,e)}},ut=class extends L{constructor(e){super(T.AdQuartileReached,e),this.quartile=e.quartile}};var Ht=D(O());var ct=D(O());var A=r=>{var t;if(!r){let i=new Error("Cannot return a logger for an empty namespace");throw Object.assign(i,{code:ct.ErrorCodes.INTERNAL_PLAYER_ERROR}),i}let e=(t=window.foundation)==null?void 0:t.logger;if(!e){let i=new Error("Logger on the window object wasn't initialized yet when getLogger() was called");throw Object.assign(i,{code:ct.ErrorCodes.PLAYER_DEPENDENCY_MISSING}),i}return e.getLogger(r)},En=re.Warn;var dr="",Jt="?";var Hr="undefined",qr="object",lr="string";var s="model",l="name",a="type",o="vendor",p="version",N="architecture",Te="console",v="mobile",f="tablet",x="smarttv",se="wearable",Qt="embedded",Yr=500,Ae="Amazon",de="Apple",Zt="ASUS",er="BlackBerry",Y="Browser",we="Chrome",zr="Edge",Pe="Firefox",Ce="Google",tr="Huawei",mt="LG",yt="Microsoft",rr="Motorola",le="Opera",ke="Samsung",ir="Sharp",Me="Sony",gt="Xiaomi",ft="Zebra",nr="Facebook",Gr="Chromium OS",Wr="Mac OS";var ar=function(r,e){return typeof r===lr?pe(e).indexOf(pe(r))!==-1:!1},pe=function(r){return r.toLowerCase()};var or=function(r,e){if(typeof r===lr)return r=r.replace(/^\s\s*/,dr),typeof e===Hr?r:r.substring(0,Yr)};var vt=function(r,e){for(let t in e)if(typeof e[t]===qr&&e[t].length>0){for(let i=0;i<e[t].length;i++)if(ar(e[t][i],r))return t===Jt?void 0:t}else if(ar(e[t],r))return t===Jt?void 0:t;return r},jr={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},sr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Tn={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,p],[/opios[\/ ]+([\w\.]+)/i],[p,[l,le+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[l,le+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[l,le]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[l,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,p],[/\bddg\/([\w\.]+)/i],[p,[l,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[l,"UC"+Y]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[l,"Smart Lenovo "+Y]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+Y],p],[/\bfocus\/([\w\.]+)/i],[p,[l,Pe+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[l,le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[l,le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI "+Y]],[/fxios\/([-\w\.]+)/i],[p,[l,Pe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+Y]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+Y],p],[/samsungbrowser\/([\w\.]+)/i],[p,[l,ke+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/metasr[\/ ]?([\d\.]+)/i],[p,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[l,p],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,nr],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[l,we+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,we+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[l,"Android "+Y]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[p,vt,jr]],[/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[l,Pe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[l,p],[/(cobalt)\/([\w\.]+)/i],[l,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[N,"amd64"]],[/(ia32(?=;))/i],[[N,pe]],[/((?:i[346]|x)86)[;\)]/i],[[N,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[N,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[N,"armhf"]],[/windows (ce|mobile); ppc;/i],[[N,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[N,/ower/,dr,pe]],[/(sun4\w)[;\)]/i],[[N,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[N,pe]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[o,ke],[a,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[o,ke],[a,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[s,[o,de],[a,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[o,de],[a,f]],[/(macintosh);/i],[s,[o,de]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[o,ir],[a,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[o,tr],[a,f]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[o,tr],[a,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[o,gt],[a,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[o,gt],[a,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[o,"OPPO"],[a,v]],[/\b(opd2\d{3}a?) bui/i],[s,[o,"OPPO"],[a,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[o,"Vivo"],[a,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[s,[o,"Realme"],[a,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[o,rr],[a,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[o,rr],[a,f]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[o,mt],[a,f]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[o,mt],[a,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[o,"Lenovo"],[a,f]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[o,"Nokia"],[a,v]],[/(pixel c)\b/i],[s,[o,Ce],[a,f]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[o,Ce],[a,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[o,Me],[a,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[o,Me],[a,f]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[o,"OnePlus"],[a,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[o,Ae],[a,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[o,Ae],[a,v]],[/(playbook);[-\w\),; ]+(rim)/i],[s,o,[a,f]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[o,er],[a,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[o,Zt],[a,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[o,Zt],[a,v]],[/(nexus 9)/i],[s,[o,"HTC"],[a,f]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[o,[s,/_/g," "],[a,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[o,"Acer"],[a,f]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[o,"Meizu"],[a,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[s,[o,"Ulefone"],[a,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[o,s,[a,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[o,s,[a,f]],[/(surface duo)/i],[s,[o,yt],[a,f]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[o,"Fairphone"],[a,v]],[/(u304aa)/i],[s,[o,"AT&T"],[a,v]],[/\bsie-(\w*)/i],[s,[o,"Siemens"],[a,v]],[/\b(rct\w+) b/i],[s,[o,"RCA"],[a,f]],[/\b(venue[\d ]{2,7}) b/i],[s,[o,"Dell"],[a,f]],[/\b(q(?:mv|ta)\w+) b/i],[s,[o,"Verizon"],[a,f]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[o,"Barnes & Noble"],[a,f]],[/\b(tm\d{3}\w+) b/i],[s,[o,"NuVision"],[a,f]],[/\b(k88) b/i],[s,[o,"ZTE"],[a,f]],[/\b(nx\d{3}j) b/i],[s,[o,"ZTE"],[a,v]],[/\b(gen\d{3}) b.+49h/i],[s,[o,"Swiss"],[a,v]],[/\b(zur\d{3}) b/i],[s,[o,"Swiss"],[a,f]],[/\b((zeki)?tb.*\b) b/i],[s,[o,"Zeki"],[a,f]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[o,"Dragon Touch"],s,[a,f]],[/\b(ns-?\w{0,9}) b/i],[s,[o,"Insignia"],[a,f]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[o,"NextBook"],[a,f]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[o,"Voice"],s,[a,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[o,"LvTel"],s,[a,v]],[/\b(ph-1) /i],[s,[o,"Essential"],[a,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[o,"Envizen"],[a,f]],[/\b(trio[-\w\. ]+) b/i],[s,[o,"MachSpeed"],[a,f]],[/\btu_(1491) b/i],[s,[o,"Rotor"],[a,f]],[/(shield[\w ]+) b/i],[s,[o,"Nvidia"],[a,f]],[/(sprint) (\w+)/i],[o,s,[a,v]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[o,yt],[a,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[o,ft],[a,f]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[o,ft],[a,v]],[/smart-tv.+(samsung)/i],[o,[a,x]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[o,ke],[a,x]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[o,mt],[a,x]],[/(apple) ?tv/i],[o,[s,de+" TV"],[a,x]],[/crkey/i],[[s,we+"cast"],[o,Ce],[a,x]],[/droid.+aft(\w+)( bui|\))/i],[s,[o,Ae],[a,x]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[o,ir],[a,x]],[/(bravia[\w ]+)( bui|\))/i],[s,[o,Me],[a,x]],[/(mitv-\w{5}) bui/i],[s,[o,gt],[a,x]],[/Hbbtv.*(technisat) (.*);/i],[o,s,[a,x]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[o,or],[s,or],[a,x]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,x]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[o,s,[a,Te]],[/droid.+; (shield) bui/i],[s,[o,"Nvidia"],[a,Te]],[/(playstation [345portablevi]+)/i],[s,[o,Me],[a,Te]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[o,yt],[a,Te]],[/((pebble))app/i],[o,s,[a,se]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[s,[o,de],[a,se]],[/droid.+; (glass) \d/i],[s,[o,Ce],[a,se]],[/droid.+; (wt63?0{2,3})\)/i],[s,[o,ft],[a,se]],[/(quest( \d| pro)?)/i],[s,[o,nr],[a,se]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[o,[a,Qt]],[/(aeobc)\b/i],[s,[o,Ae],[a,Qt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[s,[a,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[a,f]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,f]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[a,v]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[o,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[l,zr+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[l,[p,vt,sr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,vt,sr],[l,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,Wr],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,p],[/\(bb(10);/i],[p,[l,er]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[l,Pe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[l,we+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,Gr],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,p],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,p]]};var Kr=()=>{var e;let r=(e=window.foundation)==null?void 0:e.platformCheck;if(!r)throw new Error("platformCheck on the window object wasn't initialized yet when getPlatformCheck() was called");return r},k=()=>{let r=Kr();if(!r.uaParser)throw new Error("uaParser on the window object wasn't initialized yet when getUAParser() was called");return r.uaParser},pr=()=>k().getUA().includes("Sky, ES160"),$r=()=>{let r=k().getUA();return["Sky, XiOne","Sky, ES340"].some(e=>r.includes(e))},ur=()=>pr()||$r(),ht=()=>{var r;return(r=k().getOS().name)!=null?r:""},ue=()=>["tizen"].includes(ht().toLocaleLowerCase()),Xr=()=>k().getUA().includes("Vodafone_Germany_GigaTV_4k_Box"),bt=()=>k().getUA().includes("VODAFONE_STB"),cr=()=>Xr()||bt(),mr=()=>ht().toLocaleLowerCase().includes("webos"),Jr=()=>{if(ue())return"Chrome";let r=k().getBrowser().name||"";return r==="Safari"&&(cr()||ur()||mr())?"WebKit":r||""},yr=()=>ue()?"":k().getBrowser().version||"",Qr=()=>k().getUA().includes("DT,MR200_MR400"),Zr=()=>{let r=k().getUA();return["DT,MR601SAT","DT,MR401","DT,MR201"].some(e=>r.includes(e))},ei=()=>k().getUA().includes("DT,MRG5");var Et=()=>Qr()||Zr()||ei()?!0:k().getUA().includes("DT_STB_BCM72");var gr=()=>ht().toLocaleLowerCase().includes("android")||!1,Le=()=>k().getUA().includes("CrKey"),fr=()=>{var r;return pr()?!1:ue()?!0:((r=k().getEngine().name)==null?void 0:r.toLocaleLowerCase())==="blink"};var ti=()=>ur()||Et()||cr()||Le(),St=()=>{let r=k();return mr()||ue()||ti()||Le()||r.getDevice().type==="smarttv"},vr=()=>St()?!1:Jr().toLocaleLowerCase().includes("safari");var xe=()=>{var r;return ue()?!1:((r=k().getEngine().name)==null?void 0:r.toLocaleLowerCase())==="webkit"};var P=[];for(Re=0;Re<256;++Re)P.push((Re+256).toString(16).slice(1));var Re;function hr(r,e=0){return(P[r[e+0]]+P[r[e+1]]+P[r[e+2]]+P[r[e+3]]+"-"+P[r[e+4]]+P[r[e+5]]+"-"+P[r[e+6]]+P[r[e+7]]+"-"+P[r[e+8]]+P[r[e+9]]+"-"+P[r[e+10]]+P[r[e+11]]+P[r[e+12]]+P[r[e+13]]+P[r[e+14]]+P[r[e+15]]).toLowerCase()}var Oe,ri=new Uint8Array(16);function Tt(){if(!Oe&&(Oe=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oe(ri)}var ii=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),At={randomUUID:ii};function ni(r,e,t){if(At.randomUUID&&!e&&!r)return At.randomUUID();r=r||{};var i=r.random||(r.rng||Tt)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var n=0;n<16;++n)e[t+n]=i[n];return e}return hr(i)}var z=ni;var U=class{constructor(){this.log=A("player.core.AutoplayDetection")}async isAutoplaySupported(e,t,i){if(!t)return this.log.debug("Autoplay is disabled by config"),t;i&&this.log.warn("Autoplay detection is performed on a muted video element.");let{result:n,error:d}=await this.isAutoplaySupportedForPlatform(e,i);return this.log.debug("Media autoplay",{config:{isAutoplayEnabled:t,isMuted:i},result:{isAutoplaySupported:n,error:d}}),n}};var J=class{video(e,t={timeout:250}){let i=URL.createObjectURL(this.getVideoSource());e.src=i,e.load();let n,d,c;return new Promise(m=>{n=e.play(),d=setTimeout(()=>{c(!1,new Error(`Timeout ${t.timeout}ms has been reached`))},t.timeout),c=(y,h=null)=>{e.src="",URL.revokeObjectURL(i),clearTimeout(d),m({result:y,error:h})},n!==void 0?n.then(()=>c(!0)).catch(y=>c(!1,y)):c(!0)})}getVideoSource(){return this.videoSource||(this.videoSource=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"})),this.videoSource}};var _e=class extends U{constructor(){super(),this.canAutoplay=new J}isAutoplaySupportedForPlatform(e,t){let i=document.createElement("video");return i.muted=t,i.autoplay=!0,i.playsInline=!0,this.canAutoplay.video(i).finally(()=>{i.remove()})}};var De=class extends U{constructor(){super(),this.canAutoplay=new J}isAutoplaySupportedForPlatform(e,t){return this.log.debug("Autoplay Detection on Safari"),e.muted=t,e.autoplay=!0,e.playsInline=!0,this.canAutoplay.video(e)}};var Ne=class extends U{isAutoplaySupportedForPlatform(){return Promise.resolve({result:!0})}};function br(){return St()?new Ne:xe()?new De:new _e}var kt=["com.microsoft.playready","com.microsoft.playready.recommendation"],Mt=["com.widevine.alpha"],Lt=["com.apple.fps.1_0","com.apple.fps"],ce=class{constructor(e,t){this.videoElement=e;this.logger=t;this.keySystems=["org.w3.clearkey",...Mt,...kt,...Lt,"com.adobe.primetime"];this.basicVideoCapabilities=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}];this.basicConfig={initDataTypes:["cenc"],videoCapabilities:this.basicVideoCapabilities};this.offlineConfig={videoCapabilities:this.basicVideoCapabilities,persistentState:"required",sessionTypes:["persistent-license"]};this.configs=[this.offlineConfig,this.basicConfig]}static canDetectDRMSupport(e){return!1}async detectDRMSupport(){this.logger.debug("Test drm support with the following media key system configurations",this.configs);let e=await Promise.all(this.keySystems.map(async t=>{if(t==="org.w3.clearkey"&&vr())return this.logger.debug(`Disable "${t}" support for Safari`),[t,{supported:!1}];this.logger.debug(`Test access support for "${t}"`);let i=await this.checkKeySystem(t);return[t,i]}));return this.logger.debug("Detected drm support for",e.filter(([t,i])=>i.supported)),Object.fromEntries(e)}},wt=class extends ce{static canDetectDRMSupport(e){return typeof navigator.requestMediaKeySystemAccess=="function"}async checkKeySystem(e){let t;try{this.logger.debug(`Test access support for "${e}"`);let i=await navigator.requestMediaKeySystemAccess(e,this.configs),n=i.getConfiguration().sessionTypes,d=n?n.includes("persistent-license"):!1;this.logger.debug(`Set preliminary support for "${e}"`),t={supported:!0,persistentState:d},this.logger.debug(`Create media keys for "${e}"`),await i.createMediaKeys()}catch(i){t={supported:!1},this.logger.debug(`Disable support for "${e}"`,i)}return t}},Pt=class extends ce{static canDetectDRMSupport(e){return typeof window.MSMediaKeys!="undefined"}checkKeySystem(e){var t;return{supported:((t=window.MSMediaKeys)==null?void 0:t.isTypeSupported(e))||!1}}},Ct=class extends ce{static canDetectDRMSupport(e){return"webkitGenerateKeyRequest"in e&&typeof e.webkitGenerateKeyRequest=="function"}checkKeySystem(e){return{supported:!!this.videoElement.canPlayType("video/mp4",e)}}};function Er(r){let e=A("player.core.capability.drmProbe"),i=[wt,Pt,Ct].find(d=>d.canDetectDRMSupport(r));return i?new i(r,e).detectDRMSupport():(e.warn("No support for checking DRM found"),Promise.resolve({}))}var xt=["application/dash+xml"],Rt=["application/x-mpegurl","application/vnd.apple.mpegurl"];function Sr(r){let e=A("player.core.capability.manifestProbe"),t=[...xt,...Rt,"application/vnd.ms-sstr+xml"],i={};for(let n of t){let d=r.canPlayType(n);i[n]=!!d,e.debug(`Test native manifest support for "${n}"`,{mimeType:n,supported:d||!1})}return i}function Tr(r){let e=A("player.core.capability.mediaProbe"),t=['video/mp4; codecs="avc1.42E01E"','video/mp4; codecs="avc3.42E01E"','video/mp4; codecs="hev1.1.6.L93.90"','video/mp4; codecs="hvc1.1.6.L93.90"','video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084"','video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084"','video/mp4; codecs="vp9"','video/mp4; codecs="vp09.00.10.08"','video/mp4; codecs="av01.0.01M.08"','audio/mp4; codecs="mp4a.40.2"','audio/mp4; codecs="ac-3"','audio/mp4; codecs="ec-3"','audio/mp4; codecs="opus"','audio/mp4; codecs="flac"','audio/mp4; codecs="dtsc"','audio/mp4; codecs="dtse"','audio/mp4; codecs="dtsx"','video/webm; codecs="vp8"','video/webm; codecs="vp9"','video/webm; codecs="vp09.00.10.08"','audio/webm; codecs="vorbis"','audio/webm; codecs="opus"','video/mp2t; codecs="avc1.42E01E"','video/mp2t; codecs="avc3.42E01E"','video/mp2t; codecs="hvc1.1.6.L93.90"','video/mp2t; codecs="mp4a.40.2"','video/mp2t; codecs="ac-3"','video/mp2t; codecs="ec-3"',"text/vtt",'application/mp4; codecs="wvtt"',"application/ttml+xml",'application/mp4; codecs="stpp"',"audio/aac","audio/ac3","audio/ec3","audio/mpeg"],i={};for(let n of t){let d=r.canPlayType(n);i[n]=!!d,e.debug(`Test native media type support for "${n}"`,{mimeType:n,supported:d||!1})}return i}async function Ar(r){if(Le())return ai();let t=A("player.core.capability.clientCapabilities"),i=Sr(r),n=Tr(r),d=await Er(r),c={streamTypes:[w.Progressive],encryptionTypes:[]},m=xt.filter(E=>i[E]);typeof MediaSource!="undefined"&&(t.debug("Add streamType",{streamType:w.DASH,nativeSupport:m}),c.streamTypes.push(w.DASH));let y=Rt.filter(E=>i[E]);xe()&&y.length>0&&(c.streamTypes.push(w.HLS),t.debug("Add streamType",{streamType:w.HLS,nativeSupport:y}));let h=kt.filter(E=>E in d&&d[E].supported);h.length>0&&(c.encryptionTypes.push(R.PlayReady),t.debug("Add encryptionType",{encryptionType:R.PlayReady,drmSupport:h}));let b=Mt.filter(E=>E in d&&d[E].supported);b.length>0&&(c.encryptionTypes.push(R.Widevine),t.debug("Add encryptionType",{encryptionType:R.Widevine,drmSupport:b}));let M=Lt.filter(E=>E in d&&d[E].supported);return M.length>0&&(c.encryptionTypes.push(R.FairPlay),t.debug("Add encryptionType",{encryptionType:R.FairPlay,drmSupport:M})),{capabilities:c,manifest:i,media:n,drm:d}}function ai(){return{capabilities:{streamTypes:[w.Progressive,w.DASH],encryptionTypes:[R.Widevine]},manifest:{},media:{},drm:{}}}var Ie=(m=>(m.LoaderCreation="metric:LoaderCreation",m.BuilderCreation="metric:BuilderCreation",m.PlayerCreation="metric:PlayerCreation",m.MediaLoad="metric:MediaLoad",m.MediaPlay="metric:MediaPlay",m.MediaPlayAfterAd="metric:MediaPlayAfterAd",m.AdSlotLoad="metric:AdSlotLoad",m))(Ie||{});var me=D(O());var Q=class{constructor(r,e){this.statusCode=r,this.body=e}getStatus(){return this.statusCode}getBody(){return Promise.resolve(this.body)}},Z=class{post(r,e,t={}){var i,n;return this.fetch(r,{body:JSON.stringify(e),headers:this.getHeaders((i=t.headers)!=null?i:{}),method:"POST",timeout:(n=t.timeout)!=null?n:void 0})}get(r,e={}){var t,i;return this.fetch(r,{headers:this.getHeaders((t=e.headers)!=null?t:{}),method:"GET",timeout:(i=e.timeout)!=null?i:void 0})}fetch(r,e){if(!this.isFetchSupported())return Promise.reject("'fetch' is not available in this browser environment");if(e.timeout&&this.canAbortFetch()){let t=this.controller,i=setTimeout(()=>t.abort("timeout"),e.timeout);return this.handleFetch(r,{...e,signal:t.signal}).then(n=>(clearTimeout(i),n))}return this.handleFetch(r,e)}handleFetch(r,e){return fetch(r,e).then(this.handleResponse).catch(this.handleError)}handleResponse(r){let e=r.clone(),t=r.json().catch(()=>e.text()),i=new Q(r.status,t);return r.status>=200&&r.status<300?Promise.resolve(i):Promise.reject(i)}handleError(r){throw r instanceof Q?r:new Q(0,typeof r.message=="string"?r.message.trim():r.message)}getHeaders(r){return{Accept:"application/json","Content-Type":"application/json",...r}}isFetchSupported(){return typeof fetch!="undefined"}canAbortFetch(){return!this.controller&&typeof AbortController!="undefined"&&(this.controller=new AbortController),!!this.controller}};var Ot=D(O());var Fe=class{constructor(){this.streamTypePriorities=[w.HLS,w.DASH,w.Progressive];this.streamTypeManifestTypeMap={[w.HLS]:{primary:C.HlsHD,fallback:C.HlsSD},[w.DASH]:{primary:C.DashHD,fallback:C.DashSD},[w.Progressive]:{primary:C.Progressive,fallback:void 0}};this.logger=A("player.core.manifest.ManifestResolver")}resolve(e,t,i){let n={encryptionTypes:t.encryptionTypes.filter(m=>i.capabilities.encryptionTypes.includes(m)),streamTypes:t.streamTypes.filter(m=>i.capabilities.streamTypes.includes(m))};this.logger.debug("Applicable capabilities found",{applicableCapabilities:n,playerCapabilities:t,clientCapabilities:i.capabilities});let d=[],c=[];for(let m of this.streamTypePriorities){if(this.logger.trace(`Try stream type priority for "${m}"`),!n.streamTypes.includes(m)){this.logger.trace(`Skip unsupported stream type "${m}"`);continue}let y=e.manifests.find(b=>b.type===this.streamTypeManifestTypeMap[m].primary);if(y){this.logger.trace(`Filter primary manifest for "${m}"`);let b=this.filterManifest(y,n,t,i);b?d.push(b):c.push(y)}let h=e.manifests.find(b=>b.type===this.streamTypeManifestTypeMap[m].fallback);if(h){this.logger.trace(`Filter fallback manifest for "${m}"`);let b=this.filterManifest(h,n,t,i);b?d.push(b):c.push(h)}}if(d.length===0)throw c.length>0?new S(u.Error,{message:"Requested DRM key systems not available!",code:Ot.ErrorCodes.NO_DRM_OPTION_AVAILABLE_ANY_MORE,context:{manifests:c,playerCapabilities:t,clientCapabilities:i.capabilities}}):new S(u.Error,{message:"Could not determine a suitable manifest for this client and player combination!",code:Ot.ErrorCodes.NO_MANIFESTS_PLAYABLE});return d}filterManifest(e,t,i,n){let d={...e,licenseServers:(e.licenseServers||[]).filter(c=>t.encryptionTypes.includes(c.encryptionType))};if(e.licenseServers&&e.licenseServers.length>0&&d.licenseServers.length===0){this.logger.debug("Requested DRM key systems not available!",{manifest:e,licenseServers:e.licenseServers,playerCapabilities:i,clientCapabilities:n.capabilities});return}return d}};var _t=D(O());var Ve=class{constructor(){this.logger=A("player.core.manifest.SourceResolver")}resolve(e){let t=e.sources.find(i=>i.priority===ie.Main);if(this.logger.trace("Try main source for manifest",{manifest:e,source:t}),t||(t=e.sources.find(i=>i.priority===ie.Fallback),this.logger.trace("Try fallback source for manifest",{manifest:e,source:t})),!t)throw new S(u.Error,{message:"Could not determine a suitable source from manifest!",code:_t.ErrorCodes.NO_MANIFEST_IN_CONFIG,context:{manifest:e}});if(!t.url)throw new S(u.Error,{message:"Empty manifest given!",code:_t.ErrorCodes.VIDEOSOURCES_CONFIG});return t}};var wr=D(O());var G=class{constructor(e){var t,i;this.id=e.id,this.sessionId=e.sessionId,this.contentId=(t=e.contentId)!=null?t:z(),this.type=e.type,this.autoplayRequested=e.autoplayRequested,this.autoplaySupported=e.autoplaySupported,this.muted=e.muted,this.startTime=e.startTime,this.playbackSpeed=e.playbackSpeed,this.manifest=e.manifest,this.source=e.source,this.ovAudio=(i=e.ovAudio)!=null?i:!0,this.metadata=e.metadata||{}}get autoplay(){return this.autoplayRequested&&this.autoplaySupported}getStreamType(){if([C.HlsHD,C.HlsSD].includes(this.manifest.type))return w.HLS;if([C.DashHD,C.DashSD].includes(this.manifest.type))return w.DASH;if([C.Progressive].includes(this.manifest.type))return w.Progressive;throw new S(u.Error,{message:`Could not determine stream type for manifest type "${this.manifest.type}"!`,code:wr.ErrorCodes.VIDEOSOURCES_CONFIG,context:{manifest:this.manifest}})}};var Dt=(i=>(i.NotYetStarted="NOT_YET_STARTED",i.Started="STARTED",i.Ended="ENDED",i))(Dt||{}),Nt=(i=>(i.NotYetStarted="NOT_YET_STARTED",i.Started="STARTED",i.Ended="ENDED",i))(Nt||{}),It=(t=>(t.NotYetStarted="NOT_YET_STARTED",t.Started="STARTED",t))(It||{});var Ue=class{constructor(e){this.player=e;this.sessionState="NOT_YET_STARTED";this.initiallyStarted=!1;this.mediaLoaded=!1;this.adLoaded=!1;this.readyEventFired=!1;this.autoplaySuccessful=!1;this.addEventListeners(e)}getMedia(){return this.media}isInitiallyStarted(){return this.initiallyStarted}isPlayerReady(){return this.mediaLoaded&&this.adLoaded}wasAutoplaySuccessful(){return this.autoplaySuccessful}async initializePlayout(e){this.media=e,this.mediaLoaded=!1,this.adLoaded=!1,this.readyEventFired=!1,this.setContentState("NOT_YET_STARTED"),this.setMediaState("NOT_YET_STARTED"),await this.loadMedia()}startSession(e){this.setSessionState("STARTED"),this.player.dispatchEvent(new ne(e))}getSessionState(){return this.sessionState}getContentState(){return this.contentState}async loadMedia(){this.media&&(this.player.dispatchEvent(new ae(u.MediaLoad,{mediaId:this.media.id})),await this.player.getPlayerAdapter().load(this.media),this.setContentState("NOT_YET_STARTED"),this.setMediaState("NOT_YET_STARTED"))}async playLoadedMedia(){this.canAutoplay()&&(this.autoplaySuccessful||this.checkAutoplaySuccess(),await this.play())}checkAutoplaySuccess(){var n;let e=((n=this.media)==null?void 0:n.startTime)||0,t=0,i=()=>{let d=this.player.getCurrentTime();t=t+Math.max(d-e,0),t>=2&&(this.autoplaySuccessful=!0,this.player.dispatchEvent(new g(u.AutoplaySuccessful)),this.player.removeEventListener(u.TimeChanged,i)),e=d};this.player.addEventListener(u.TimeChanged,i)}async playLoadedMediaManually(){await this.play()}selectLanguage(){var i,n,d;let e=this.player.getAvailableAudioTracks(),t=(d=(n=(i=e.find(c=>{var m;return c.language===((m=this.player.getMediaConfig())==null?void 0:m.audioLanguage)}))!=null?i:e.find(c=>c.language===this.player.getPlayerConfig().audioLanguage))!=null?n:e.find(c=>c.isMain))!=null?d:void 0;t&&this.player.setAudioTrack(t.id)}selectTextTrack(){var i,n,d,c,m;let e=this.player.getTextTracks(),t=(m=(c=(d=(n=(i=e.find(y=>{var h;return y.language===((h=this.player.getMediaConfig())==null?void 0:h.textTrackLanguage)}))!=null?i:e.find(y=>y.language===this.player.getPlayerConfig().textTrackLanguage))!=null?n:e.find(y=>{var h;return y.language===((h=this.player.getMediaConfig())==null?void 0:h.subtitleLanguage)}))!=null?d:e.find(y=>y.language===this.player.getPlayerConfig().subtitleLanguage))!=null?c:e.find(y=>y.isActive))!=null?m:void 0;t&&this.player.enableTextTrack(t.id)}emitMediaStarted(){this.media&&this.mediaState==="NOT_YET_STARTED"&&(this.setMediaState("STARTED"),this.player.dispatchEvent(new g(u.MediaStarted)))}emitContentStart(){this.media&&this.contentState==="NOT_YET_STARTED"&&!this.isAd()&&(this.setContentState("STARTED"),this.player.dispatchEvent(new g(u.ContentStart)),this.startStallingTimer(3e3))}emitContentEnd(){!this.isAd()&&this.contentState==="STARTED"&&(this.setContentState("ENDED"),this.player.dispatchEvent(new g(u.ContentEnd)))}emitSessionEnd(){!this.isAd()&&this.sessionState==="STARTED"&&this.contentState==="ENDED"&&(this.setSessionState("ENDED"),this.player.dispatchEvent(new g(u.SessionEnd)))}async preparePlayer(){if(this.isPlayerReady())return;let e=this.player.getAdvertisingAdapter(),t=e==null?void 0:e.getAdSlot(0);e&&t&&!t.isInitialised()?await e.initAdSlot(t,!1):this.player.dispatchEvent(new g(T.AdSlotReady))}startStallingTimer(e=2e3){this.clearStallingTimeout(),this.stallingTimeout=setTimeout(()=>{!this.isAd()&&this.contentState==="STARTED"&&this.mediaState==="STARTED"&&this.player.isPlaying()&&(this.player.dispatchEvent(new g(u.StallingFix)),Et()&&this.player.seek(this.player.getCurrentTime()+.1))},e)}clearStallingTimeout(){clearTimeout(this.stallingTimeout),this.stallingTimeout=void 0}setContentState(e){this.contentState=e}setMediaState(e){this.mediaState=e}setSessionState(e){this.sessionState=e}async play(){let e=!1,t=this.player.getAdvertisingAdapter();if(t){let i=t.getCurrentAdSlot();e=t.isAd()&&!(i!=null&&i.isActive()),e&&await t.startAdSlot()}this.media&&(e||await this.player.getPlayerAdapter().play(),this.initiallyStarted=!0)}isAd(){let e=this.player.getAdvertisingAdapter();return(e==null?void 0:e.isAd())||!1}canAutoplay(){return this.media?this.initiallyStarted||this.media.autoplay:!1}emitPlayerReady(){this.readyEventFired||!this.isPlayerReady()||(this.readyEventFired=!0,this.player.dispatchEvent(new g(u.Ready)))}addEventListeners(e){e.addEventListener(T.AdSlotCompleted,()=>{this.emitSessionEnd()}),e.addEventListener(T.AdSlotReady,()=>{this.adLoaded=!0,this.isPlayerReady()&&this.emitPlayerReady()}),e.addEventListener(u.MediaLoaded,async()=>{this.mediaLoaded=!0,this.selectLanguage(),this.selectTextTrack(),await this.preparePlayer()}),e.addEventListener(u.Ready,async()=>{await this.playLoadedMedia(),this.startStallingTimer()}),e.addEventListener(u.PlaybackFinished,()=>{var i;this.emitContentEnd(),((i=e.getAdvertisingAdapter())==null?void 0:i.getAdSlot(-1))||this.emitSessionEnd()}),e.addEventListener(u.Playing,()=>{this.startStallingTimer()}),e.addEventListener(u.StallEnded,()=>{this.startStallingTimer()}),e.addEventListener(u.TimeChanged,()=>{this.emitMediaStarted(),this.emitContentStart(),this.startStallingTimer()})}};function oi(r){return[...r.matchAll(/(\d{2}):(\d{2}):(\d{2}\.\d{3})/g)][0].slice(1).map(parseFloat).reverse().reduce((e,t,i)=>e+t*60**i)}function si(r,e){let t="xywh",[i,n]=e.split("#xywh="),d=r+"/"+i,c=n.split(",").map(parseFloat).reduce((m,y,h)=>{let b=t[h];return m[b]=y,m},{});return{url:d,coords:c}}function di(r){let[e,t]=r.split(" --> ").map(oi);return{start:e,end:t}}var Be=class{constructor(e,t){this.preload=t;this.fetchService=new Z;this.preloadedImages=new Set;let i=new URL(e);i.pathname=i.pathname.split("/").slice(0,-1).join("/"),this.base=i.href,this.thumbnails=this.fetchService.get(e).then(n=>n.getBody()).then(n=>n.split(`

`).slice(1).map(d=>d.split(`
`)).filter(([d,c])=>d&&c).map(([d,c])=>{let m=di(d),y=si(this.base,c);return this.preloadImage(y.url),{range:m,image:y}}))}getThumbnail(e){return this.thumbnails.then(t=>{var i;return(i=t.find(n=>e>=n.range.start&&e<n.range.end))==null?void 0:i.image})}preloadImage(e){if(this.preload&&!this.preloadedImages.has(e)){this.preloadedImages.add(e);let t=new Image;t.src=e}}};var He=class{constructor(e){this.player=e;this.cueEvents=[];this.storedCueEvents=[];e.addEventListener(u.CueEnter,t=>this.onCueEnter(t)),e.addEventListener(u.CueExit,t=>this.onCueExit(t)),e.addEventListener(te.AdSlotStarted,()=>this.removeActiveSubtitles()),e.addEventListener(te.AdSlotCompleted,()=>this.restoreActiveSubtitles())}onCueEnter(e){this.cueEvents.push(e)}onCueExit(e){this.cueEvents=this.cueEvents.filter(t=>e.cueId!=t.cueId)}removeActiveSubtitles(){this.cueEvents.forEach(e=>{this.storedCueEvents.push({...e}),this.player.dispatchEvent(new $(u.CueExit,{cueId:e.cueId}))})}restoreActiveSubtitles(){this.storedCueEvents.forEach(e=>{this.player.dispatchEvent(new $(u.CueEnter,{...e}))})}};var W=D(O());var qe=class{constructor(e){this.player=e;e.addEventListener(u.Error,t=>this.onError(t)),e.addEventListener(T.HomadPenalty,t=>this.onHomadPenalty(t))}async onError(e){await this.handleError(e)}onHomadPenalty(e){this.handleHomadPenalty(e)}handleHomadPenalty(e){let t=new S(u.Error,{code:W.ErrorCodes.ADBLOCKER_DETECTED,name:"HOMAD",originalEvent:e});this.player.dispatchEvent(t)}async handleError(e){let t=e.code===W.ErrorCodes.ADBLOCKER_DETECTED,i=e.code&&e.code>=W.ErrorCodes.FALLBACK_DRM_ERROR&&e.code<W.ErrorCodes.CONTENT,n=e.code&&e.code>=W.ErrorCodes.CONTENT&&e.code<W.ErrorCodes.CLIENT;(t||i||n)&&await this.player.destroy(e)}};var Pr=1,Ye=class{constructor(e){this.player=e,this.contentPlaybackSpeed=e.getPlaybackSpeed(),e.addEventListener(u.MediaLoaded,()=>{this.contentPlaybackSpeed=this.getInitialPlaybackSpeed(),e.setPlaybackSpeed(this.contentPlaybackSpeed)}),e.addEventListener(T.AdSlotStarted,t=>{t.adSlot.getType()!==I.NonLinear&&(this.contentPlaybackSpeed=e.getPlaybackSpeed(),e.setPlaybackSpeed(Pr))}),e.addEventListener(T.AdSlotCompleted,t=>{t.adSlot.getType()!==I.NonLinear&&e.setPlaybackSpeed(this.contentPlaybackSpeed)})}getInitialPlaybackSpeed(){var e,t;return(t=(e=this.player.getMedia())==null?void 0:e.playbackSpeed)!=null?t:Pr}};function li(r){return typeof r=="object"&&r!==null&&"getKey"in r}function Vt(r){return r!==null&&typeof r=="object"&&"getKey"in r&&typeof r.getKey=="function"&&"getPlugin"in r&&typeof r.getPlugin=="function"}var Ft=class{setPlayer(e){this.player=e}};async function pi(r,e){let t=await e||{};Object.entries(t).forEach(([i,n])=>{r.headers={...r.headers,[i]:n}})}var Ut=D(O());async function Cr(r,e,t,i=new Z){let n=ci(e,t),d={timeout:2e3,headers:r},c=null;try{c=await i.get(n,d)}catch(h){let b=`Failed to fetch StUS manifest for ${t.id}`,M=h instanceof Q?h.getStatus():0,E=M>=400&&M<500?Ut.ErrorCodes.STUS_RETURNS_4XX_ERROR:Ut.ErrorCodes.STUS_UNAVAILABLE;throw new S(ve.Error,{message:b,originalEvent:h,code:E,context:{body:h instanceof Q?await h.getBody():void 0}})}let m=await c.getBody(),y=ui(m);return{...t,type:t.type,manifests:y}}function ui(r){return r.map(e=>({type:e.name,licenseServers:e.licenses.map(t=>({address:t.uri.href,encryptionType:t.type.toLowerCase(),certificate:t.certificate})),sources:e.sources.map(t=>({...t,priority:t.priority.toLowerCase()}))}))}function kr(r,e){var i,n,d;return mi(r,e)&&(d=(n=(i=r.streamingURLService)==null?void 0:i[e.type])==null?void 0:n.endpoint)!=null?d:""}function ci(r,e){return r.replace("{mediaId}",e.id||"")}function mi(r,e){var i,n;if(!e.id)return!1;let t=(n=(i=r.streamingURLService)==null?void 0:i[e.type])==null?void 0:n.allowList;return!t||!t.length||t.includes(e.id)}var Bt=()=>"1.39.0";var ye=class{constructor(e){this.log=A("player.core.FoundationPlayer");this.destroyLocks=new Set;this.publicPluginApis=new Map;this.destroyed=!1;this.playerId=e.playerId,this.playerContainer=e.playerContainer;let t=this.getPlayerElement();t.setAttribute("data-foundation-player",""),t.getPlayer=()=>this,this.clientSupport=e.clientSupport,this.playerConfig=e.playerConfig||{},this.playerAdapter=e.playerAdapter,this.autoplayDetection=e.autoplayDetection,this.playerAdapter.setMaxBitrate(this.playerConfig.maxBitrate||{}),this.playerPlugins=e.playerPlugins||[],this.playerPlugins.forEach(n=>{if(Vt(n)){let d=n.getKey();if(d){if(this.publicPluginApis.has(d))throw new S(u.Error,{message:`duplicate plugin name for ${d}`,code:me.ErrorCodes.PLAYER_DEPENDENCY_INVALID});this.publicPluginApis.set(d,n)}}}),this.remoteConfig=e.remoteConfig,this.userConfig=e.userConfig,this.mediaManager=e.mediaManager||new Ue(this),this.errorObserver=new qe(this),this.fetchService=e.fetchService||new Z,this.manifestResolver=new Fe,this.sourceResolver=new Ve,this.playbackSpeedObserver=new Ye(this),this.advertisingSubtitleObserver=new He(this),this.playerPlugins.some(n=>n.beforeWindowUnload)&&(this.beforeUnloadListener=()=>{for(let n of this.playerPlugins)if(n.beforeWindowUnload)try{n.beforeWindowUnload()}catch(d){console.error("beforeWindowUnload hook failed for plugin",n,d)}},window.addEventListener("beforeunload",this.beforeUnloadListener)),this.finalizeInitialization(),this.log.debug("Running Foundation player",{uuid:this.playerId,version:this.getVersion(),rootPlayer:this.playerAdapter.getPlayerType()}),this.log.debug("Initial PlayerConfig:",this.playerConfig)}getPlugin(e){var t;return(t=this.publicPluginApis.get(e))==null?void 0:t.getPlugin()}finalizeInitialization(){let e=new Event(u.PlayerCreated,{bubbles:!0});this.dispatchEvent(e)}getConsent(e){return this.consentCallback?e?Promise.race([this.consentCallback(e),new Promise(t=>setTimeout(t,e))]):this.consentCallback():Promise.resolve(void 0)}setConsentCallback(e){this.consentCallback=e}getAdvertisingAdapter(){return this.advertisingAdapter}setAdvertisingAdapter(e){this.advertisingAdapter=e}getRequestHeader(e){var t;return Promise.resolve((t=this.requestHeaderCallback)==null?void 0:t.call(this,e))}setRequestHeaderCallback(e){this.requestHeaderCallback=e,this.playerAdapter.setRequestHeaderCallback(e)}async loadMedia(e){var t,i,n;try{if(this.destroyed)throw new S(u.Error,{message:"This player was destroyed and must not be used anymore!",code:me.ErrorCodes.PLAYER_ALREADY_DESTROYED});let d=performance.now();await this.unloadPlayer(),this.listenOnce(u.MediaLoaded,()=>{let E=performance.now();this.dispatchEvent(new V("metric:MediaLoad",{start:d,end:E}))}),this.log.debug("Initial MediaConfig:",e);let c=await this.resolveMediaConfig(e);this.playbackSession={id:z(),mediaConfig:c,contentSources:[],adSlots:((t=c.advertising)==null?void 0:t.slots)||[]},await Promise.all(this.playerPlugins.map(async E=>{if(E.setupSession)try{await E.setupSession()}catch(j){this.log.error("Setup session hook failed for plugin",{plugin:E,error:j})}}));let m=this.playerAdapter.getCapabilities(),y=this.getClientSupport(),h=this.manifestResolver.resolve(c,m,y),b;(i=c.thumbnails)!=null&&i.url&&(b=new Be(c.thumbnails.url,c.thumbnails.preload));let M=await this.createContentSources(h);this.playbackSession={...this.playbackSession,thumbnails:b,contentSources:M},await((n=this.advertisingAdapter)==null?void 0:n.onLoadMedia(this.playbackSession.adSlots)),this.mediaManager.startSession(this.playbackSession.id),await this.initializePlayout(this.playbackSession.contentSources[0])}catch(d){let m=d&&typeof d=="object"&&"type"in d&&d.type===u.Error?d:new S(u.Error,{code:me.ErrorCodes.ERROR_NOT_TREATED,message:"Load media has thrown a non foundation error!",originalEvent:d});throw this.dispatchEvent(m),m}}async createContentSources(e){var y,h,b,M,E,j,K;if(!this.playbackSession)return[];let t=this.playbackSession.mediaConfig,i=(h=(y=t.autoplay)!=null?y:this.playerConfig.autoplay)!=null?h:!1,n=(M=(b=t.muted)!=null?b:this.playerConfig.muted)!=null?M:!1,d=(j=(E=t.playbackSpeed)!=null?E:this.playerConfig.playbackSpeed)!=null?j:1,c=await this.isAutoplaySupported(i,n),m=[];for(let ge of e){let _=this.sourceResolver.resolve(ge),ze=new G({sessionId:this.playbackSession.id,id:t.id,type:t.type,autoplayRequested:i,autoplaySupported:c,muted:n,startTime:(K=t.startTime)!=null?K:0,playbackSpeed:d,manifest:ge,source:_,metadata:t.metadata});m.push(ze)}return m}isAutoplaySupported(e,t){return this.mediaManager.isInitiallyStarted()?Promise.resolve(!0):this.autoplayDetection.isAutoplaySupported(this.getVideoElement(),e,t)}async resolveMediaConfig(e){"manifest"in e&&e.manifest&&this.transformManifestConfig(e);let t=kr(this.playerConfig,e),i=!!t;if(i){let d=await this.getRequestHeader(he.DRM);e=await Cr(d,t,e,this.fetchService)}let n=e;if(!n.manifests||!n.type||!Array.isArray(n.manifests)||n.manifests.length===0)throw new S(u.Error,{message:"Either manifests or type were not provided in the media config",code:me.ErrorCodes.NO_MANIFEST_IN_CONFIG,context:{stus:{shouldUse:i,resolvedUrl:t,mediaId:e.id,mediaType:e.type,config:this.playerConfig.streamingURLService},mediaConfig:e}});return n}async initializePlayout(e){this.log.debug("Initializing playout with media",e),e.autoplayRequested&&!e.autoplaySupported&&await this.isAutoplaySupported(!0,e.muted)&&(e=new G({...e,autoplaySupported:!0}));for(let t of this.playerPlugins)if(t.prepareMediaSource){let i=await t.prepareMediaSource(e);i!==e.source&&(this.log.debug('A plugin patched the media source through "prepareMediaSource" hook',{previousSource:e.source,newSource:i,plugin:t}),e=new G({...e,source:i}))}for(let t of this.playerPlugins)if(t.beforeLoadMedia){let i=await t.beforeLoadMedia(e);i!==e&&(this.log.debug('A plugin patched the media through "beforeLoadMedia" hook',{media:e,newMedia:i,plugin:t}),e=i)}return this.isAndroidChromiumVersion122OrAbove()||this.listenOnce(u.TimeChanged,()=>{var t;(t=this.getVideoElement())==null||t.removeAttribute("poster")}),this.mediaManager.initializePlayout(e)}getThumbnail(e){var t,i;return Promise.resolve((i=(t=this.playbackSession)==null?void 0:t.thumbnails)==null?void 0:i.getThumbnail(e))}transformManifestConfig(e){let t=C.Progressive;e.manifest.endsWith(".mpd")?t=C.DashSD:e.manifest.endsWith(".m3u8")&&(t=C.HlsSD),e.type||(e.type=F.VOD),e.manifests=[{type:t,sources:[{url:e.manifest,priority:ie.Main}]}]}async play(){if(!this.mediaManager.isInitiallyStarted()){let e=performance.now();this.listenOnce(u.TimeChanged,()=>{let t=performance.now();this.dispatchEvent(new V("metric:MediaPlay",{start:e,end:t}))})}this.getActiveAdSlot(!0)?await this.advertisingAdapter.resumeAd():await this.mediaManager.playLoadedMediaManually()}async pause(){this.getActiveAdSlot(!0)?await this.advertisingAdapter.pauseAd():this.playerAdapter.pause()}isPlaying(){var t;let e=(t=this.advertisingAdapter)==null?void 0:t.getCurrentAdSlot();return e!=null&&e.isActive()&&e.getType()!==I.NonLinear?!this.advertisingAdapter.getAdPlayer().isPaused():this.playerAdapter.isPlaying()}async mute(){this.getActiveAdSlot(!0)&&await this.advertisingAdapter.getAdPlayer().mute(),this.playerAdapter.mute()}async unmute(){this.getActiveAdSlot(!0)&&await this.advertisingAdapter.getAdPlayer().unmute(),this.playerAdapter.unmute()}isMuted(){return this.getActiveAdSlot(!0)?this.advertisingAdapter.getAdPlayer().isMuted():this.playerAdapter.isMuted()}getVolume(){return this.getActiveAdSlot(!0)?this.advertisingAdapter.getAdPlayer().getVolume():this.playerAdapter.getVolume()}async setVolume(e){let t=Math.min(Math.max(e,0),1);this.getActiveAdSlot(!0)&&await this.advertisingAdapter.getAdPlayer().setVolume(t),this.playerAdapter.setVolume(t)}getCurrentTime(e=!1){return this.getActiveAdSlot(!0)?this.advertisingAdapter.getAdPlayer().getCurrentTime():this.playerAdapter.getCurrentTime(e)}isLive(){return this.playerAdapter.isLive()}getVersion(){return Bt()}isSupportedPlatform(){return this.playerAdapter.isSupportedPlatform()}seek(e){this.getActiveAdSlot()||this.playerAdapter.seek(e)}isSupportedDRMPlatform(){return Promise.resolve(this.playerAdapter.isSupportedDRMPlatform())}getDuration(e="current_playing"){return e==="current_playing"&&this.getActiveAdSlot(!0)?this.advertisingAdapter.getAdPlayer().getDuration()||0:this.playerAdapter.getDuration()}canAutoplay(){return this.mediaManager.canAutoplay()}isFullscreen(){return this.playerContainer.isFullscreen()}getPlaybackSpeed(){return this.playerAdapter.getPlaybackSpeed()}setPlaybackSpeed(e){this.playerAdapter.setPlaybackSpeed(e)}isPlayerReady(){return this.mediaManager.isPlayerReady()||!1}async unload(){await this.playerAdapter.unload(),this.dispatchEvent(new g(u.SourceUnloaded))}isPlayerAvailable(){return this.playerAdapter.isPlayerAvailable()}getMediaURL(){return this.playerAdapter.getMediaURL()}getAvailableVideoTracks(){return this.playerAdapter.getAvailableVideoTracks()}getActiveVideoTrack(){return this.playerAdapter.getActiveVideoTrack()}getCurrentBitrate(){var e;return(e=this.getActiveVideoTrack())==null?void 0:e.bitrate}setMaxBitrate(e){this.playerAdapter.setMaxBitrate(e)}getMaxBitrate(){return this.playerAdapter.getMaxBitrate()}getAvailableAudioTracks(){var t;if((t=this.mediaManager.getMedia())!=null&&t.ovAudio)return this.playerAdapter.getAvailableAudioTracks();let e=this.playerAdapter.getAvailableAudioTracks().filter(i=>i.language==="de");return e.length===0?this.playerAdapter.getAvailableAudioTracks():e}getActiveAudioTrack(){return this.playerAdapter.getActiveAudioTrack()}setAudioTrack(e){this.playerAdapter.setAudioTrack(e)}enableTextTrack(e){this.playerAdapter.enableTextTrack(e)}disableTextTrack(){this.playerAdapter.disableTextTrack()}getTextTracks(){return this.playerAdapter.getTextTracks()}getActiveTextTrack(){return this.playerAdapter.getActiveTextTrack()}enableSubtitle(e){this.enableTextTrack(e)}disableSubtitle(){this.disableTextTrack()}getSubtitles(){return this.getTextTracks()}getActiveSubtitles(){return this.getActiveTextTrack()}getPlayerAdapter(){return this.playerAdapter}getVideoElement(){return this.playerAdapter.getVideoElement()}addEventListener(e,t){return this.playerContainer.addEventListener(e,t)}removeEventListener(e,t){this.playerContainer.removeEventListener(e,t)}listenOnce(e,t){let i=n=>{t(n),this.removeEventListener(e,i)};this.addEventListener(e,i)}dispatchEvent(e){return this.playerContainer.dispatchEvent(e)}isDestroyable(){return this.destroyLocks.size===0}isDestroyed(){return this.destroyed}addDestroyLock(e){this.destroyLocks.add(e)}getDestroyLocks(){return Array.from(this.destroyLocks)}hasDestroyLock(e){return this.destroyLocks.has(e)}removeDestroyLock(e){this.destroyLocks.delete(e)}getPlayerElement(){return this.playerContainer.getPlayerElement()}getPlayerConfig(){return this.playerConfig}getMediaConfig(){var e;return(e=this.playbackSession)==null?void 0:e.mediaConfig}async destroy(e="client",t=!1){var i,n;if(this.isDestroyed())return!0;if(!this.isDestroyable()&&!t)return!1;if((i=this.advertisingAdapter)!=null&&i.isAd())try{await this.advertisingAdapter.stopAdSlot("player was destroyed while ad was running")}catch(d){this.log.error("stopAdSlot during destroy failed:",d)}this.dispatchEvent(new X(u.Destroy,{cause:e})),this.beforeUnloadListener&&(window.removeEventListener("beforeunload",this.beforeUnloadListener),this.beforeUnloadListener=void 0),(n=this.advertisingAdapter)==null||n.destroy();try{await this.playerAdapter.destroy(e)}catch(d){this.log.error("destroying playerAdapter failed:",d)}return this.playerContainer.destroy(),this.destroyed=!0,this.dispatchEvent(new X(u.Destroyed,{cause:e})),!0}async unloadPlayer(){var e;if((e=this.advertisingAdapter)!=null&&e.isAd())try{await this.advertisingAdapter.stopAdSlot("content was loaded while ad was running")}catch(t){this.log.error("stopAdSlot during unloadPlayer failed:",t)}}getId(){return this.playerId}getBufferedSeconds(){return this.playerAdapter.getBufferedSeconds()}getActiveAdSlot(e=!1){if(!this.advertisingAdapter||!this.advertisingAdapter.isAd())return;let t=this.advertisingAdapter.getCurrentAdSlot();if(t&&!(e&&t.getType()===I.NonLinear))return t.isActive()?t:void 0}getLoaderConfig(){return this.userConfig}getRemoteConfig(){return this.remoteConfig}getClientSupport(){return this.clientSupport}getMedia(){return this.mediaManager.getMedia()}getPlaybackSession(){return this.playbackSession}setMetadata(e){this.dispatchEvent(new oe(e))}isAndroidChromiumVersion122OrAbove(){if(!gr()||!fr())return!1;let e=yr();return Number(e.split(".")[0])>=122}};async function yi(r,e,t,i,n){let d=A("player.core.createPlayer");if(!r.createAdapter)throw new S(u.Error,{message:"No root player specified",code:Ht.ErrorCodes.PLAYER_DEPENDENCY_MISSING});if(!e)throw new S(u.Error,{message:"Invalid player options",code:Ht.ErrorCodes.PLAYERCONFIG_PROBLEM});let c=performance.now(),{playerConfig:m,playerPlugins:y=[]}=e,h=z(),b=m||{};b.forceOneVideoElement||(b.forceOneVideoElement=bt());for(let _ of y)_.beforeCreate&&(b=await _.beforeCreate(b,h));let M=await r.createAdapter(n,b,h,y),E=br(),j=await Ar(n.getVideoElement()),K=new ye({playerAdapter:M,playerContainer:n,playerPlugins:y,playerConfig:b,playerId:h,autoplayDetection:E,clientSupport:j,userConfig:t,remoteConfig:i});await Promise.all(y.map(async _=>{if(_.setPlayer(K),_.playerInitialized)try{await _.playerInitialized()}catch(ze){d.error("Player initialized hook failed for plugin",{plugin:_,error:ze})}}));let ge=performance.now();return K.dispatchEvent(new V("metric:PlayerCreation",{start:c,end:ge})),K}function gi(r){if(!r)return{};let e=fi(r),t=vi(e||"");return{responseText:e,response:t}}function fi(r){try{return new TextDecoder("utf-8").decode(r)}catch(e){return}}function vi(r){try{return JSON.parse(r)}catch(e){return}}function Mr(r,e){let{isTrusted:t,type:i,...n}=e;return Object.assign(r,n)}function hi(r,e,t,i=!0){let n=A("player.core.eventMapper");if(!(t!=null&&t.type)){n.isLoggingActiveForLevel(re.Trace)&&n.trace(`Unknown event can not be mapped: ${JSON.stringify(t,null,2)}`);return}let d=e[t.type];if(!d){n.isLoggingActiveForLevel(re.Trace)&&n.trace(`Mapping does not exist for : ${t.type}`);return}return typeof d=="string"?i?new g(d,{originalEvent:t}):Mr(new Event(d),t):d(t,r)}var bi=r=>r===F.VOD,Ei=r=>r===F.Live||r===F.Event||r===F.FAST||r==F.Radio;var Si=r=>{let t=new DOMParser().parseFromString(r,"application/xml");return t.getElementsByTagName("MPD").length>0?t:void 0},qt=(r,e)=>{let t=e.getElementsByTagName(r);return Array.from(t)},Lr=(r,e)=>qt(r,e)[0],ee=(r,e)=>{var t;return(t=r.getAttribute(e))!=null?t:void 0},Ti=(r,e)=>e.map(t=>[t,ee(r,t)]).filter(t=>t[1]!==void 0),xr=r=>{var e;return(e=r.textContent)!=null?e:""},Rr=({tagName:r,attribute:e,node:t})=>qt(r,t).map(i=>[i,ee(i,e)]),Yt=(r,e)=>Rr({tagName:"AdaptationSet",attribute:"contentType",node:r}).filter(([t,i])=>i===e).map(([t,i])=>t),Ai=r=>Yt(r,"audio"),wi=r=>Yt(r,"text"),Pi=r=>{var e;return(e=ee(r,"lang"))!=null?e:""},Ci=r=>{let e=ee(r,"mimeType")||"",t=ee(r,"id")||"",i=Lr("Label",r),n=i!==void 0?xr(i):"";return ki(t,e,n)},ki=(r,e,t)=>e!==""&&r!==""?[`${e}-${r}`,t]:void 0,Mi={fromString:Si,getAllNodes:qt,getFirstNode:Lr,getAttribute:ee,getAttributes:Ti,getText:xr,getAllNodesWithAttribute:Rr,getAllAdaptationSetsWithContentType:Yt,getAllAudioTracks:Ai,getAllTextTracks:wi,getLanguageCode:Pi,getLanguageLabel:Ci};var B=D(O());function Li(r){return r.includes("The request is not allowed by the user agent or the platform")||r.includes("play() can only be initiated by a user gesture")||r.includes("The operation is not supported")||r.includes("The play() request was interrupted because a pause was requested by the browser")||r.includes("The play method is not allowed by the user agent")||r.includes("play() failed because the user didn't interact with the document first")?B.ErrorCodes.MISSING_USER_INTERACTION:r.includes("The operation was aborted")?B.ErrorCodes.OPERATION_ABORTED:r.includes("The play() request was interrupted by a call to pause()")||r.includes("The play() request was interrupted because a pause was requested by the user")?B.ErrorCodes.OPERATION_ABORTED_PLAY:r.includes("The fetching process for the media resource was aborted by the user agent at the user's request")||r.includes("The play() request was interrupted by a new load request")?B.ErrorCodes.OPERATION_ABORTED_LOAD:r.includes("The play() request was interrupted because video-only background media was paused to save power")?B.ErrorCodes.OPERATION_ABORTED_POWER_SAVING:r.includes("The play() request was interrupted because the media was removed from the document")?B.ErrorCodes.OPERATION_ABORTED_VIDEO_REMOVED:B.ErrorCodes.ERROR_NOT_TREATED}return Vr(xi);})();

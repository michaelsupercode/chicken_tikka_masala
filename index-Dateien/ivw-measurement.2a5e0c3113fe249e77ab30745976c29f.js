(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,i||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==e(i)?i:String(i)}function i(e,i){for(var n=0;n<i.length;n++){var a=i[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t(a.key),a)}}function n(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function a(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,n(e,t,"get"))}function r(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,n(e,t,"set"),i),i}Object.freeze({S:"mobile",M:"tablet",L:"desktop"}),Object.freeze({disqus:"5edcd338e9f29f59f3145eb5",facebook:"5f058a3252874c10f6723b3b",instagram:"5e717c8e69966540e4554f05",ivw:"5efefe25b8e05c065164a2e2",pinterest:"5e839a38b8e05c4e491e738e",rewe:"61543ab9cadf5705ef20368d",riddle:"5ef0df6ffabc265f5650e743",sovendus:"5f2bd972f66f0125e264ae21",tracdelight:"5e77acddd8d48d795087425b",twitter:"5e71760b69966540e4554f01",youtube:"5e7ac3fae30e7d1bc1ebf5e8"});var o=Object.freeze({XS:0,S:415,M:641,L:1001,XL:1280,XXL:1900});function s(e,t){d(e,t),t.add(e)}function c(e,t,i){d(e,t),t.set(e,i)}function d(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var f=new WeakMap,h=new WeakMap,u=new WeakMap,v=new WeakSet,b=new WeakSet,p=new WeakSet,g=new WeakMap,w=new WeakMap,m=new WeakMap,y=new WeakMap,k=function(){function e(t){var i,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,p),s(this,b),s(this,v),c(this,f,{writable:!0,value:void 0}),c(this,h,{writable:!0,value:void 0}),c(this,u,{writable:!0,value:void 0}),c(this,g,{writable:!0,value:function(e){var t=e.count,i=e.element,a=e.index,r=e.isEmbeddedGallery,s=void 0!==r&&r;if(0!==t||0!==a)if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<o.L){if(!i||i.dataset.hasIvwTracked||0===a&&!s)return;s||(i.dataset.hasIvwTracked="true"),l(n,v,O).call(n)}else l(n,v,O).call(n)}}),c(this,w,{writable:!0,value:function(){l(n,v,O).call(n)}}),c(this,m,{writable:!0,value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).frequency;(void 0===e?{}:e).tracking&&l(n,v,O).call(n)}}),c(this,y,{writable:!0,value:function(e){"play:initial"===e.action&&!a(n,f).config.get("page.doAutoplayLeadContent")&&(a(n,f).log.info("Tracking","Fire manual video page pi"),l(n,v,O).call(n,e))}}),r(this,f,t),r(this,u,window.IOMm),r(this,h,(i=a(this,f).deviceDetection.isMobile,a(this,f).config.get("page.isPrintView")?window.screen.width<o.M||i:Math.max(document.documentElement.clientWidth,window.innerWidth||0)<o.M||i))}var t,n,d;return t=e,(n=[{key:"init",value:function(){l(this,p,S).call(this)&&(l(this,b,M).call(this),a(this,f).log.info("Tracking","Is in app? ".concat(a(this,f).deviceDetection.isInApp?"true":"false")))}}])&&i(t.prototype,n),d&&i(t,d),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){if(l(this,p,S).call(this)){var t,i,n,r,o,s,c,d="play:initial"===(null==e?void 0:e.action),v=(t=a(this,f).config.get("tracking.ivw.cpSuffix"),i=a(this,f).config.get("advertising.zone"),n=a(this,f).config.get("tracking.ivw.topic"),r=a(this,h)?"mobile":"desktop",o=a(this,f).config.get("page.isUserGeneratedContent"),s=d,c=a(this,f).config.get("page.isPaidContent"),["".concat(i,"//").concat(c?"p":"f"),"mobile"===r?[2]:"desktop"===r?[1]:[2,1],"D".concat(s?"V":"B").concat(o?"U":"R","-").concat(n).concat(t?"-".concat(t):"")].join(""));a(this,f).log.info("Tracking","Track page view with st '",a(this,f).config.get("tracking.ivw.st"),"' and cp '",a(this,f).config.get("tracking.ivw.cp"),"'"),a(this,u).call(this,"pageview",{cp:v})}}function M(){a(this,f).eventObserver.add("app:adreload-pi",l(this,v,O).bind(this)),a(this,f).eventObserver.add("page:back-forward-cache",l(this,v,O).bind(this)),a(this,f).eventObserver.add("device:orientation-change",l(this,v,O).bind(this)),a(this,f).eventObserver.add("forum:interaction",l(this,v,O).bind(this)),a(this,f).eventObserver.add("group-gallery:intersect:item",a(this,g).bind(this)),a(this,f).eventObserver.add("group-gallery:navigate",a(this,w).bind(this)),a(this,f).eventObserver.add("link-toc:click",l(this,v,O).bind(this)),a(this,f).eventObserver.add("message:tracking",a(this,m).bind(this)),a(this,f).eventObserver.add("plant-meta:click",l(this,v,O).bind(this)),a(this,f).eventObserver.add("tool:pi",l(this,v,O).bind(this)),a(this,f).eventObserver.add("video:event",a(this,y).bind(this)),a(this,f).eventObserver.add("x-clamp:change",l(this,v,O).bind(this))}function S(){return"function"==typeof a(this,u)||(a(this,f).log.warn("Tracking","No ivw measurement tracking possible, because window.IOM is not present."),!1)}var W=window.gujService;W&&!W.isAlreadyExecuted("file:///usr/src/app/client/site/partials/tracking-ivw/scripts/ivw-measurement.js")&&new k(W).init()})();